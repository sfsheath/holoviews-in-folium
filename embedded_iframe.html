<!DOCTYPE html>
<head>    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script>L_PREFER_CANVAS = false; L_NO_TOUCH = false; L_DISABLE_3D = false;</script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.2.0/dist/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.2.0/dist/leaflet.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css" />
    <link rel="stylesheet" href="https://rawgit.com/python-visualization/folium/master/folium/templates/leaflet.awesome.rotate.css" />
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    
            <style> #map_69ad4b6db8094a879ee84b263615b2cf {
                position : relative;
                width : 100.0%;
                height: 100.0%;
                left: 0.0%;
                top: 0.0%;
                }
            </style>
        
</head>
<body>    
    
            <div class="folium-map" id="map_69ad4b6db8094a879ee84b263615b2cf" ></div>
        
</body>
<script>    
    

            
                var bounds = null;
            

            var map_69ad4b6db8094a879ee84b263615b2cf = L.map(
                                  'map_69ad4b6db8094a879ee84b263615b2cf',
                                  {center: [42,13],
                                  zoom: 4,
                                  maxBounds: bounds,
                                  layers: [],
                                  worldCopyJump: false,
                                  crs: L.CRS.EPSG3857
                                 });
            
        
    
            var tile_layer_aa245c51758c48008e0fac665ad234ba = L.tileLayer(
                'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
                {
  "attribution": null,
  "detectRetina": false,
  "maxZoom": 18,
  "minZoom": 1,
  "noWrap": false,
  "subdomains": "abc"
}
                ).addTo(map_69ad4b6db8094a879ee84b263615b2cf);
        
    
            var circle_marker_d9b32ec2981448b398d8126bdd5967f5 = L.circleMarker(
                [41.890169,12.492269],
                {
  "bubblingMouseEvents": true,
  "color": "red",
  "dashArray": null,
  "dashOffset": null,
  "fill": true,
  "fillColor": "red",
  "fillOpacity": 0.2,
  "fillRule": "evenodd",
  "lineCap": "round",
  "lineJoin": "round",
  "opacity": 1.0,
  "radius": 5,
  "stroke": true,
  "weight": 3
}
                ).addTo(map_69ad4b6db8094a879ee84b263615b2cf);
            
    
            var popup_bb11356405a246289872bb31a9083115 = L.popup({maxWidth: '2650'});

            
                var i_frame_eb3b3fe4aa49472994ba410001e45279 = $('<iframe src="data:text/html;charset=utf-8;base64,CiAgICAKPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC13aWRnZXRzLTAuMTIuMTUubWluLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4ucHlkYXRhLm9yZy9ib2tlaC9yZWxlYXNlL2Jva2VoLXRhYmxlcy0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC1nbC0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuNC5taW4uanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+CjxzY3JpcHQgc3JjPSJodHRwczovL2NvZGUuanF1ZXJ5LmNvbS91aS8xLjEwLjQvanF1ZXJ5LXVpLm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3JlcXVpcmUuanMvMi4xLjIwL3JlcXVpcmUubWluLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvdW5kZXJzY29yZS5qcy8xLjguMy91bmRlcnNjb3JlLW1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPmZ1bmN0aW9uIEhvbG9WaWV3c1dpZGdldCgpIHsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5pbml0X3NsaWRlciA9IGZ1bmN0aW9uKGluaXRfdmFsKXsKICBpZih0aGlzLmxvYWRfanNvbikgewogICAgdGhpcy5mcm9tX2pzb24oKQogIH0gZWxzZSB7CiAgICB0aGlzLnVwZGF0ZV9jYWNoZSgpOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5wb3B1bGF0ZV9jYWNoZSA9IGZ1bmN0aW9uKGlkeCl7CiAgdGhpcy5jYWNoZVtpZHhdLmlubmVySFRNTCA9IHRoaXMuZnJhbWVzW2lkeF07CiAgaWYgKHRoaXMuZW1iZWQpIHsKICAgIGRlbGV0ZSB0aGlzLmZyYW1lc1tpZHhdOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5wcm9jZXNzX2Vycm9yID0gZnVuY3Rpb24obXNnKXsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5mcm9tX2pzb24gPSBmdW5jdGlvbigpIHsKICB2YXIgZGF0YV91cmwgPSB0aGlzLmpzb25fcGF0aCArIHRoaXMuaWQgKyAnLmpzb24nOwogICQuZ2V0SlNPTihkYXRhX3VybCwgJC5wcm94eShmdW5jdGlvbihqc29uX2RhdGEpIHsKICAgIHRoaXMuZnJhbWVzID0ganNvbl9kYXRhOwogICAgdGhpcy51cGRhdGVfY2FjaGUoKTsKICAgIHRoaXMudXBkYXRlKDApOwogIH0sIHRoaXMpKTsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5keW5hbWljX3VwZGF0ZSA9IGZ1bmN0aW9uKGN1cnJlbnQpewogIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHsKICAgIHJldHVybgogIH0KICB0aGlzLmN1cnJlbnQgPSBjdXJyZW50OwogIGlmICh0aGlzLmNvbW0pIHsKICAgIHZhciBtc2cgPSB7Y29tbV9pZDogdGhpcy5pZCsnX2NsaWVudCcsIGNvbnRlbnQ6IGN1cnJlbnR9CiAgICB0aGlzLmNvbW0uc2VuZChtc2cpOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS51cGRhdGVfY2FjaGUgPSBmdW5jdGlvbihmb3JjZSl7CiAgdmFyIGZyYW1lX2xlbiA9IE9iamVjdC5rZXlzKHRoaXMuZnJhbWVzKS5sZW5ndGg7CiAgZm9yICh2YXIgaT0wOyBpPGZyYW1lX2xlbjsgaSsrKSB7CiAgICBpZighdGhpcy5sb2FkX2pzb24gfHwgdGhpcy5keW5hbWljKSAgewogICAgICB2YXIgZnJhbWUgPSBPYmplY3Qua2V5cyh0aGlzLmZyYW1lcylbaV07CiAgICB9IGVsc2UgewogICAgICB2YXIgZnJhbWUgPSBpOwogICAgfQogICAgaWYoIShmcmFtZSBpbiB0aGlzLmNhY2hlKSB8fCBmb3JjZSkgewogICAgICBpZiAoKGZyYW1lIGluIHRoaXMuY2FjaGUpICYmIGZvcmNlKSB7IHRoaXMuY2FjaGVbZnJhbWVdLnJlbW92ZSgpIH0KICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB2YXIgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIl9hbmltX2ltZyIrdGhpcy5pZCk7CiAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZGl2KQogICAgICB0aGlzLmNhY2hlW2ZyYW1lXSA9IGRpdjsKICAgICAgdmFyIGNhY2hlX2lkID0gIl9hbmltX2ltZyIrdGhpcy5pZCsiXyIrZnJhbWU7CiAgICAgIHRoaXMucG9wdWxhdGVfY2FjaGUoZnJhbWUpOwogICAgfQogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjdXJyZW50KXsKICBpZihjdXJyZW50IGluIHRoaXMuY2FjaGUpIHsKICAgIGZvciAodmFyIGluZGV4IGluIHRoaXMuY2FjaGUpIHsKICAgICAgdGhpcy5jYWNoZVtpbmRleF0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0KICAgIHRoaXMuY2FjaGVbY3VycmVudF0uc3R5bGUuZGlzcGxheSA9ICIiOwogICAgdGhpcy53YWl0ID0gZmFsc2U7CiAgfQp9CgpIb2xvVmlld3NXaWRnZXQucHJvdG90eXBlLmluaXRfY29tbXMgPSBmdW5jdGlvbigpIHsKICB2YXIgdGhhdCA9IHRoaXMKICBIb2xvVmlld3MuY29tbV9tYW5hZ2VyLnJlZ2lzdGVyX3RhcmdldCh0aGlzLnBsb3RfaWQsIHRoaXMuaWQsIGZ1bmN0aW9uIChtc2cpIHsgdGhhdC5wcm9jZXNzX21zZyhtc2cpIH0pCiAgaWYgKCF0aGlzLmNhY2hlZCB8fCB0aGlzLmR5bmFtaWMpIHsKICAgIGZ1bmN0aW9uIGFja19jYWxsYmFjayhtc2cpIHsKICAgICAgbXNnID0gSlNPTi5wYXJzZShtc2cuY29udGVudC5kYXRhKTsKICAgICAgdmFyIGNvbW1faWQgPSBtc2dbImNvbW1faWQiXQogICAgICB2YXIgY29tbV9zdGF0dXMgPSBIb2xvVmlld3MuY29tbV9zdGF0dXNbY29tbV9pZF07CiAgICAgIGlmICh0aGF0LnF1ZXVlLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGF0LnRpbWUgPSBEYXRlLm5vdygpOwogICAgICAgIHRoYXQuZHluYW1pY191cGRhdGUodGhhdC5xdWV1ZVt0aGF0LnF1ZXVlLmxlbmd0aC0xXSk7CiAgICAgICAgdGhhdC5xdWV1ZSA9IFtdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoYXQud2FpdCA9IGZhbHNlOwogICAgICB9CiAgICAgIGlmICgobXNnLm1zZ190eXBlID09ICJSZWFkeSIpICYmIG1zZy5jb250ZW50KSB7CiAgICAgICAgY29uc29sZS5sb2coIlB5dGhvbiBjYWxsYmFjayByZXR1cm5lZCBmb2xsb3dpbmcgb3V0cHV0OiIsIG1zZy5jb250ZW50KTsKICAgICAgfSBlbHNlIGlmIChtc2cubXNnX3R5cGUgPT0gIkVycm9yIikgewogICAgICAgIGNvbnNvbGUubG9nKCJQeXRob24gZmFpbGVkIHdpdGggdGhlIGZvbGxvd2luZyB0cmFjZWJhY2s6IiwgbXNnWyd0cmFjZWJhY2snXSkKICAgICAgfQogICAgfQogICAgdmFyIGNvbW0gPSBIb2xvVmlld3MuY29tbV9tYW5hZ2VyLmdldF9jbGllbnRfY29tbSh0aGlzLnBsb3RfaWQsIHRoaXMuaWQrJ19jbGllbnQnLCBhY2tfY2FsbGJhY2spOwogICAgcmV0dXJuIGNvbW0KICB9Cn0KCkhvbG9WaWV3c1dpZGdldC5wcm90b3R5cGUucHJvY2Vzc19tc2cgPSBmdW5jdGlvbihtc2cpIHsKfQoKZnVuY3Rpb24gU2VsZWN0aW9uV2lkZ2V0KGZyYW1lcywgaWQsIHNsaWRlcl9pZHMsIGtleU1hcCwgZGltX3ZhbHMsIG5vdEZvdW5kLCBsb2FkX2pzb24sIG1vZGUsIGNhY2hlZCwganNvbl9wYXRoLCBkeW5hbWljLCBwbG90X2lkKXsKICB0aGlzLmZyYW1lcyA9IGZyYW1lczsKICB0aGlzLmlkID0gaWQ7CiAgdGhpcy5wbG90X2lkID0gcGxvdF9pZDsKICB0aGlzLnNsaWRlcl9pZHMgPSBzbGlkZXJfaWRzOwogIHRoaXMua2V5TWFwID0ga2V5TWFwCiAgdGhpcy5jdXJyZW50X2ZyYW1lID0gMDsKICB0aGlzLmN1cnJlbnRfdmFscyA9IGRpbV92YWxzOwogIHRoaXMubG9hZF9qc29uID0gbG9hZF9qc29uOwogIHRoaXMubW9kZSA9IG1vZGU7CiAgdGhpcy5ub3RGb3VuZCA9IG5vdEZvdW5kOwogIHRoaXMuY2FjaGVkID0gY2FjaGVkOwogIHRoaXMuZHluYW1pYyA9IGR5bmFtaWM7CiAgdGhpcy5jYWNoZSA9IHt9OwogIHRoaXMuanNvbl9wYXRoID0ganNvbl9wYXRoOwogIHRoaXMuaW5pdF9zbGlkZXIodGhpcy5jdXJyZW50X3ZhbHNbMF0pOwogIHRoaXMucXVldWUgPSBbXTsKICB0aGlzLndhaXQgPSBmYWxzZTsKICBpZiAoIXRoaXMuY2FjaGVkIHx8IHRoaXMuZHluYW1pYykgewogICAgdGhpcy5jb21tID0gdGhpcy5pbml0X2NvbW1zKCk7CiAgfQp9CgpTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlID0gbmV3IEhvbG9WaWV3c1dpZGdldDsKCgpTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlLmdldF9rZXkgPSBmdW5jdGlvbihjdXJyZW50X3ZhbHMpIHsKICB2YXIga2V5ID0gIigiOwogIGZvciAodmFyIGk9MDsgaTx0aGlzLnNsaWRlcl9pZHMubGVuZ3RoOyBpKyspCiAgewogICAgdmFyIHZhbCA9IHRoaXMuY3VycmVudF92YWxzW2ldOwogICAgaWYgKCEodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpKSB7CiAgICAgIGlmICh2YWwgJSAxID09PSAwKSB7IHZhbCA9IHZhbC50b0ZpeGVkKDEpOyB9CiAgICAgIGVsc2UgeyB2YWwgPSB2YWwudG9GaXhlZCgxMCk7IHZhbCA9IHZhbC5zbGljZSgwLCB2YWwubGVuZ3RoLTEpO30KICAgIH0KICAgIGtleSArPSAiJyIgKyB2YWwgKyAiJyI7CiAgICBpZihpICE9IHRoaXMuc2xpZGVyX2lkcy5sZW5ndGgtMSkgeyBrZXkgKz0gJywgJzt9CiAgICBlbHNlIGlmKHRoaXMuc2xpZGVyX2lkcy5sZW5ndGggPT0gMSkgeyBrZXkgKz0gJywnO30KICB9CiAga2V5ICs9ICIpIjsKICByZXR1cm4gdGhpcy5rZXlNYXBba2V5XTsKfQoKU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZS5zZXRfZnJhbWUgPSBmdW5jdGlvbihkaW1fdmFsLCBkaW1faWR4KXsKICB0aGlzLmN1cnJlbnRfdmFsc1tkaW1faWR4XSA9IGRpbV92YWw7CiAgdmFyIGtleSA9IHRoaXMuY3VycmVudF92YWxzOwogIGlmICghdGhpcy5keW5hbWljKSB7CiAgICBrZXkgPSB0aGlzLmdldF9rZXkoa2V5KQogIH0KICBpZiAodGhpcy5keW5hbWljIHx8ICF0aGlzLmNhY2hlZCkgewogICAgaWYgKCh0aGlzLnRpbWUgIT09IHVuZGVmaW5lZCkgJiYgKCh0aGlzLndhaXQpICYmICgodGhpcy50aW1lICsgMTAwMDApID4gRGF0ZS5ub3coKSkpKSB7CiAgICAgIHRoaXMucXVldWUucHVzaChrZXkpOwogICAgICByZXR1cm4KICAgIH0KICAgIHRoaXMucXVldWUgPSBbXTsKICAgIHRoaXMudGltZSA9IERhdGUubm93KCk7CiAgICB0aGlzLmN1cnJlbnRfZnJhbWUgPSBrZXk7CiAgICB0aGlzLndhaXQgPSB0cnVlOwogICAgdGhpcy5keW5hbWljX3VwZGF0ZShrZXkpCiAgfSBlbHNlIGlmIChrZXkgIT09IHVuZGVmaW5lZCkgewogICAgdGhpcy51cGRhdGUoa2V5KQogIH0KfQoKCi8qIERlZmluZSB0aGUgU2NydWJiZXJXaWRnZXQgY2xhc3MgKi8KZnVuY3Rpb24gU2NydWJiZXJXaWRnZXQoZnJhbWVzLCBudW1fZnJhbWVzLCBpZCwgaW50ZXJ2YWwsIGxvYWRfanNvbiwgbW9kZSwgY2FjaGVkLCBqc29uX3BhdGgsIGR5bmFtaWMsIHBsb3RfaWQpewogIHRoaXMuc2xpZGVyX2lkID0gIl9hbmltX3NsaWRlciIgKyBpZDsKICB0aGlzLmxvb3Bfc2VsZWN0X2lkID0gIl9hbmltX2xvb3Bfc2VsZWN0IiArIGlkOwogIHRoaXMuaWQgPSBpZDsKICB0aGlzLnBsb3RfaWQgPSBwbG90X2lkOwogIHRoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbDsKICB0aGlzLmN1cnJlbnRfZnJhbWUgPSAwOwogIHRoaXMuZGlyZWN0aW9uID0gMDsKICB0aGlzLmR5bmFtaWMgPSBkeW5hbWljOwogIHRoaXMudGltZXIgPSBudWxsOwogIHRoaXMubG9hZF9qc29uID0gbG9hZF9qc29uOwogIHRoaXMubW9kZSA9IG1vZGU7CiAgdGhpcy5jYWNoZWQgPSBjYWNoZWQ7CiAgdGhpcy5mcmFtZXMgPSBmcmFtZXM7CiAgdGhpcy5jYWNoZSA9IHt9OwogIHRoaXMubGVuZ3RoID0gbnVtX2ZyYW1lczsKICB0aGlzLmpzb25fcGF0aCA9IGpzb25fcGF0aDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNsaWRlcl9pZCkubWF4ID0gdGhpcy5sZW5ndGggLSAxOwogIHRoaXMuaW5pdF9zbGlkZXIoMCk7CiAgdGhpcy53YWl0ID0gZmFsc2U7CiAgdGhpcy5xdWV1ZSA9IFtdOwogIGlmICghdGhpcy5jYWNoZWQgfHwgdGhpcy5keW5hbWljKSB7CiAgICB0aGlzLmNvbW0gPSB0aGlzLmluaXRfY29tbXMoKQogIH0KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlID0gbmV3IEhvbG9WaWV3c1dpZGdldDsKClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5zZXRfZnJhbWUgPSBmdW5jdGlvbihmcmFtZSl7CiAgdGhpcy5jdXJyZW50X2ZyYW1lID0gZnJhbWU7CiAgdmFyIHdpZGdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2xpZGVyX2lkKTsKICBpZiAod2lkZ2V0ID09PSBudWxsKSB7CiAgICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogICAgcmV0dXJuCiAgfQogIHdpZGdldC52YWx1ZSA9IHRoaXMuY3VycmVudF9mcmFtZTsKICBpZih0aGlzLmNhY2hlZCkgewogICAgdGhpcy51cGRhdGUoZnJhbWUpCiAgfSBlbHNlIHsKICAgIHRoaXMuZHluYW1pY191cGRhdGUoZnJhbWUpCiAgfQp9CgoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmdldF9sb29wX3N0YXRlID0gZnVuY3Rpb24oKXsKICB2YXIgYnV0dG9uX2dyb3VwID0gZG9jdW1lbnRbdGhpcy5sb29wX3NlbGVjdF9pZF0uc3RhdGU7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25fZ3JvdXAubGVuZ3RoOyBpKyspIHsKICAgIHZhciBidXR0b24gPSBidXR0b25fZ3JvdXBbaV07CiAgICBpZiAoYnV0dG9uLmNoZWNrZWQpIHsKICAgICAgcmV0dXJuIGJ1dHRvbi52YWx1ZTsKICAgIH0KICB9CiAgcmV0dXJuIHVuZGVmaW5lZDsKfQoKClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5uZXh0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUoTWF0aC5taW4odGhpcy5sZW5ndGggLSAxLCB0aGlzLmN1cnJlbnRfZnJhbWUgKyAxKSk7Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5wcmV2aW91c19mcmFtZSA9IGZ1bmN0aW9uKCkgewogIHRoaXMuc2V0X2ZyYW1lKE1hdGgubWF4KDAsIHRoaXMuY3VycmVudF9mcmFtZSAtIDEpKTsKfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmZpcnN0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUoMCk7Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5sYXN0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUodGhpcy5sZW5ndGggLSAxKTsKfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLnNsb3dlciA9IGZ1bmN0aW9uKCkgewogIHRoaXMuaW50ZXJ2YWwgLz0gMC43OwogIGlmKHRoaXMuZGlyZWN0aW9uID4gMCl7dGhpcy5wbGF5X2FuaW1hdGlvbigpO30KICBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uIDwgMCl7dGhpcy5yZXZlcnNlX2FuaW1hdGlvbigpO30KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmZhc3RlciA9IGZ1bmN0aW9uKCkgewogIHRoaXMuaW50ZXJ2YWwgKj0gMC43OwogIGlmKHRoaXMuZGlyZWN0aW9uID4gMCl7dGhpcy5wbGF5X2FuaW1hdGlvbigpO30KICBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uIDwgMCl7dGhpcy5yZXZlcnNlX2FuaW1hdGlvbigpO30KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmFuaW1fc3RlcF9mb3J3YXJkID0gZnVuY3Rpb24oKSB7CiAgaWYodGhpcy5jdXJyZW50X2ZyYW1lIDwgdGhpcy5sZW5ndGggLSAxKXsKICAgIHRoaXMubmV4dF9mcmFtZSgpOwogIH1lbHNlewogICAgdmFyIGxvb3Bfc3RhdGUgPSB0aGlzLmdldF9sb29wX3N0YXRlKCk7CiAgICBpZihsb29wX3N0YXRlID09ICJsb29wIil7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgIH1lbHNlIGlmKGxvb3Bfc3RhdGUgPT0gInJlZmxlY3QiKXsKICAgICAgdGhpcy5sYXN0X2ZyYW1lKCk7CiAgICAgIHRoaXMucmV2ZXJzZV9hbmltYXRpb24oKTsKICAgIH1lbHNlewogICAgICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogICAgICB0aGlzLmxhc3RfZnJhbWUoKTsKICAgIH0KICB9Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5hbmltX3N0ZXBfcmV2ZXJzZSA9IGZ1bmN0aW9uKCkgewogIGlmKHRoaXMuY3VycmVudF9mcmFtZSA+IDApewogICAgdGhpcy5wcmV2aW91c19mcmFtZSgpOwogIH0gZWxzZSB7CiAgICB2YXIgbG9vcF9zdGF0ZSA9IHRoaXMuZ2V0X2xvb3Bfc3RhdGUoKTsKICAgIGlmKGxvb3Bfc3RhdGUgPT0gImxvb3AiKXsKICAgICAgdGhpcy5sYXN0X2ZyYW1lKCk7CiAgICB9ZWxzZSBpZihsb29wX3N0YXRlID09ICJyZWZsZWN0Iil7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgICAgdGhpcy5wbGF5X2FuaW1hdGlvbigpOwogICAgfWVsc2V7CiAgICAgIHRoaXMucGF1c2VfYW5pbWF0aW9uKCk7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgIH0KICB9Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5wYXVzZV9hbmltYXRpb24gPSBmdW5jdGlvbigpIHsKICB0aGlzLmRpcmVjdGlvbiA9IDA7CiAgaWYgKHRoaXMudGltZXIpewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIHRoaXMudGltZXIgPSBudWxsOwogIH0KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLnBsYXlfYW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5wYXVzZV9hbmltYXRpb24oKTsKICB0aGlzLmRpcmVjdGlvbiA9IDE7CiAgdmFyIHQgPSB0aGlzOwogIGlmICghdGhpcy50aW1lcikgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5hbmltX3N0ZXBfZm9yd2FyZCgpO30sIHRoaXMuaW50ZXJ2YWwpOwp9CgpTY3J1YmJlcldpZGdldC5wcm90b3R5cGUucmV2ZXJzZV9hbmltYXRpb24gPSBmdW5jdGlvbigpIHsKICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogIHRoaXMuZGlyZWN0aW9uID0gLTE7CiAgdmFyIHQgPSB0aGlzOwogIGlmICghdGhpcy50aW1lcikgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5hbmltX3N0ZXBfcmV2ZXJzZSgpO30sIHRoaXMuaW50ZXJ2YWwpOwp9CgpmdW5jdGlvbiBleHRlbmQoZGVzdGluYXRpb24sIHNvdXJjZSkgewogIGZvciAodmFyIGsgaW4gc291cmNlKSB7CiAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGspKSB7CiAgICAgIGRlc3RpbmF0aW9uW2tdID0gc291cmNlW2tdOwogICAgfQogIH0KICByZXR1cm4gZGVzdGluYXRpb247Cn0KCmZ1bmN0aW9uIHVwZGF0ZV93aWRnZXQod2lkZ2V0LCB2YWx1ZXMpIHsKICBpZiAod2lkZ2V0Lmhhc0NsYXNzKCJ1aS1zbGlkZXIiKSkgewogICAgd2lkZ2V0LnNsaWRlcignb3B0aW9uJywgewogICAgICBtaW46IDAsCiAgICAgIG1heDogdmFsdWVzLmxlbmd0aC0xLAogICAgICBkaW1fdmFsczogdmFsdWVzLAogICAgICB2YWx1ZTogMCwKICAgICAgZGltX2xhYmVsczogdmFsdWVzCiAgICB9KQogICAgd2lkZ2V0LnNsaWRlcignb3B0aW9uJywgJ3NsaWRlJykuY2FsbCh3aWRnZXQsIGV2ZW50LCB7dmFsdWU6IDB9KQogIH0gZWxzZSB7CiAgICB3aWRnZXQuZW1wdHkoKTsKICAgIGZvciAodmFyIGk9MDsgaTx2YWx1ZXMubGVuZ3RoOyBpKyspewogICAgICB3aWRnZXQuYXBwZW5kKCQoIjxvcHRpb24+IiwgewogICAgICAgIHZhbHVlOiBpLAogICAgICAgIHRleHQ6IHZhbHVlc1tpXQogICAgICB9KSkKICAgIH07CiAgICB3aWRnZXQuZGF0YSgndmFsdWVzJywgdmFsdWVzKTsKICAgIHdpZGdldC5kYXRhKCd2YWx1ZScsIDApOwogICAgd2lkZ2V0LnRyaWdnZXIoImNoYW5nZSIpOwogIH07Cn0KCmZ1bmN0aW9uIGluaXRfc2xpZGVyKGlkLCBwbG90X2lkLCBkaW0sIHZhbHVlcywgbmV4dF92YWxzLCBsYWJlbHMsIGR5bmFtaWMsIHN0ZXAsIHZhbHVlLCBuZXh0X2RpbSwKICAgICAgICAgICAgICAgICAgICAgZGltX2lkeCwgZGVsYXksIGpRdWVyeVVJX0NETiwgVU5ERVJTQ09SRV9DRE4pIHsKICAvLyBTbGlkZXIgSlMgQmxvY2sgU1RBUlQKICBmdW5jdGlvbiBsb2FkY3NzZmlsZShmaWxlbmFtZSl7CiAgICB2YXIgZmlsZXJlZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIikKICAgIGZpbGVyZWYuc2V0QXR0cmlidXRlKCJyZWwiLCAic3R5bGVzaGVldCIpCiAgICBmaWxlcmVmLnNldEF0dHJpYnV0ZSgidHlwZSIsICJ0ZXh0L2NzcyIpCiAgICBmaWxlcmVmLnNldEF0dHJpYnV0ZSgiaHJlZiIsIGZpbGVuYW1lKQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChmaWxlcmVmKQogIH0KICBsb2FkY3NzZmlsZSgiaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vdWkvMS4xMC40L3RoZW1lcy9zbW9vdGhuZXNzL2pxdWVyeS11aS5jc3MiKTsKICAvKiBDaGVjayBpZiBqUXVlcnkgYW5kIGpRdWVyeVVJIGhhdmUgYmVlbiBsb2FkZWQKICAgICBvdGhlcndpc2UgbG9hZCB3aXRoIHJlcXVpcmUuanMgKi8KICB2YXIgalF1ZXJ5ID0gd2luZG93LmpRdWVyeSwKICAgIC8vIGNoZWNrIGZvciBvbGQgdmVyc2lvbnMgb2YgalF1ZXJ5CiAgICBvbGRqUXVlcnkgPSBqUXVlcnkgJiYgISFqUXVlcnkuZm4uanF1ZXJ5Lm1hdGNoKC9eMVwuWzAtNF0oXC58JCkvKSwKICAgIGpxdWVyeV9wYXRoID0gJycsCiAgICBwYXRocyA9IHt9LAogICAgbm9Db25mbGljdDsKICB2YXIgalF1ZXJ5VUkgPSBqUXVlcnkudWk7CiAgLy8gY2hlY2sgZm9yIGpRdWVyeQogIGlmICghalF1ZXJ5IHx8IG9sZGpRdWVyeSkgewogICAgLy8gbG9hZCBpZiBpdCdzIG5vdCBhdmFpbGFibGUgb3IgZG9lc24ndCBtZWV0IG1pbiBzdGFuZGFyZHMKICAgIHBhdGhzLmpRdWVyeSA9IGpRdWVyeTsKICAgIG5vQ29uZmxpY3QgPSAhIW9sZGpRdWVyeTsKICB9IGVsc2UgewogICAgLy8gcmVnaXN0ZXIgdGhlIGN1cnJlbnQgalF1ZXJ5CiAgICBkZWZpbmUoJ2pxdWVyeScsIFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGpRdWVyeTsgfSk7CiAgfQogIGlmICghalF1ZXJ5VUkpIHsKICAgIHBhdGhzLmpRdWVyeVVJID0galF1ZXJ5VUlfQ0ROLnNsaWNlKG51bGwsIC0zKTsKICB9IGVsc2UgewogICAgZGVmaW5lKCdqUXVlcnlVSScsIFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGpRdWVyeS51aTsgfSk7CiAgfQogIHBhdGhzLnVuZGVyc2NvcmUgPSBVTkRFUlNDT1JFX0NETi5zbGljZShudWxsLCAtMyk7CiAgdmFyIGpxdWVyeV9yZXF1aXJlID0gewogICAgcGF0aHM6IHBhdGhzLAogICAgc2hpbTogewogICAgICAialF1ZXJ5VUkiOiB7CiAgICAgICAgZXhwb3J0czoiJCIsCiAgICAgICAgZGVwczogWydqcXVlcnknXQogICAgICB9LAogICAgICAidW5kZXJzY29yZSI6IHsKICAgICAgICBleHBvcnRzOiAnXycKICAgICAgfQogICAgfQogIH0KICByZXF1aXJlLmNvbmZpZyhqcXVlcnlfcmVxdWlyZSk7CiAgcmVxdWlyZShbImpRdWVyeVVJIiwgInVuZGVyc2NvcmUiXSwgZnVuY3Rpb24oalVJLCBfKXsKICAgIGlmIChub0NvbmZsaWN0KSAkLm5vQ29uZmxpY3QodHJ1ZSk7CiAgICB2YXIgdmFscyA9IHZhbHVlczsKICAgIGlmIChkeW5hbWljICYmIHZhbHMuY29uc3RydWN0b3IgPT09IEFycmF5KSB7CiAgICAgIHZhciBkZWZhdWx0X3ZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7CiAgICAgIHZhciBtaW4gPSBwYXJzZUZsb2F0KHZhbHNbMF0pOwogICAgICB2YXIgbWF4ID0gcGFyc2VGbG9hdCh2YWxzW3ZhbHMubGVuZ3RoLTFdKTsKICAgICAgdmFyIHdzdGVwID0gc3RlcDsKICAgICAgdmFyIHdsYWJlbHMgPSBbZGVmYXVsdF92YWx1ZV07CiAgICAgIHZhciBpbml0X2xhYmVsID0gZGVmYXVsdF92YWx1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtaW4gPSAwOwogICAgICBpZiAoZHluYW1pYykgewogICAgICAgIHZhciBtYXggPSBPYmplY3Qua2V5cyh2YWxzKS5sZW5ndGggLSAxOwogICAgICAgIHZhciBpbml0X2xhYmVsID0gbGFiZWxzW3ZhbHVlXTsKICAgICAgICB2YXIgZGVmYXVsdF92YWx1ZSA9IHZhbHVlc1t2YWx1ZV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG1heCA9IHZhbHMubGVuZ3RoIC0gMTsKICAgICAgICB2YXIgaW5pdF9sYWJlbCA9IGxhYmVsc1t2YWx1ZV07CiAgICAgICAgdmFyIGRlZmF1bHRfdmFsdWUgPSB2YWx1ZTsKICAgICAgfQogICAgICB2YXIgd3N0ZXAgPSAxOwogICAgICB2YXIgd2xhYmVscyA9IGxhYmVsczsKICAgIH0KICAgIGZ1bmN0aW9uIGFkanVzdEZvbnRTaXplKHRleHQpIHsKICAgICAgdmFyIHdpZHRoX3JhdGlvID0gKHRleHQucGFyZW50KCkud2lkdGgoKS84KS90ZXh0LnZhbCgpLmxlbmd0aDsKICAgICAgdmFyIHNpemUgPSBNYXRoLm1pbigwLjksIE1hdGgubWF4KDAuNiwgd2lkdGhfcmF0aW8pKSsnZW0nOwogICAgICB0ZXh0LmNzcygnZm9udC1zaXplJywgc2l6ZSk7CiAgICB9CiAgICB2YXIgc2xpZGVyID0gJCgnI19hbmltX3dpZGdldCcraWQrJ18nK2RpbSk7CiAgICBzbGlkZXIuc2xpZGVyKHsKICAgICAgYW5pbWF0ZTogImZhc3QiLAogICAgICBtaW46IG1pbiwKICAgICAgbWF4OiBtYXgsCiAgICAgIHN0ZXA6IHdzdGVwLAogICAgICB2YWx1ZTogZGVmYXVsdF92YWx1ZSwKICAgICAgZGltX3ZhbHM6IHZhbHMsCiAgICAgIGRpbV9sYWJlbHM6IHdsYWJlbHMsCiAgICAgIG5leHRfdmFsczogbmV4dF92YWxzLAogICAgICBzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7CiAgICAgICAgdmFyIHZhbHMgPSBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAiZGltX3ZhbHMiKTsKICAgICAgICB2YXIgbmV4dF92YWxzID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgIm5leHRfdmFscyIpOwogICAgICAgIHZhciBkbGFiZWxzID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgImRpbV9sYWJlbHMiKTsKICAgICAgICBpZiAoZHluYW1pYykgewogICAgICAgICAgdmFyIGRpbV92YWwgPSB1aS52YWx1ZTsKICAgICAgICAgIGlmICh2YWxzLmNvbnN0cnVjdG9yID09PSBBcnJheSkgewogICAgICAgICAgICB2YXIgbGFiZWwgPSB1aS52YWx1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBsYWJlbCA9IGRsYWJlbHNbdWkudmFsdWVdOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgZGltX3ZhbCA9IHZhbHNbdWkudmFsdWVdOwogICAgICAgICAgdmFyIGxhYmVsID0gZGxhYmVsc1t1aS52YWx1ZV07CiAgICAgICAgfQogICAgICAgIHZhciB0ZXh0ID0gJCgnI3RleHRJbnB1dCcraWQrJ18nK2RpbSk7CiAgICAgICAgdGV4dC52YWwobGFiZWwpOwogICAgICAgIGFkanVzdEZvbnRTaXplKHRleHQpOwogICAgICAgIEhvbG9WaWV3cy5pbmRleFtwbG90X2lkXS5zZXRfZnJhbWUoZGltX3ZhbCwgZGltX2lkeCk7CiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5leHRfdmFscykubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIG5ld192YWxzID0gbmV4dF92YWxzW2RpbV92YWxdOwogICAgICAgICAgdmFyIG5leHRfd2lkZ2V0ID0gJCgnI19hbmltX3dpZGdldCcraWQrJ18nK25leHRfZGltKTsKICAgICAgICAgIHVwZGF0ZV93aWRnZXQobmV4dF93aWRnZXQsIG5ld192YWxzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgc2xpZGVyLmtleXByZXNzKGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIGlmIChldmVudC53aGljaCA9PSA4MCB8fCBldmVudC53aGljaCA9PSAxMTIpIHsKICAgICAgICB2YXIgc3RhcnQgPSBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAidmFsdWUiKTsKICAgICAgICB2YXIgc3RvcCA9ICBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAibWF4Iik7CiAgICAgICAgZm9yICh2YXIgaT1zdGFydDsgaTw9c3RvcDsgaSsrKSB7CiAgICAgICAgICB2YXIgZGVsYXkgPSBpKmRlbGF5OwogICAgICAgICAgJC5wcm94eShmdW5jdGlvbiBkb1NldFRpbWVvdXQoaSkgeyBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB2YWwgPSB7dmFsdWU6aX07CiAgICAgICAgICAgIHNsaWRlci5zbGlkZXIoJ3ZhbHVlJyxpKTsKICAgICAgICAgICAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInNsaWRlIikobnVsbCwgdmFsKTsKICAgICAgICAgIH0sIHNsaWRlciksIGRlbGF5KTt9LCBzbGlkZXIpKGkpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoZXZlbnQud2hpY2ggPT0gODIgfHwgZXZlbnQud2hpY2ggPT0gMTE0KSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInZhbHVlIik7CiAgICAgICAgdmFyIHN0b3AgPSAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgIm1pbiIpOwogICAgICAgIHZhciBjb3VudCA9IDA7CiAgICAgICAgZm9yICh2YXIgaT1zdGFydDsgaT49c3RvcDsgaS0tKSB7CiAgICAgICAgICB2YXIgZGVsYXkgPSBjb3VudCpkZWxheTsKICAgICAgICAgIGNvdW50ID0gY291bnQgKyAxOwogICAgICAgICAgJC5wcm94eShmdW5jdGlvbiBkb1NldFRpbWVvdXQoaSkgeyBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB2YWwgPSB7dmFsdWU6aX07CiAgICAgICAgICAgIHNsaWRlci5zbGlkZXIoJ3ZhbHVlJyxpKTsKICAgICAgICAgICAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInNsaWRlIikobnVsbCwgdmFsKTsKICAgICAgICAgIH0sIHNsaWRlciksIGRlbGF5KTt9LCBzbGlkZXIpKGkpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICB2YXIgdGV4dElucHV0ID0gJCgnI3RleHRJbnB1dCcraWQrJ18nK2RpbSkKICAgIHRleHRJbnB1dC52YWwoaW5pdF9sYWJlbCk7CiAgICBhZGp1c3RGb250U2l6ZSh0ZXh0SW5wdXQpOwogIH0pOwp9CgpmdW5jdGlvbiBpbml0X2Ryb3Bkb3duKGlkLCBwbG90X2lkLCBkaW0sIHZhbHMsIHZhbHVlLCBuZXh0X3ZhbHMsIGxhYmVscywgbmV4dF9kaW0sIGRpbV9pZHgsIGR5bmFtaWMpIHsKICB2YXIgd2lkZ2V0ID0gJCgiI19hbmltX3dpZGdldCIraWQrJ18nK2RpbSk7CiAgd2lkZ2V0LmRhdGEoJ3ZhbHVlcycsIHZhbHMpCiAgZm9yICh2YXIgaT0wOyBpPHZhbHMubGVuZ3RoOyBpKyspewogICAgaWYgKGR5bmFtaWMpIHsKICAgICAgdmFyIHZhbCA9IHZhbHNbaV07CiAgICB9IGVsc2UgewogICAgICB2YXIgdmFsID0gaTsKICAgIH0KICAgIHdpZGdldC5hcHBlbmQoJCgiPG9wdGlvbj4iLCB7CiAgICAgIHZhbHVlOiB2YWwsCiAgICAgIHRleHQ6IGxhYmVsc1tpXQogICAgfSkpOwogIH07CiAgd2lkZ2V0LmRhdGEoIm5leHRfdmFscyIsIG5leHRfdmFscyk7CiAgd2lkZ2V0LnZhbCh2YWx1ZSk7CiAgd2lkZ2V0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihldmVudCwgdWkpIHsKICAgIGlmIChkeW5hbWljKSB7CiAgICAgIHZhciBkaW1fdmFsID0gcGFyc2VJbnQodGhpcy52YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICB2YXIgZGltX3ZhbCA9ICQuZGF0YSh0aGlzLCAndmFsdWVzJylbdGhpcy52YWx1ZV07CiAgICB9CiAgICB2YXIgbmV4dF92YWxzID0gJC5kYXRhKHRoaXMsICJuZXh0X3ZhbHMiKTsKICAgIGlmIChPYmplY3Qua2V5cyhuZXh0X3ZhbHMpLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIG5ld192YWxzID0gbmV4dF92YWxzW2RpbV92YWxdOwogICAgICB2YXIgbmV4dF93aWRnZXQgPSAkKCcjX2FuaW1fd2lkZ2V0JytpZCsnXycrbmV4dF9kaW0pOwogICAgICB1cGRhdGVfd2lkZ2V0KG5leHRfd2lkZ2V0LCBuZXdfdmFscyk7CiAgICB9CiAgICB2YXIgd2lkZ2V0cyA9IEhvbG9WaWV3cy5pbmRleFtwbG90X2lkXQogICAgaWYgKHdpZGdldHMpIHsKICAgICAgd2lkZ2V0cy5zZXRfZnJhbWUoZGltX3ZhbCwgZGltX2lkeCk7CiAgICB9CiAgfSk7Cn0KCmlmICh3aW5kb3cuSG9sb1ZpZXdzID09PSB1bmRlZmluZWQpIHsKICB3aW5kb3cuSG9sb1ZpZXdzID0ge30KfQoKdmFyIF9uYW1lc3BhY2UgPSB7CiAgaW5pdF9zbGlkZXI6IGluaXRfc2xpZGVyLAogIGluaXRfZHJvcGRvd246IGluaXRfZHJvcGRvd24sCiAgY29tbXM6IHt9LAogIGNvbW1fc3RhdHVzOiB7fSwKICBpbmRleDoge30sCiAgcGxvdF9pbmRleDoge30sCiAga2VybmVsczoge30sCiAgcmVjZWl2ZXJzOiB7fQp9Cgpmb3IgKHZhciBrIGluIF9uYW1lc3BhY2UpIHsKICBpZiAoIShrIGluIHdpbmRvdy5Ib2xvVmlld3MpKSB7CiAgICB3aW5kb3cuSG9sb1ZpZXdzW2tdID0gX25hbWVzcGFjZVtrXTsKICB9Cn0KCnZhciBKU19NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vamF2YXNjcmlwdCc7CnZhciBIVE1MX01JTUVfVFlQRSA9ICd0ZXh0L2h0bWwnOwp2YXIgRVhFQ19NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vdm5kLmhvbG92aWV3c19leGVjLnYwK2pzb24nOwp2YXIgQ0xBU1NfTkFNRSA9ICdvdXRwdXQnOwoKLyoqCiAqIFJlbmRlciBkYXRhIHRvIHRoZSBET00gbm9kZQogKi8KZnVuY3Rpb24gcmVuZGVyKHByb3BzLCBub2RlKSB7CiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICBub2RlLmFwcGVuZENoaWxkKGRpdik7CiAgbm9kZS5hcHBlbmRDaGlsZChzY3JpcHQpOwp9CgovKioKICogSGFuZGxlIHdoZW4gYSBuZXcgb3V0cHV0IGlzIGFkZGVkCiAqLwpmdW5jdGlvbiBoYW5kbGVfYWRkX291dHB1dChldmVudCwgaGFuZGxlKSB7CiAgdmFyIG91dHB1dF9hcmVhID0gaGFuZGxlLm91dHB1dF9hcmVhOwogIHZhciBvdXRwdXQgPSBoYW5kbGUub3V0cHV0OwogIGlmICghb3V0cHV0LmRhdGEuaGFzT3duUHJvcGVydHkoRVhFQ19NSU1FX1RZUEUpKSB7CiAgICByZXR1cm4KICB9CiAgdmFyIGlkID0gb3V0cHV0Lm1ldGFkYXRhW0VYRUNfTUlNRV9UWVBFXVsiaWQiXTsKICB2YXIgdG9pbnNlcnQgPSBvdXRwdXRfYXJlYS5lbGVtZW50LmZpbmQoIi4iICsgQ0xBU1NfTkFNRS5zcGxpdCgnICcpWzBdKTsKICBpZiAoaWQgIT09IHVuZGVmaW5lZCkgewogICAgdG9pbnNlcnRbMF0uY2hpbGRyZW5bMF0uaW5uZXJIVE1MID0gb3V0cHV0LmRhdGFbSFRNTF9NSU1FX1RZUEVdOwogICAgdG9pbnNlcnRbMF0uY2hpbGRyZW5bMV0udGV4dENvbnRlbnQgPSBvdXRwdXQuZGF0YVtKU19NSU1FX1RZUEVdOwogICAgb3V0cHV0X2FyZWEuX2h2X3Bsb3RfaWQgPSBpZDsKICAgIGlmICgod2luZG93LkJva2VoICE9PSB1bmRlZmluZWQpICYmIChpZCBpbiBCb2tlaC5pbmRleCkpIHsKICAgICAgSG9sb1ZpZXdzLnBsb3RfaW5kZXhbaWRdID0gQm9rZWguaW5kZXhbaWRdOwogICAgfSBlbHNlIHsKICAgICAgSG9sb1ZpZXdzLnBsb3RfaW5kZXhbaWRdID0gbnVsbDsKICAgIH0KICB9Cn0KCi8qKgogKiBIYW5kbGUgd2hlbiBhbiBvdXRwdXQgaXMgY2xlYXJlZCBvciByZW1vdmVkCiAqLwpmdW5jdGlvbiBoYW5kbGVfY2xlYXJfb3V0cHV0KGV2ZW50LCBoYW5kbGUpIHsKICB2YXIgaWQgPSBoYW5kbGUuY2VsbC5vdXRwdXRfYXJlYS5faHZfcGxvdF9pZDsKICBpZiAoKGlkID09PSB1bmRlZmluZWQpIHx8ICEoaWQgaW4gSG9sb1ZpZXdzLnBsb3RfaW5kZXgpKSB7IHJldHVybjsgfQogIHZhciBjb21tID0gd2luZG93LkhvbG9WaWV3cy5jb21tX21hbmFnZXIuZ2V0X2NsaWVudF9jb21tKCJodi1leHRlbnNpb24tY29tbSIsICJodi1leHRlbnNpb24tY29tbSIsIGZ1bmN0aW9uICgpIHt9KTsKICBpZiAoY29tbSAhPT0gbnVsbCkgewogICAgY29tbS5zZW5kKHtldmVudF90eXBlOiAnZGVsZXRlJywgJ2lkJzogaWR9KTsKICB9CiAgZGVsZXRlIEhvbG9WaWV3cy5wbG90X2luZGV4W2lkXTsKICBpZiAoKHdpbmRvdy5Cb2tlaCAhPT0gdW5kZWZpbmVkKSAmIChpZCBpbiB3aW5kb3cuQm9rZWguaW5kZXgpKSB7CiAgICB3aW5kb3cuQm9rZWguaW5kZXhbaWRdLm1vZGVsLmRvY3VtZW50LmNsZWFyKCk7CiAgICBkZWxldGUgQm9rZWguaW5kZXhbaWRdOwogIH0KfQoKZnVuY3Rpb24gaGFuZGxlX2tlcm5lbF9jbGVhbnVwKGV2ZW50LCBoYW5kbGUpIHsKICBkZWxldGUgSG9sb1ZpZXdzLmNvbW1zWyJodi1leHRlbnNpb24tY29tbSJdOwogIHdpbmRvdy5Ib2xvVmlld3MucGxvdF9pbmRleCA9IHt9Cn0KCmZ1bmN0aW9uIHJlZ2lzdGVyX3JlbmRlcmVyKGV2ZW50cywgT3V0cHV0QXJlYSkgewogIGZ1bmN0aW9uIGFwcGVuZF9taW1lKGRhdGEsIG1ldGFkYXRhLCBlbGVtZW50KSB7CiAgICAvLyBjcmVhdGUgYSBET00gbm9kZSB0byByZW5kZXIgdG8KICAgIHZhciB0b2luc2VydCA9IHRoaXMuY3JlYXRlX291dHB1dF9zdWJhcmVhKAogICAgbWV0YWRhdGEsCiAgICBDTEFTU19OQU1FLAogICAgRVhFQ19NSU1FX1RZUEUKICAgICk7CiAgICB0aGlzLmtleWJvYXJkX21hbmFnZXIucmVnaXN0ZXJfZXZlbnRzKHRvaW5zZXJ0KTsKICAgIC8vIFJlbmRlciB0byBub2RlCiAgICB2YXIgcHJvcHMgPSB7ZGF0YTogZGF0YSwgbWV0YWRhdGE6IG1ldGFkYXRhW0VYRUNfTUlNRV9UWVBFXX07CiAgICByZW5kZXIocHJvcHMsIHRvaW5zZXJ0WzBdKTsKICAgIGVsZW1lbnQuYXBwZW5kKHRvaW5zZXJ0KTsKICAgIHJldHVybiB0b2luc2VydAogIH0KCiAgZXZlbnRzLm9uKCdvdXRwdXRfYWRkZWQuT3V0cHV0QXJlYScsIGhhbmRsZV9hZGRfb3V0cHV0KTsKICBldmVudHMub24oJ2NsZWFyX291dHB1dC5Db2RlQ2VsbCcsIGhhbmRsZV9jbGVhcl9vdXRwdXQpOwogIGV2ZW50cy5vbignZGVsZXRlLkNlbGwnLCBoYW5kbGVfY2xlYXJfb3V0cHV0KTsKICBldmVudHMub24oJ2tlcm5lbF9yZWFkeS5LZXJuZWwnLCBoYW5kbGVfa2VybmVsX2NsZWFudXApOwoKICBPdXRwdXRBcmVhLnByb3RvdHlwZS5yZWdpc3Rlcl9taW1lX3R5cGUoRVhFQ19NSU1FX1RZUEUsIGFwcGVuZF9taW1lLCB7CiAgICBzYWZlOiB0cnVlLAogICAgaW5kZXg6IDAKICB9KTsKfQoKaWYgKHdpbmRvdy5KdXB5dGVyICE9PSB1bmRlZmluZWQpIHsKICB0cnkgewogICAgdmFyIGV2ZW50cyA9IHJlcXVpcmUoJ2Jhc2UvanMvZXZlbnRzJyk7CiAgICB2YXIgT3V0cHV0QXJlYSA9IHJlcXVpcmUoJ25vdGVib29rL2pzL291dHB1dGFyZWEnKS5PdXRwdXRBcmVhOwogICAgaWYgKE91dHB1dEFyZWEucHJvdG90eXBlLm1pbWVfdHlwZXMoKS5pbmRleE9mKEVYRUNfTUlNRV9UWVBFKSA9PSAtMSkgewogICAgICByZWdpc3Rlcl9yZW5kZXJlcihldmVudHMsIE91dHB1dEFyZWEpOwogICAgfQogIH0gY2F0Y2goZXJyKSB7CiAgfQp9CgovLyBEZWZpbmUgQm9rZWggc3BlY2lmaWMgc3ViY2xhc3NlcwpmdW5jdGlvbiBCb2tlaFNlbGVjdGlvbldpZGdldCgpIHsKICBTZWxlY3Rpb25XaWRnZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gQm9rZWhTY3J1YmJlcldpZGdldCgpIHsKICBTY3J1YmJlcldpZGdldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgovLyBMZXQgdGhlbSBpbmhlcml0IGZyb20gdGhlIGJhc2VjbGFzc2VzCkJva2VoU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZSk7CkJva2VoU2NydWJiZXJXaWRnZXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTY3J1YmJlcldpZGdldC5wcm90b3R5cGUpOwoKLy8gRGVmaW5lIG1ldGhvZHMgdG8gb3ZlcnJpZGUgb24gd2lkZ2V0cwp2YXIgQm9rZWhNZXRob2RzID0gewogIHVwZGF0ZV9jYWNoZSA6IGZ1bmN0aW9uKCl7CiAgICBmb3IgKHZhciBpbmRleCBpbiB0aGlzLmZyYW1lcykgewogICAgICB0aGlzLmZyYW1lc1tpbmRleF0gPSBKU09OLnBhcnNlKHRoaXMuZnJhbWVzW2luZGV4XSk7CiAgICB9CiAgfSwKICB1cGRhdGUgOiBmdW5jdGlvbihjdXJyZW50KXsKICAgIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGRhdGEgPSB0aGlzLmZyYW1lc1tjdXJyZW50XTsKCWlmIChkYXRhICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIGRvYyA9IEhvbG9WaWV3cy5wbG90X2luZGV4W2RhdGEucm9vdF0ubW9kZWwuZG9jdW1lbnQ7CiAgICAgIGRvYy5hcHBseV9qc29uX3BhdGNoKGRhdGEuY29udGVudCk7CiAgICB9CiAgfSwKICBpbml0X2NvbW1zOiBmdW5jdGlvbigpIHsKICAgIGlmIChCb2tlaC5wcm90b2NvbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMucmVjZWl2ZXIgPSBuZXcgQm9rZWgucHJvdG9jb2wuUmVjZWl2ZXIoKQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5yZWNlaXZlciA9IG51bGw7Cgl9CiAgICByZXR1cm4gSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5pbml0X2NvbW1zLmNhbGwodGhpcyk7CiAgfSwKICBwcm9jZXNzX21zZyA6IGZ1bmN0aW9uKG1zZykgewogICAgdmFyIGRvYyA9IEhvbG9WaWV3cy5wbG90X2luZGV4W3RoaXMucGxvdF9pZF0ubW9kZWwuZG9jdW1lbnQ7CiAgICBpZiAodGhpcy5yZWNlaXZlciA9PT0gbnVsbCkgeyByZXR1cm4gfQogICAgdmFyIHJlY2VpdmVyID0gdGhpcy5yZWNlaXZlcjsKICAgIGlmIChtc2cuYnVmZmVycy5sZW5ndGggPiAwKSB7CiAgICAgIHJlY2VpdmVyLmNvbnN1bWUobXNnLmJ1ZmZlcnNbMF0uYnVmZmVyKQogICAgfSBlbHNlIHsKICAgICAgcmVjZWl2ZXIuY29uc3VtZShtc2cuY29udGVudC5kYXRhKQogICAgfQogICAgY29uc3QgY29tbV9tc2cgPSByZWNlaXZlci5tZXNzYWdlOwogICAgaWYgKChjb21tX21zZyAhPSBudWxsKSAmJiAoZG9jICE9IG51bGwpKSB7CiAgICAgIGRvYy5hcHBseV9qc29uX3BhdGNoKGNvbW1fbXNnLmNvbnRlbnQsIGNvbW1fbXNnLmJ1ZmZlcnMpCiAgICB9CiAgfQp9CgovLyBFeHRlbmQgQm9rZWggd2lkZ2V0cyB3aXRoIGJhY2tlbmQgc3BlY2lmaWMgbWV0aG9kcwpleHRlbmQoQm9rZWhTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlLCBCb2tlaE1ldGhvZHMpOwpleHRlbmQoQm9rZWhTY3J1YmJlcldpZGdldC5wcm90b3R5cGUsIEJva2VoTWV0aG9kcyk7Cgp3aW5kb3cuSG9sb1ZpZXdzLkJva2VoU2VsZWN0aW9uV2lkZ2V0ID0gQm9rZWhTZWxlY3Rpb25XaWRnZXQKd2luZG93LkhvbG9WaWV3cy5Cb2tlaFNjcnViYmVyV2lkZ2V0ID0gQm9rZWhTY3J1YmJlcldpZGdldAo8L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgogICAgZnVuY3Rpb24gSnVweXRlckNvbW1NYW5hZ2VyKCkgewogICAgfQoKICAgIEp1cHl0ZXJDb21tTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJfdGFyZ2V0ID0gZnVuY3Rpb24ocGxvdF9pZCwgY29tbV9pZCwgbXNnX2hhbmRsZXIpIHsKICAgICAgaWYgKHdpbmRvdy5jb21tX21hbmFnZXIgfHwgKCh3aW5kb3cuSnVweXRlciAhPT0gdW5kZWZpbmVkKSAmJiAoSnVweXRlci5ub3RlYm9vay5rZXJuZWwgIT0gbnVsbCkpKSB7CiAgICAgICAgdmFyIGNvbW1fbWFuYWdlciA9IHdpbmRvdy5jb21tX21hbmFnZXIgfHwgSnVweXRlci5ub3RlYm9vay5rZXJuZWwuY29tbV9tYW5hZ2VyOwogICAgICAgIGNvbW1fbWFuYWdlci5yZWdpc3Rlcl90YXJnZXQoY29tbV9pZCwgZnVuY3Rpb24oY29tbSkgewogICAgICAgICAgY29tbS5vbl9tc2cobXNnX2hhbmRsZXIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKChwbG90X2lkIGluIEhvbG9WaWV3cy5rZXJuZWxzKSAmJiAoSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0pKSB7CiAgICAgICAgSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0ucmVnaXN0ZXJDb21tVGFyZ2V0KGNvbW1faWQsIGZ1bmN0aW9uKGNvbW0pIHsKICAgICAgICAgIGNvbW0ub25Nc2cgPSBtc2dfaGFuZGxlcjsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIEp1cHl0ZXJDb21tTWFuYWdlci5wcm90b3R5cGUuZ2V0X2NsaWVudF9jb21tID0gZnVuY3Rpb24ocGxvdF9pZCwgY29tbV9pZCwgbXNnX2hhbmRsZXIpIHsKICAgICAgaWYgKGNvbW1faWQgaW4gd2luZG93LkhvbG9WaWV3cy5jb21tcykgewogICAgICAgIHJldHVybiBIb2xvVmlld3MuY29tbXNbY29tbV9pZF07CiAgICAgIH0gZWxzZSBpZiAod2luZG93LmNvbW1fbWFuYWdlciB8fCAoKHdpbmRvdy5KdXB5dGVyICE9PSB1bmRlZmluZWQpICYmIChKdXB5dGVyLm5vdGVib29rLmtlcm5lbCAhPSBudWxsKSkpIHsKICAgICAgICB2YXIgY29tbV9tYW5hZ2VyID0gd2luZG93LmNvbW1fbWFuYWdlciB8fCBKdXB5dGVyLm5vdGVib29rLmtlcm5lbC5jb21tX21hbmFnZXI7CiAgICAgICAgdmFyIGNvbW0gPSBjb21tX21hbmFnZXIubmV3X2NvbW0oY29tbV9pZCwge30sIHt9LCB7fSwgY29tbV9pZCk7CiAgICAgICAgaWYgKG1zZ19oYW5kbGVyKSB7CiAgICAgICAgICBjb21tLm9uX21zZyhtc2dfaGFuZGxlcik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKChwbG90X2lkIGluIEhvbG9WaWV3cy5rZXJuZWxzKSAmJiAoSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0pKSB7CiAgICAgICAgdmFyIGNvbW0gPSBIb2xvVmlld3Mua2VybmVsc1twbG90X2lkXS5jb25uZWN0VG9Db21tKGNvbW1faWQpOwogICAgICAgIGNvbW0ub3BlbigpOwogICAgICAgIGlmIChtc2dfaGFuZGxlcikgewogICAgICAgICAgY29tbS5vbk1zZyA9IG1zZ19oYW5kbGVyOwogICAgICAgIH0KICAgICAgfQogICAgICBIb2xvVmlld3MuY29tbXNbY29tbV9pZF0gPSBjb21tOwogICAgICByZXR1cm4gY29tbTsKICAgIH0KCiAgICB3aW5kb3cuSG9sb1ZpZXdzLmNvbW1fbWFuYWdlciA9IG5ldyBKdXB5dGVyQ29tbU1hbmFnZXIoKTsKICAgIDwvc2NyaXB0PgoKPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5weWRhdGEub3JnL2Jva2VoL3JlbGVhc2UvYm9rZWgtMC4xMi4xNS5taW4uY3NzIj4KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5weWRhdGEub3JnL2Jva2VoL3JlbGVhc2UvYm9rZWgtd2lkZ2V0cy0wLjEyLjE1Lm1pbi5jc3MiPgo8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC10YWJsZXMtMC4xMi4xNS5taW4uY3NzIj4KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjMuNi9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiPgo8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL3VpLzEuMTAuNC90aGVtZXMvc21vb3RobmVzcy9qcXVlcnktdWkuY3NzIj4KPHN0eWxlPmRpdi5iay1oYm94IHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoKZGl2LmJrLWhib3ggZGl2LmJrLXBsb3QgewogICAgcGFkZGluZzogOHB4Owp9CgpkaXYuYmstaGJveCBkaXYuYmstZGF0YS10YWJsZSB7CiAgICBwYWRkaW5nOiAyMHB4Owp9CgpkaXYuaG9sb2xheW91dCB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIG1hcmdpbjogMDsKfQoKZGl2LmhvbG9mcmFtZSB7CiAgd2lkdGg6IDc1JTsKfQoKZGl2LmhvbG93ZWxsIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCmZvcm0uaG9sb2Zvcm0gewogIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgcGFkZGluZy1sZWZ0OiAwLjhlbTsKICBwYWRkaW5nLXJpZ2h0OiAwLjhlbTsKICBwYWRkaW5nLXRvcDogMC40ZW07CiAgcGFkZGluZy1ib3R0b206IDAuNGVtOwogIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMDUpOwogIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2UzZTNlMzsKfQoKZGl2LmhvbG93aWRnZXRzIHsKICBwYWRkaW5nLXJpZ2h0OiAwOwogIHdpZHRoOiAyNSU7Cn0KCmRpdi5ob2xvc2xpZGVyIHsKICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7CiAgaGVpZ2h0OiAwLjhlbTsKICB3aWR0aDogMTAwJTsKfQoKZGl2LmhvbG9mb3JtZ3JvdXAgewogIHBhZGRpbmctdG9wOiAwLjVlbTsKICBtYXJnaW4tYm90dG9tOiAwLjVlbTsKfQoKZGl2LmhvbG9ncm91cCB7CiAgcGFkZGluZy1sZWZ0OiAwOwogIHBhZGRpbmctcmlnaHQ6IDAuOGVtOwogIHdpZHRoOiAxMDAlOwp9CgouaG9sb3NlbGVjdCB7CiAgd2lkdGg6IDkyJTsKICBtYXJnaW4tbGVmdDogMDsKICBtYXJnaW4tcmlnaHQ6IDA7Cn0KCi5ob2xvdGV4dCB7CiAgcGFkZGluZy1sZWZ0OiAgMC41ZW07CiAgcGFkZGluZy1yaWdodDogMDsKICB3aWR0aDogMTAwJTsKfQoKLmhvbG93aWRnZXRzIC51aS1yZXNpemFibGUtc2UgewogIHZpc2liaWxpdHk6IGhpZGRlbgp9CgouaG9sb2ZyYW1lID4gLnVpLXJlc2l6YWJsZS1zZSB7CiAgdmlzaWJpbGl0eTogaGlkZGVuCn0KCi5ob2xvd2lkZ2V0cyAudWktcmVzaXphYmxlLXMgewogIHZpc2liaWxpdHk6IGhpZGRlbgp9CgoKLyogQ1NTIHJ1bGVzIGZvciBub1VJU2xpZGVyIGJhc2VkIHNsaWRlciB1c2VkIGJ5IEp1cHl0ZXJMYWIgZXh0ZW5zaW9uICAqLwoKLm5vVWktaGFuZGxlIHsKICB3aWR0aDogMjBweCAhaW1wb3J0YW50OwogIGhlaWdodDogMjBweCAhaW1wb3J0YW50OwogIGxlZnQ6IC01cHggIWltcG9ydGFudDsKICB0b3A6IC01cHggIWltcG9ydGFudDsKfQoKLm5vVWktaGFuZGxlOmJlZm9yZSwgLm5vVWktaGFuZGxlOmFmdGVyIHsKICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgaGVpZ2h0OiAwcHg7Cn0KCi5ub1VpLXRhcmdldCB7CiAgbWFyZ2luLWxlZnQ6IDAuNWVtOwogIG1hcmdpbi1yaWdodDogMC41ZW07Cn0KPC9zdHlsZT48ZGl2IHN0eWxlPSdkaXNwbGF5OiB0YWJsZTsgbWFyZ2luOiAwIGF1dG87Jz4KCjxkaXYgY2xhc3M9ImJrLXJvb3QiPgogICAgPGRpdiBjbGFzcz0iYmstcGxvdGRpdiIgaWQ9IjJlYTczYjM2LTIxOTktNGVjYy05MjlkLWZiMmZiYTg0Y2YyNSI+PC9kaXY+CjwvZGl2Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgKGZ1bmN0aW9uKHJvb3QpIHsKICBmdW5jdGlvbiBlbWJlZF9kb2N1bWVudChyb290KSB7CiAgICAKICB2YXIgZG9jc19qc29uID0geyIxOTY2YWUxNi00NTI3LTRiODYtYWQxMS01NWZmZGIyNTRjOGYiOnsicm9vdHMiOnsicmVmZXJlbmNlcyI6W3siYXR0cmlidXRlcyI6eyJwbG90IjpudWxsLCJ0ZXh0IjoiRXh0ZXJpb3IgbGVuZ3RocyB3aXRoIENvbG9zc2V1bSBoaWdobGlnaHRlZCIsInRleHRfY29sb3IiOnsidmFsdWUiOiJibGFjayJ9LCJ0ZXh0X2ZvbnRfc2l6ZSI6eyJ2YWx1ZSI6IjEycHQifX0sImlkIjoiZjZhNjQ5YzQtM2UyMy00ODZhLTg0YzEtMmFmMmI0Y2Q3YTZhIiwidHlwZSI6IlRpdGxlIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiI5ZDQ3OWFjNy0yMGZlLTQ2MzQtYjJlYi1lYTM0ZjI1Njg1YzQiLCJ0eXBlIjoiQmFzaWNUaWNrRm9ybWF0dGVyIn0seyJhdHRyaWJ1dGVzIjp7ImNhbGxiYWNrIjpudWxsLCJlbmQiOjE3OH0sImlkIjoiMDBhZmVhNTUtNzhmOS00NjlmLTg3MGYtODA4NzJkODQzODI2IiwidHlwZSI6IlJhbmdlMWQifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6ImYzNjU5OGIyLWFmOWEtNDRiYy05MWIzLTg0N2JlOTIyNzUwMCIsInR5cGUiOiJTYXZlVG9vbCJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiN2UzNjY4MzAtZmI4Zi00M2Q4LTgzMjEtOTkyODBlZjAzMmVlIiwidHlwZSI6IlBhblRvb2wifSx7ImF0dHJpYnV0ZXMiOnsiYXhpc19sYWJlbCI6ImV4dG1ham9yIiwiYm91bmRzIjoiYXV0byIsImZvcm1hdHRlciI6eyJpZCI6IjVmNDdmNjY3LWJlNTctNDFmZi1hNDRlLTQyODYzMjJhZjBjMSIsInR5cGUiOiJCYXNpY1RpY2tGb3JtYXR0ZXIifSwibWFqb3JfbGFiZWxfb3JpZW50YXRpb24iOiJob3Jpem9udGFsIiwicGxvdCI6eyJpZCI6IjE4ZTY3ZWExLTJjMzUtNDFiYi1hMzEwLWJjMjM3ZjFkZmZmZiIsInN1YnR5cGUiOiJGaWd1cmUiLCJ0eXBlIjoiUGxvdCJ9LCJ0aWNrZXIiOnsiaWQiOiJjZGQxMzYzNy02ODc0LTRjZjAtOTliZS04NmQ1OTRjYzAyZGEiLCJ0eXBlIjoiQmFzaWNUaWNrZXIifX0sImlkIjoiNWQ0ZDEyODktYjE5Mi00OGJjLWE4ZmEtNTAwNWRiMzJkM2FmIiwidHlwZSI6IkxpbmVhckF4aXMifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6ImU0MmJlNTdjLWMyNmUtNDliNS05OTI4LTYwOGM2ZWUzNDg1ZiIsInR5cGUiOiJSZXNldFRvb2wifSx7ImF0dHJpYnV0ZXMiOnsiY2FsbGJhY2siOm51bGwsInJlbmRlcmVycyI6W3siaWQiOiJkM2E1MTFlZi1kYWU2LTQxNzQtOTk5My05YjJiZmU3NzA1MzYiLCJ0eXBlIjoiR2x5cGhSZW5kZXJlciJ9XSwidG9vbHRpcHMiOltbIiIsIjxiPkBsYWJlbDwvYj4iXV19LCJpZCI6Ijg2ZTU1Y2I2LTE0ODctNDdiMS1hNGM5LTQwODE3MjRhY2U4ZCIsInR5cGUiOiJIb3ZlclRvb2wifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6IjgwNDMzMDY3LTQzM2EtNGRhNy05YTQwLTI2YjM4ZGE4OGQzOSIsInR5cGUiOiJXaGVlbFpvb21Ub29sIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiI2ZTIyOTkyZS1iMmRlLTQ2MjQtOWFjZS1hNWNjODU0NzMzNTMiLCJ0eXBlIjoiQmFzaWNUaWNrZXIifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6ImNkZDEzNjM3LTY4NzQtNGNmMC05OWJlLTg2ZDU5NGNjMDJkYSIsInR5cGUiOiJCYXNpY1RpY2tlciJ9LHsiYXR0cmlidXRlcyI6eyJhY3RpdmVfZHJhZyI6ImF1dG8iLCJhY3RpdmVfaW5zcGVjdCI6ImF1dG8iLCJhY3RpdmVfc2Nyb2xsIjoiYXV0byIsImFjdGl2ZV90YXAiOiJhdXRvIiwidG9vbHMiOlt7ImlkIjoiODZlNTVjYjYtMTQ4Ny00N2IxLWE0YzktNDA4MTcyNGFjZThkIiwidHlwZSI6IkhvdmVyVG9vbCJ9LHsiaWQiOiJmMzY1OThiMi1hZjlhLTQ0YmMtOTFiMy04NDdiZTkyMjc1MDAiLCJ0eXBlIjoiU2F2ZVRvb2wifSx7ImlkIjoiN2UzNjY4MzAtZmI4Zi00M2Q4LTgzMjEtOTkyODBlZjAzMmVlIiwidHlwZSI6IlBhblRvb2wifSx7ImlkIjoiODA0MzMwNjctNDMzYS00ZGE3LTlhNDAtMjZiMzhkYTg4ZDM5IiwidHlwZSI6IldoZWVsWm9vbVRvb2wifSx7ImlkIjoiM2IwMjk0NDAtYzkzYi00OTcyLWI5YzEtMTVjZTI1ZDk2MmNhIiwidHlwZSI6IkJveFpvb21Ub29sIn0seyJpZCI6ImU0MmJlNTdjLWMyNmUtNDliNS05OTI4LTYwOGM2ZWUzNDg1ZiIsInR5cGUiOiJSZXNldFRvb2wifV19LCJpZCI6ImM0ZGJjMTc5LWE2OGYtNGE5YS1hMjEwLWE0YWQ2NDE1NzE5NiIsInR5cGUiOiJUb29sYmFyIn0seyJhdHRyaWJ1dGVzIjp7ImdyaWRfbGluZV9jb2xvciI6eyJ2YWx1ZSI6bnVsbH0sInBsb3QiOnsiaWQiOiIxOGU2N2VhMS0yYzM1LTQxYmItYTMxMC1iYzIzN2YxZGZmZmYiLCJzdWJ0eXBlIjoiRmlndXJlIiwidHlwZSI6IlBsb3QifSwidGlja2VyIjp7ImlkIjoiNmUyMjk5MmUtYjJkZS00NjI0LTlhY2UtYTVjYzg1NDczMzUzIiwidHlwZSI6IkJhc2ljVGlja2VyIn19LCJpZCI6IjE3Nzc2OGQyLTViMzMtNGVhMC04ZmY4LTQxMmMwNWFmOTJlNCIsInR5cGUiOiJHcmlkIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiIwZGI4NTA0NS1hY2M5LTRkNjYtODIwMi03YmI1ZjQ2NGIyMmEiLCJ0eXBlIjoiTGluZWFyU2NhbGUifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6IjVmNDdmNjY3LWJlNTctNDFmZi1hNDRlLTQyODYzMjJhZjBjMSIsInR5cGUiOiJCYXNpY1RpY2tGb3JtYXR0ZXIifSx7ImF0dHJpYnV0ZXMiOnsiZGltZW5zaW9uIjoxLCJncmlkX2xpbmVfY29sb3IiOnsidmFsdWUiOm51bGx9LCJwbG90Ijp7ImlkIjoiMThlNjdlYTEtMmMzNS00MWJiLWEzMTAtYmMyMzdmMWRmZmZmIiwic3VidHlwZSI6IkZpZ3VyZSIsInR5cGUiOiJQbG90In0sInRpY2tlciI6eyJpZCI6ImNkZDEzNjM3LTY4NzQtNGNmMC05OWJlLTg2ZDU5NGNjMDJkYSIsInR5cGUiOiJCYXNpY1RpY2tlciJ9fSwiaWQiOiI3NjUyNjk5YS0zNGRmLTQxNjYtYTBiMC1kMGJlMmZjYzY1ZWUiLCJ0eXBlIjoiR3JpZCJ9LHsiYXR0cmlidXRlcyI6eyJsaW5lX2FscGhhIjp7InZhbHVlIjowLjV9LCJsaW5lX2NvbG9yIjp7InZhbHVlIjoicmVkIn0sImxpbmVfd2lkdGgiOnsidmFsdWUiOjJ9LCJsb2NhdGlvbiI6MTg5LjAsInBsb3QiOm51bGx9LCJpZCI6Ijg5ODEwYzA2LTY5NjMtNGI3MS1hZjZkLTc5Y2EwNzgzMmY4ZSIsInR5cGUiOiJTcGFuIn0seyJhdHRyaWJ1dGVzIjp7InNvdXJjZSI6eyJpZCI6IjU0YzViODI1LTBlYmUtNDliOS05YjA3LTBkZGNhNzg4NDdhYiIsInR5cGUiOiJDb2x1bW5EYXRhU291cmNlIn19LCJpZCI6Ijk4MTYxM2NmLWU5Y2UtNDEwZi1iMmQ4LWIxM2JmYmRlNDM3YSIsInR5cGUiOiJDRFNWaWV3In0seyJhdHRyaWJ1dGVzIjp7ImZpbGxfYWxwaGEiOnsidmFsdWUiOjAuMX0sImZpbGxfY29sb3IiOnsidmFsdWUiOiIjMzBhMmRhIn0sImxpbmVfYWxwaGEiOnsidmFsdWUiOjAuMX0sImxpbmVfY29sb3IiOnsidmFsdWUiOiIjMzBhMmRhIn0sInNpemUiOnsidW5pdHMiOiJzY3JlZW4iLCJ2YWx1ZSI6Mi40NDk0ODk3NDI3ODMxNzh9LCJ4Ijp7ImZpZWxkIjoiaW5kZXgifSwieSI6eyJmaWVsZCI6ImV4dG1ham9yIn19LCJpZCI6ImMwMDE1ZjI5LWQ3ZDMtNDI2Yi1hMDk3LTY0NWQ4MTkxYmEwNiIsInR5cGUiOiJDaXJjbGUifSx7ImF0dHJpYnV0ZXMiOnsiYXhpc19sYWJlbCI6ImluZGV4IiwiYm91bmRzIjoiYXV0byIsImZvcm1hdHRlciI6eyJpZCI6IjlkNDc5YWM3LTIwZmUtNDYzNC1iMmViLWVhMzRmMjU2ODVjNCIsInR5cGUiOiJCYXNpY1RpY2tGb3JtYXR0ZXIifSwibWFqb3JfbGFiZWxfb3JpZW50YXRpb24iOiJob3Jpem9udGFsIiwicGxvdCI6eyJpZCI6IjE4ZTY3ZWExLTJjMzUtNDFiYi1hMzEwLWJjMjM3ZjFkZmZmZiIsInN1YnR5cGUiOiJGaWd1cmUiLCJ0eXBlIjoiUGxvdCJ9LCJ0aWNrZXIiOnsiaWQiOiI2ZTIyOTkyZS1iMmRlLTQ2MjQtOWFjZS1hNWNjODU0NzMzNTMiLCJ0eXBlIjoiQmFzaWNUaWNrZXIifX0sImlkIjoiMzE3NDBmNTEtNTYzZi00MWRiLWEwNzQtZmNhYTNlZjFmNTA0IiwidHlwZSI6IkxpbmVhckF4aXMifSx7ImF0dHJpYnV0ZXMiOnsiY2FsbGJhY2siOm51bGwsImVuZCI6MTg5LjAsInN0YXJ0IjozOS42fSwiaWQiOiI2NjJjNGJmZS04MTY2LTQyZjItYTdmZC1iZTAzZTM4ZDllOGYiLCJ0eXBlIjoiUmFuZ2UxZCJ9LHsiYXR0cmlidXRlcyI6eyJiZWxvdyI6W3siaWQiOiIzMTc0MGY1MS01NjNmLTQxZGItYTA3NC1mY2FhM2VmMWY1MDQiLCJ0eXBlIjoiTGluZWFyQXhpcyJ9XSwibGVmdCI6W3siaWQiOiI1ZDRkMTI4OS1iMTkyLTQ4YmMtYThmYS01MDA1ZGIzMmQzYWYiLCJ0eXBlIjoiTGluZWFyQXhpcyJ9XSwibWluX2JvcmRlcl9ib3R0b20iOjEwLCJtaW5fYm9yZGVyX2xlZnQiOjEwLCJtaW5fYm9yZGVyX3JpZ2h0IjoxMCwibWluX2JvcmRlcl90b3AiOjEwLCJwbG90X2hlaWdodCI6MzAwLCJwbG90X3dpZHRoIjo0MDAsInJlbmRlcmVycyI6W3siaWQiOiIzMTc0MGY1MS01NjNmLTQxZGItYTA3NC1mY2FhM2VmMWY1MDQiLCJ0eXBlIjoiTGluZWFyQXhpcyJ9LHsiaWQiOiIxNzc3NjhkMi01YjMzLTRlYTAtOGZmOC00MTJjMDVhZjkyZTQiLCJ0eXBlIjoiR3JpZCJ9LHsiaWQiOiI1ZDRkMTI4OS1iMTkyLTQ4YmMtYThmYS01MDA1ZGIzMmQzYWYiLCJ0eXBlIjoiTGluZWFyQXhpcyJ9LHsiaWQiOiI3NjUyNjk5YS0zNGRmLTQxNjYtYTBiMC1kMGJlMmZjYzY1ZWUiLCJ0eXBlIjoiR3JpZCJ9LHsiaWQiOiIxNzAyMjdiYy1kODY2LTRlMmItOTQ2ZC1hMjQ2MGQzMTAzMjEiLCJ0eXBlIjoiQm94QW5ub3RhdGlvbiJ9LHsiaWQiOiJkM2E1MTFlZi1kYWU2LTQxNzQtOTk5My05YjJiZmU3NzA1MzYiLCJ0eXBlIjoiR2x5cGhSZW5kZXJlciJ9LHsiaWQiOiI4OTgxMGMwNi02OTYzLTRiNzEtYWY2ZC03OWNhMDc4MzJmOGUiLCJ0eXBlIjoiU3BhbiJ9XSwidGl0bGUiOnsiaWQiOiJmNmE2NDljNC0zZTIzLTQ4NmEtODRjMS0yYWYyYjRjZDdhNmEiLCJ0eXBlIjoiVGl0bGUifSwidG9vbGJhciI6eyJpZCI6ImM0ZGJjMTc5LWE2OGYtNGE5YS1hMjEwLWE0YWQ2NDE1NzE5NiIsInR5cGUiOiJUb29sYmFyIn0sInhfcmFuZ2UiOnsiaWQiOiIwMGFmZWE1NS03OGY5LTQ2OWYtODcwZi04MDg3MmQ4NDM4MjYiLCJ0eXBlIjoiUmFuZ2UxZCJ9LCJ4X3NjYWxlIjp7ImlkIjoiMGRiODUwNDUtYWNjOS00ZDY2LTgyMDItN2JiNWY0NjRiMjJhIiwidHlwZSI6IkxpbmVhclNjYWxlIn0sInlfcmFuZ2UiOnsiaWQiOiI2NjJjNGJmZS04MTY2LTQyZjItYTdmZC1iZTAzZTM4ZDllOGYiLCJ0eXBlIjoiUmFuZ2UxZCJ9LCJ5X3NjYWxlIjp7ImlkIjoiM2Q1NDYwZTAtMGM1NC00MjAyLTg1YTgtZWNiNzFiZDFhYjljIiwidHlwZSI6IkxpbmVhclNjYWxlIn19LCJpZCI6IjE4ZTY3ZWExLTJjMzUtNDFiYi1hMzEwLWJjMjM3ZjFkZmZmZiIsInN1YnR5cGUiOiJGaWd1cmUiLCJ0eXBlIjoiUGxvdCJ9LHsiYXR0cmlidXRlcyI6eyJmaWxsX2NvbG9yIjp7InZhbHVlIjoiIzMwYTJkYSJ9LCJsaW5lX2NvbG9yIjp7InZhbHVlIjoiIzMwYTJkYSJ9LCJzaXplIjp7InVuaXRzIjoic2NyZWVuIiwidmFsdWUiOjIuNDQ5NDg5NzQyNzgzMTc4fSwieCI6eyJmaWVsZCI6ImluZGV4In0sInkiOnsiZmllbGQiOiJleHRtYWpvciJ9fSwiaWQiOiI0NDJjNDUwMi04NDdhLTQwMjgtYjEyMy1jMDY2M2QyMWFjNWQiLCJ0eXBlIjoiQ2lyY2xlIn0seyJhdHRyaWJ1dGVzIjp7ImRhdGFfc291cmNlIjp7ImlkIjoiNTRjNWI4MjUtMGViZS00OWI5LTliMDctMGRkY2E3ODg0N2FiIiwidHlwZSI6IkNvbHVtbkRhdGFTb3VyY2UifSwiZ2x5cGgiOnsiaWQiOiI0NDJjNDUwMi04NDdhLTQwMjgtYjEyMy1jMDY2M2QyMWFjNWQiLCJ0eXBlIjoiQ2lyY2xlIn0sImhvdmVyX2dseXBoIjpudWxsLCJtdXRlZF9nbHlwaCI6eyJpZCI6IjgwNmZiZjE3LTFmYzMtNGM4MC1iZTM0LTExYzU4YjZkMzRkMyIsInR5cGUiOiJDaXJjbGUifSwibm9uc2VsZWN0aW9uX2dseXBoIjp7ImlkIjoiYzAwMTVmMjktZDdkMy00MjZiLWEwOTctNjQ1ZDgxOTFiYTA2IiwidHlwZSI6IkNpcmNsZSJ9LCJzZWxlY3Rpb25fZ2x5cGgiOm51bGwsInZpZXciOnsiaWQiOiI5ODE2MTNjZi1lOWNlLTQxMGYtYjJkOC1iMTNiZmJkZTQzN2EiLCJ0eXBlIjoiQ0RTVmlldyJ9fSwiaWQiOiJkM2E1MTFlZi1kYWU2LTQxNzQtOTk5My05YjJiZmU3NzA1MzYiLCJ0eXBlIjoiR2x5cGhSZW5kZXJlciJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiM2Q1NDYwZTAtMGM1NC00MjAyLTg1YTgtZWNiNzFiZDFhYjljIiwidHlwZSI6IkxpbmVhclNjYWxlIn0seyJhdHRyaWJ1dGVzIjp7ImZpbGxfYWxwaGEiOnsidmFsdWUiOjAuMn0sImZpbGxfY29sb3IiOnsidmFsdWUiOiIjMzBhMmRhIn0sImxpbmVfYWxwaGEiOnsidmFsdWUiOjAuMn0sImxpbmVfY29sb3IiOnsidmFsdWUiOiIjMzBhMmRhIn0sInNpemUiOnsidW5pdHMiOiJzY3JlZW4iLCJ2YWx1ZSI6Mi40NDk0ODk3NDI3ODMxNzh9LCJ4Ijp7ImZpZWxkIjoiaW5kZXgifSwieSI6eyJmaWVsZCI6ImV4dG1ham9yIn19LCJpZCI6IjgwNmZiZjE3LTFmYzMtNGM4MC1iZTM0LTExYzU4YjZkMzRkMyIsInR5cGUiOiJDaXJjbGUifSx7ImF0dHJpYnV0ZXMiOnsiYm90dG9tX3VuaXRzIjoic2NyZWVuIiwiZmlsbF9hbHBoYSI6eyJ2YWx1ZSI6MC41fSwiZmlsbF9jb2xvciI6eyJ2YWx1ZSI6ImxpZ2h0Z3JleSJ9LCJsZWZ0X3VuaXRzIjoic2NyZWVuIiwibGV2ZWwiOiJvdmVybGF5IiwibGluZV9hbHBoYSI6eyJ2YWx1ZSI6MS4wfSwibGluZV9jb2xvciI6eyJ2YWx1ZSI6ImJsYWNrIn0sImxpbmVfZGFzaCI6WzQsNF0sImxpbmVfd2lkdGgiOnsidmFsdWUiOjJ9LCJwbG90IjpudWxsLCJyZW5kZXJfbW9kZSI6ImNzcyIsInJpZ2h0X3VuaXRzIjoic2NyZWVuIiwidG9wX3VuaXRzIjoic2NyZWVuIn0sImlkIjoiMTcwMjI3YmMtZDg2Ni00ZTJiLTk0NmQtYTI0NjBkMzEwMzIxIiwidHlwZSI6IkJveEFubm90YXRpb24ifSx7ImF0dHJpYnV0ZXMiOnsiY2FsbGJhY2siOm51bGwsImNvbHVtbl9uYW1lcyI6WyJpbmRleCIsImV4dG1ham9yIiwibGFiZWwiXSwiZGF0YSI6eyJleHRtYWpvciI6eyJfX25kYXJyYXlfXyI6Inpjek16TXpNUTBBQUFBQUFBQUJFUU0zTXpNek1URVZBQUFBQUFBQUFTRUFBQUFBQUFBQkpRQUFBQUFBQUFFbEFBQUFBQUFBQVNVQUFBQUFBQUFCS1FNM016TXpNYkV0QUFBQUFBQUNBUzBBQUFBQUFBSUJMUUFBQUFBQUFBRXhBQUFBQUFBQUFURUFBQUFBQUFBQk1RQUFBQUFBQUFFeEFBQUFBQUFBQVRFQUFBQUFBQUlCTVFBQUFBQUFBQUU1QUFBQUFBQUNBVGtBQUFBQUFBSUJPUUpxWm1abVptVTVBQUFBQUFBQ0FUMENhbVptWm1abFBRQUFBQUFBQVFGQkFBQUFBQUFBQVVVQUFBQUFBQUFCUlFBQUFBQUFBUUZGQUFBQUFBQUJBVVVBQUFBQUFBSUJSUUFBQUFBQUFnRkZBQUFBQUFBQ0FVVUFBQUFBQUFJQlJRQUFBQUFBQWdGRkFBQUFBQUFEQVVVQUFBQUFBQUFCU1FBQUFBQUFBQUZKQUFBQUFBQUJBVWtBQUFBQUFBRUJTUU94UnVCNkZlMUpBQUFBQUFBQ0FVa0FBQUFBQUFLQlNRQUFBQUFBQXdGSkFBQUFBQUFEQVVrQUFBQUFBQUFCVFFBQUFBQUFBUUZOQUFBQUFBQUJBVTBBek16TXpNMU5UUUFBQUFBQUFnRk5BQUFBQUFBQ0FVMEFBQUFBQUFNQlRRQUFBQUFBQUFGUkFBQUFBQUFBQVZFQUFBQUFBQUFCVVFBQUFBQUFBQUZSQUFBQUFBQUFBVkVBQUFBQUFBQUJVUUFBQUFBQUFBRlJBQUFBQUFBQUFWRUFBQUFBQUFFQlVRQUFBQUFBQWdGUkFBQUFBQUFEQVZFQUFBQUFBQU1CVVFBQUFBQUFBQUZWQUFBQUFBQUFBVlVBQUFBQUFBRUJWUUFBQUFBQUFRRlZBQUFBQUFBQkFWVUFBQUFBQUFJQlZRQUFBQUFBQW9GVkFBQUFBQUFDZ1ZVQUFBQUFBQU1CVlFBQUFBQUFBQUZaQUFBQUFBQUFBVmtBQUFBQUFBQUJXUUFBQUFBQUFBRlpBQUFBQUFBQUFWa0F6TXpNek16TldRQUFBQUFBQVFGWkFBQUFBQUFDQVZrQUFBQUFBQUlCV1FBQUFBQUFBZ0ZaQUFBQUFBQUNBVmtBQUFBQUFBSUJXUUFBQUFBQUFnRlpBQUFBQUFBQ0FWa0FBQUFBQUFBQlhRRE16TXpNek0xZEFBQUFBQUFDQVYwQUFBQUFBQU1CWFFBQUFBQUFBd0ZkQUFBQUFBQURnVjBBQUFBQUFBQUJZUUFBQUFBQUFBRmhBQUFBQUFBQUFXRUFBQUFBQUFDQllRQUFBQUFBQVFGaEFBQUFBQUFDQVdFQUFBQUFBQUlCWVFBQUFBQUFBZ0ZoQUFBQUFBQUNBV0VBQUFBQUFBSUJZUUFBQUFBQUFnRmhBQUFBQUFBREFXRUFBQUFBQUFPQllRQUFBQUFBQUFGbEFBQUFBQUFBQVdVQUFBQUFBQUFCWlFBQUFBQUFBUUZsQW1wbVptWmw1V1VBQUFBQUFBSUJaUUFBQUFBQUFvRmxBQUFBQUFBREFXVUFBQUFBQUFBQmFRR1ptWm1abUpscEFBQUFBQUFCQVdrQUFBQUFBQU1CYVFBQUFBQUFBQUZ0QUFBQUFBQUFBVzBBQUFBQUFBQUJiUUFBQUFBQUFBRnRBQUFBQUFBQkFXMENhbVptWm1WbGJRQUFBQUFBQWdGdEFBQUFBQUFEQVcwQUFBQUFBQU1CYlFBQUFBQUFBQUZ4QUFBQUFBQUFBWEVETnpNek16R3hjUUFBQUFBQUFnRnhBQUFBQUFBREFYRUFBQUFBQUFNQmNRQUFBQUFBQXdGeEFBQUFBQUFBZ1hVQ3VSK0Y2Rkc1ZFFBQUFBQUFBZ0YxQUFBQUFBQUNBWFVBQUFBQUFBQUJlUUFBQUFBQUFBRjVBQUFBQUFBQUFYa0FBQUFBQUFFQmVRR1ptWm1abVpsNUFBQUFBQUFBQVgwQUFBQUFBQUFCZlFBQUFBQUFBTUY5QUFBQUFBQUJBWDBBQUFBQUFBSUJmUUpxWm1abVptVjlBTXpNek16T3pYMEFBQUFBQUFDQmdRQUFBQUFBQVFHQkFBQUFBQUFCZ1lFQUFBQUFBQUdCZ1FKcVptWm1aaVdCQXpjek16TXlNWUVCbVptWm1abzVnUU0zTXpNek1yR0JBQUFBQUFBREFZRUFBQUFBQUFPQmdRQUFBQUFBQUFHRkFabVptWm1ZR1lVQUFBQUFBQUVCaFFBQUFBQUFBd0dGQUFBQUFBQURnWVVBQUFBQUFBQ0JpUUpxWm1abVpXV0pBQUFBQUFBQ0FZa0FBQUFBQUFJQmlRQUFBQUFBQWdHSkFBQUFBQUFDZ1lrQUFBQUFBQU1CaVFBQUFBQUFBd0dKQTlpaGNqOElOWTBBQUFBQUFBRUJqUUFBQUFBQUFZR05BQUFBQUFBQ0FZMEFBQUFBQUFBQmtRQUFBQUFBQW9HUkFBQUFBQUFCZ1prQUFBQUFBQUtCblFBPT0iLCJkdHlwZSI6ImZsb2F0NjQiLCJzaGFwZSI6WzE3OV19LCJpbmRleCI6WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNTksNjAsNjEsNjIsNjMsNjQsNjUsNjYsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsNzUsNzYsNzcsNzgsNzksODAsODEsODIsODMsODQsODUsODYsODcsODgsODksOTAsOTEsOTIsOTMsOTQsOTUsOTYsOTcsOTgsOTksMTAwLDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA2LDEwNywxMDgsMTA5LDExMCwxMTEsMTEyLDExMywxMTQsMTE1LDExNiwxMTcsMTE4LDExOSwxMjAsMTIxLDEyMiwxMjMsMTI0LDEyNSwxMjYsMTI3LDEyOCwxMjksMTMwLDEzMSwxMzIsMTMzLDEzNCwxMzUsMTM2LDEzNywxMzgsMTM5LDE0MCwxNDEsMTQyLDE0MywxNDQsMTQ1LDE0NiwxNDcsMTQ4LDE0OSwxNTAsMTUxLDE1MiwxNTMsMTU0LDE1NSwxNTYsMTU3LDE1OCwxNTksMTYwLDE2MSwxNjIsMTYzLDE2NCwxNjUsMTY2LDE2NywxNjgsMTY5LDE3MCwxNzEsMTcyLDE3MywxNzQsMTc1LDE3NiwxNzcsMTc4XSwibGFiZWwiOlsiQWxlcmlhIiwiWmFnYXJvbG8iLCJCZXJuIiwiUm9zZWxsZSIsIkR1cmEiLCJDaGFydGVyaG91c2UiLCJUaGFycm9zIiwiVG9tZW4geSBNdXIiLCJWZWxsZWlhIiwiQ2ltaWV6IiwiSGVuY2hpciBEb3VhbWEiLCJNaWNpYSIsIkFpbiBUb3VuZ2EiLCJEcmV2YW50IiwiVGlnYXZhIENhc3RyYSIsIlNpZGkgYm91IEFya291YiIsIkFpbiBIZWRqYWgiLCJTdXNhIiwiQ2hlbXRvdSIsIkdlbnphbm8iLCJUaGliYXJpIiwiQ2FlcndlbnQiLCJNYWN0YXJpcyIsIkF1cmVsaXVtIENvbW1vZGlhbnVtIiwiRGplcmJhIiwiRmVyZW50byIsIlVsaXNpcHBpcmEiLCJDYXJ0aGFnbyBOb3ZhIiwiTWFyY2lhbm9wb2xpcyIsIkFxdWFlIE5lcmkiLCJDaGljaGVzdGVyIiwiTWVnaWRkbyIsIk5ld3N0ZWFkIiwiRWxldXRoZXJvcG9saXMiLCJHZW1lbGxhZSIsIlNiZWl0bGEiLCJUdXNjdWx1bSIsIkNpdmlkYXRlIENhbXVubyIsIlRlcmFtbyIsIlRodWJ1cmJvIE1haXVzIiwiT3Jkb25hIiwiQnVsbGEgUmVnaWEiLCJTZWdvYnJpZ2EiLCJTZXJlc3NpIiwiU3V0cml1bSIsIlRpcGFzYSIsIlNraWtkYSIsIkxpbGxlYm9ubmUiLCJGcm9zaW5vbmUiLCJQYWVzdHVtIiwiU2ludWVzc2EiLCJNYXVtYnVyeSIsIlZvbHRlcnJhIiwiQmVrYWx0YSIsIlNpbGNoZXN0ZXIiLCJCdXJudW0iLCJCZXZhZ25hIiwiQ2Flcmxlb24iLCJMZXB0aW1pbnVzIiwiU3BlbGxvIiwiUnVnZ2UiLCJUZWJlc3NhIiwiQ2Fzc2lubyIsIlBvcm9saXNzdW0iLCJHb3J0eW4iLCJWaW1pbmFjaXVtIiwiVGlidXIiLCJFbXB1cmllcyIsIkFxdWluY3VtIChDaXZpbGlhbikiLCJDYXJzdWxhZSIsIkx1bmEiLCJTYXJtaXplZ2V0dXNhIiwiRmFsZXJpaSBOb3ZpIiwiQW1waC4gQ2FzdHJlbnNlIiwiUm9jY2VsbGV0dGEgZGkgQm9yZ2lhIiwiTGliYXJuYSIsIkZhbGVyb25lIiwiUHRvbGVtYWlzIiwiU2FuIFZpdHRvcmlubyIsIlRoYWVuYWUiLCJTZW5saXMiLCJUb2RpIiwiQWNob2xsYSIsIkdydW1lbnRvIiwiQ2F0aW5pYSIsIlRoeXNkcnVzIChTbS4pIiwiQ2FnbGlhcmkiLCJDb25pbWJyaWdhIiwiVGVybmkiLCJUYXJyYWdvbmEiLCJDaGVzdGVyIiwiVmlydW51bSIsIlV0aGluYSIsIkl2cmVhIiwiWGFudGVuIiwiRmxhdmlhIFNvbHZhIiwiVGVybWluaSIsIlVyYnMgU2FsdmlhIiwiVmVub3NhIiwiTGFyaW4iLCJCYXJhcnVzIiwiQ29yaW50aCIsIlN1YXNhIiwiQ2FybnVudHVtIChNaWwuKSIsIkxvbmRvbiIsIlNpY2NhIFZlbmVyaWEiLCJUcmllciIsIlNhbiBCZW5lZGV0dG8iLCJMZWNjZSIsIkF1Z3N0IiwiUGFkdWEiLCJBbGJhIEZ1Y2VucyIsIkF1Z3VzdGEgQmFnaWVubm9ydW0iLCJMYW1iYWVzaXMiLCJMeW9uIiwiQWxsaWZhZSIsIkFiZWxsYSIsIkJvdXJnZXMiLCJJbW9sYSIsIlBvaXRpZXJzIiwiQW5hemFyYnVzIiwiQXJlenpvIiwiQmVzYW5cdTAwZTdvbiIsIlRvdWxvdXNlIiwiQW5jb25hIiwiVGVsZXNpYSIsIlZpbmRvbmlzc2EiLCJGclx1MDBlOWp1cyIsIkN1bWFlIiwiQXF1aW5vIiwiU3BvbGV0byIsIlNhYnJhdGhhIiwiQWxiYW5hIiwiUmltaW5pIiwiT2N0b2RvcnVzIiwiVXRpY2EiLCJPY3JpY3VsY3VtIiwiUG9sbGVuem8iLCJDYXJ0aGFnZSIsIkxlcHRpcyBNYWduYSIsIk5hcmJvbm5lIiwiRmxvcmVuY2UiLCJMdWNjYSIsIlNhbG9uYSIsIk5vY2VyYSIsIk1cdTAwZTlyaWRhIiwiU2FpbnRlcyIsIkx1Y2VyYSIsIkNhcm51bnR1bSAoQ2l2LikiLCJNaW50dXJubyIsIkFxdWluY3VtIChNaWxpdGFyeSkiLCJQXHUwMGU5cmlndWV1eCIsIkJvcmRlYXV4IiwiRHVyclx1MDBlYnMiLCJQdWxhIiwiTmltZXMiLCJDYWVzYXJlYSIsIlBvbXBlaWkiLCJBcmxlcyIsIkJlcmdhbWEiLCJDYW5vc2EiLCJBcXVpbGVpYSIsIkFsdGludW0iLCJDaGVyY2hlbCIsIlN5cmFjdXNlIiwiVGh5c2RydXMgKGxnLikiLCJBc2NvbGkiLCJNZXR6IiwiUG96enVvbGkgKEZsYXZpYW4pIiwiQW9zdGEiLCJDeXppY3VzIiwiVmVyb25hIiwiQXV0dW4iLCJNaWxhbiIsIlRvdXJzIiwiSXRhbGljYSIsIkNhcHVhIElJIiwiR3JhbmQiLCJDb2xvc3NldW0iXX0sInNlbGVjdGVkIjpudWxsLCJzZWxlY3Rpb25fcG9saWN5IjpudWxsfSwiaWQiOiI1NGM1YjgyNS0wZWJlLTQ5YjktOWIwNy0wZGRjYTc4ODQ3YWIiLCJ0eXBlIjoiQ29sdW1uRGF0YVNvdXJjZSJ9LHsiYXR0cmlidXRlcyI6eyJvdmVybGF5Ijp7ImlkIjoiMTcwMjI3YmMtZDg2Ni00ZTJiLTk0NmQtYTI0NjBkMzEwMzIxIiwidHlwZSI6IkJveEFubm90YXRpb24ifX0sImlkIjoiM2IwMjk0NDAtYzkzYi00OTcyLWI5YzEtMTVjZTI1ZDk2MmNhIiwidHlwZSI6IkJveFpvb21Ub29sIn1dLCJyb290X2lkcyI6WyIxOGU2N2VhMS0yYzM1LTQxYmItYTMxMC1iYzIzN2YxZGZmZmYiXX0sInRpdGxlIjoiQm9rZWggQXBwbGljYXRpb24iLCJ2ZXJzaW9uIjoiMC4xMi4xNSJ9fTsKICB2YXIgcmVuZGVyX2l0ZW1zID0gW3siZG9jaWQiOiIxOTY2YWUxNi00NTI3LTRiODYtYWQxMS01NWZmZGIyNTRjOGYiLCJlbGVtZW50aWQiOiIyZWE3M2IzNi0yMTk5LTRlY2MtOTI5ZC1mYjJmYmE4NGNmMjUiLCJtb2RlbGlkIjoiMThlNjdlYTEtMmMzNS00MWJiLWEzMTAtYmMyMzdmMWRmZmZmIn1dOwogIHJvb3QuQm9rZWguZW1iZWQuZW1iZWRfaXRlbXNfbm90ZWJvb2soZG9jc19qc29uLCByZW5kZXJfaXRlbXMpOwoKICB9CiAgaWYgKHJvb3QuQm9rZWggIT09IHVuZGVmaW5lZCkgewogICAgZW1iZWRfZG9jdW1lbnQocm9vdCk7CiAgfSBlbHNlIHsKICAgIHZhciBhdHRlbXB0cyA9IDA7CiAgICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbihyb290KSB7CiAgICAgIGlmIChyb290LkJva2VoICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBlbWJlZF9kb2N1bWVudChyb290KTsKICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgfQogICAgICBhdHRlbXB0cysrOwogICAgICBpZiAoYXR0ZW1wdHMgPiAxMDApIHsKICAgICAgICBjb25zb2xlLmxvZygiQm9rZWg6IEVSUk9SOiBVbmFibGUgdG8gcnVuIEJva2VoSlMgY29kZSBiZWNhdXNlIEJva2VoSlMgbGlicmFyeSBpcyBtaXNzaW5nIikKICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgfQogICAgfSwgMTAsIHJvb3QpCiAgfQp9KSh3aW5kb3cpOwo8L3NjcmlwdD4KPC9kaXY+" width="450" style="border:none !important;" height="300"></iframe>')[0];
                popup_bb11356405a246289872bb31a9083115.setContent(i_frame_eb3b3fe4aa49472994ba410001e45279);
            

            circle_marker_d9b32ec2981448b398d8126bdd5967f5.bindPopup(popup_bb11356405a246289872bb31a9083115);

            
        
    
            var circle_marker_83e32b936cb7498e9d7bb5885e591315 = L.circleMarker(
                [43.677778,4.631111],
                {
  "bubblingMouseEvents": true,
  "color": "red",
  "dashArray": null,
  "dashOffset": null,
  "fill": true,
  "fillColor": "red",
  "fillOpacity": 0.2,
  "fillRule": "evenodd",
  "lineCap": "round",
  "lineJoin": "round",
  "opacity": 1.0,
  "radius": 5,
  "stroke": true,
  "weight": 3
}
                ).addTo(map_69ad4b6db8094a879ee84b263615b2cf);
            
    
            var popup_eb9e444d6368450b96c5336dbc1840e4 = L.popup({maxWidth: '2650'});

            
                var i_frame_9b36b4eea8be4f0e9f1ee1365a788aa1 = $('<iframe src="data:text/html;charset=utf-8;base64,CiAgICAKPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC13aWRnZXRzLTAuMTIuMTUubWluLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4ucHlkYXRhLm9yZy9ib2tlaC9yZWxlYXNlL2Jva2VoLXRhYmxlcy0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC1nbC0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuNC5taW4uanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+CjxzY3JpcHQgc3JjPSJodHRwczovL2NvZGUuanF1ZXJ5LmNvbS91aS8xLjEwLjQvanF1ZXJ5LXVpLm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3JlcXVpcmUuanMvMi4xLjIwL3JlcXVpcmUubWluLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvdW5kZXJzY29yZS5qcy8xLjguMy91bmRlcnNjb3JlLW1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPmZ1bmN0aW9uIEhvbG9WaWV3c1dpZGdldCgpIHsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5pbml0X3NsaWRlciA9IGZ1bmN0aW9uKGluaXRfdmFsKXsKICBpZih0aGlzLmxvYWRfanNvbikgewogICAgdGhpcy5mcm9tX2pzb24oKQogIH0gZWxzZSB7CiAgICB0aGlzLnVwZGF0ZV9jYWNoZSgpOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5wb3B1bGF0ZV9jYWNoZSA9IGZ1bmN0aW9uKGlkeCl7CiAgdGhpcy5jYWNoZVtpZHhdLmlubmVySFRNTCA9IHRoaXMuZnJhbWVzW2lkeF07CiAgaWYgKHRoaXMuZW1iZWQpIHsKICAgIGRlbGV0ZSB0aGlzLmZyYW1lc1tpZHhdOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5wcm9jZXNzX2Vycm9yID0gZnVuY3Rpb24obXNnKXsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5mcm9tX2pzb24gPSBmdW5jdGlvbigpIHsKICB2YXIgZGF0YV91cmwgPSB0aGlzLmpzb25fcGF0aCArIHRoaXMuaWQgKyAnLmpzb24nOwogICQuZ2V0SlNPTihkYXRhX3VybCwgJC5wcm94eShmdW5jdGlvbihqc29uX2RhdGEpIHsKICAgIHRoaXMuZnJhbWVzID0ganNvbl9kYXRhOwogICAgdGhpcy51cGRhdGVfY2FjaGUoKTsKICAgIHRoaXMudXBkYXRlKDApOwogIH0sIHRoaXMpKTsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5keW5hbWljX3VwZGF0ZSA9IGZ1bmN0aW9uKGN1cnJlbnQpewogIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHsKICAgIHJldHVybgogIH0KICB0aGlzLmN1cnJlbnQgPSBjdXJyZW50OwogIGlmICh0aGlzLmNvbW0pIHsKICAgIHZhciBtc2cgPSB7Y29tbV9pZDogdGhpcy5pZCsnX2NsaWVudCcsIGNvbnRlbnQ6IGN1cnJlbnR9CiAgICB0aGlzLmNvbW0uc2VuZChtc2cpOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS51cGRhdGVfY2FjaGUgPSBmdW5jdGlvbihmb3JjZSl7CiAgdmFyIGZyYW1lX2xlbiA9IE9iamVjdC5rZXlzKHRoaXMuZnJhbWVzKS5sZW5ndGg7CiAgZm9yICh2YXIgaT0wOyBpPGZyYW1lX2xlbjsgaSsrKSB7CiAgICBpZighdGhpcy5sb2FkX2pzb24gfHwgdGhpcy5keW5hbWljKSAgewogICAgICB2YXIgZnJhbWUgPSBPYmplY3Qua2V5cyh0aGlzLmZyYW1lcylbaV07CiAgICB9IGVsc2UgewogICAgICB2YXIgZnJhbWUgPSBpOwogICAgfQogICAgaWYoIShmcmFtZSBpbiB0aGlzLmNhY2hlKSB8fCBmb3JjZSkgewogICAgICBpZiAoKGZyYW1lIGluIHRoaXMuY2FjaGUpICYmIGZvcmNlKSB7IHRoaXMuY2FjaGVbZnJhbWVdLnJlbW92ZSgpIH0KICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB2YXIgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIl9hbmltX2ltZyIrdGhpcy5pZCk7CiAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZGl2KQogICAgICB0aGlzLmNhY2hlW2ZyYW1lXSA9IGRpdjsKICAgICAgdmFyIGNhY2hlX2lkID0gIl9hbmltX2ltZyIrdGhpcy5pZCsiXyIrZnJhbWU7CiAgICAgIHRoaXMucG9wdWxhdGVfY2FjaGUoZnJhbWUpOwogICAgfQogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjdXJyZW50KXsKICBpZihjdXJyZW50IGluIHRoaXMuY2FjaGUpIHsKICAgIGZvciAodmFyIGluZGV4IGluIHRoaXMuY2FjaGUpIHsKICAgICAgdGhpcy5jYWNoZVtpbmRleF0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0KICAgIHRoaXMuY2FjaGVbY3VycmVudF0uc3R5bGUuZGlzcGxheSA9ICIiOwogICAgdGhpcy53YWl0ID0gZmFsc2U7CiAgfQp9CgpIb2xvVmlld3NXaWRnZXQucHJvdG90eXBlLmluaXRfY29tbXMgPSBmdW5jdGlvbigpIHsKICB2YXIgdGhhdCA9IHRoaXMKICBIb2xvVmlld3MuY29tbV9tYW5hZ2VyLnJlZ2lzdGVyX3RhcmdldCh0aGlzLnBsb3RfaWQsIHRoaXMuaWQsIGZ1bmN0aW9uIChtc2cpIHsgdGhhdC5wcm9jZXNzX21zZyhtc2cpIH0pCiAgaWYgKCF0aGlzLmNhY2hlZCB8fCB0aGlzLmR5bmFtaWMpIHsKICAgIGZ1bmN0aW9uIGFja19jYWxsYmFjayhtc2cpIHsKICAgICAgbXNnID0gSlNPTi5wYXJzZShtc2cuY29udGVudC5kYXRhKTsKICAgICAgdmFyIGNvbW1faWQgPSBtc2dbImNvbW1faWQiXQogICAgICB2YXIgY29tbV9zdGF0dXMgPSBIb2xvVmlld3MuY29tbV9zdGF0dXNbY29tbV9pZF07CiAgICAgIGlmICh0aGF0LnF1ZXVlLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGF0LnRpbWUgPSBEYXRlLm5vdygpOwogICAgICAgIHRoYXQuZHluYW1pY191cGRhdGUodGhhdC5xdWV1ZVt0aGF0LnF1ZXVlLmxlbmd0aC0xXSk7CiAgICAgICAgdGhhdC5xdWV1ZSA9IFtdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoYXQud2FpdCA9IGZhbHNlOwogICAgICB9CiAgICAgIGlmICgobXNnLm1zZ190eXBlID09ICJSZWFkeSIpICYmIG1zZy5jb250ZW50KSB7CiAgICAgICAgY29uc29sZS5sb2coIlB5dGhvbiBjYWxsYmFjayByZXR1cm5lZCBmb2xsb3dpbmcgb3V0cHV0OiIsIG1zZy5jb250ZW50KTsKICAgICAgfSBlbHNlIGlmIChtc2cubXNnX3R5cGUgPT0gIkVycm9yIikgewogICAgICAgIGNvbnNvbGUubG9nKCJQeXRob24gZmFpbGVkIHdpdGggdGhlIGZvbGxvd2luZyB0cmFjZWJhY2s6IiwgbXNnWyd0cmFjZWJhY2snXSkKICAgICAgfQogICAgfQogICAgdmFyIGNvbW0gPSBIb2xvVmlld3MuY29tbV9tYW5hZ2VyLmdldF9jbGllbnRfY29tbSh0aGlzLnBsb3RfaWQsIHRoaXMuaWQrJ19jbGllbnQnLCBhY2tfY2FsbGJhY2spOwogICAgcmV0dXJuIGNvbW0KICB9Cn0KCkhvbG9WaWV3c1dpZGdldC5wcm90b3R5cGUucHJvY2Vzc19tc2cgPSBmdW5jdGlvbihtc2cpIHsKfQoKZnVuY3Rpb24gU2VsZWN0aW9uV2lkZ2V0KGZyYW1lcywgaWQsIHNsaWRlcl9pZHMsIGtleU1hcCwgZGltX3ZhbHMsIG5vdEZvdW5kLCBsb2FkX2pzb24sIG1vZGUsIGNhY2hlZCwganNvbl9wYXRoLCBkeW5hbWljLCBwbG90X2lkKXsKICB0aGlzLmZyYW1lcyA9IGZyYW1lczsKICB0aGlzLmlkID0gaWQ7CiAgdGhpcy5wbG90X2lkID0gcGxvdF9pZDsKICB0aGlzLnNsaWRlcl9pZHMgPSBzbGlkZXJfaWRzOwogIHRoaXMua2V5TWFwID0ga2V5TWFwCiAgdGhpcy5jdXJyZW50X2ZyYW1lID0gMDsKICB0aGlzLmN1cnJlbnRfdmFscyA9IGRpbV92YWxzOwogIHRoaXMubG9hZF9qc29uID0gbG9hZF9qc29uOwogIHRoaXMubW9kZSA9IG1vZGU7CiAgdGhpcy5ub3RGb3VuZCA9IG5vdEZvdW5kOwogIHRoaXMuY2FjaGVkID0gY2FjaGVkOwogIHRoaXMuZHluYW1pYyA9IGR5bmFtaWM7CiAgdGhpcy5jYWNoZSA9IHt9OwogIHRoaXMuanNvbl9wYXRoID0ganNvbl9wYXRoOwogIHRoaXMuaW5pdF9zbGlkZXIodGhpcy5jdXJyZW50X3ZhbHNbMF0pOwogIHRoaXMucXVldWUgPSBbXTsKICB0aGlzLndhaXQgPSBmYWxzZTsKICBpZiAoIXRoaXMuY2FjaGVkIHx8IHRoaXMuZHluYW1pYykgewogICAgdGhpcy5jb21tID0gdGhpcy5pbml0X2NvbW1zKCk7CiAgfQp9CgpTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlID0gbmV3IEhvbG9WaWV3c1dpZGdldDsKCgpTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlLmdldF9rZXkgPSBmdW5jdGlvbihjdXJyZW50X3ZhbHMpIHsKICB2YXIga2V5ID0gIigiOwogIGZvciAodmFyIGk9MDsgaTx0aGlzLnNsaWRlcl9pZHMubGVuZ3RoOyBpKyspCiAgewogICAgdmFyIHZhbCA9IHRoaXMuY3VycmVudF92YWxzW2ldOwogICAgaWYgKCEodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpKSB7CiAgICAgIGlmICh2YWwgJSAxID09PSAwKSB7IHZhbCA9IHZhbC50b0ZpeGVkKDEpOyB9CiAgICAgIGVsc2UgeyB2YWwgPSB2YWwudG9GaXhlZCgxMCk7IHZhbCA9IHZhbC5zbGljZSgwLCB2YWwubGVuZ3RoLTEpO30KICAgIH0KICAgIGtleSArPSAiJyIgKyB2YWwgKyAiJyI7CiAgICBpZihpICE9IHRoaXMuc2xpZGVyX2lkcy5sZW5ndGgtMSkgeyBrZXkgKz0gJywgJzt9CiAgICBlbHNlIGlmKHRoaXMuc2xpZGVyX2lkcy5sZW5ndGggPT0gMSkgeyBrZXkgKz0gJywnO30KICB9CiAga2V5ICs9ICIpIjsKICByZXR1cm4gdGhpcy5rZXlNYXBba2V5XTsKfQoKU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZS5zZXRfZnJhbWUgPSBmdW5jdGlvbihkaW1fdmFsLCBkaW1faWR4KXsKICB0aGlzLmN1cnJlbnRfdmFsc1tkaW1faWR4XSA9IGRpbV92YWw7CiAgdmFyIGtleSA9IHRoaXMuY3VycmVudF92YWxzOwogIGlmICghdGhpcy5keW5hbWljKSB7CiAgICBrZXkgPSB0aGlzLmdldF9rZXkoa2V5KQogIH0KICBpZiAodGhpcy5keW5hbWljIHx8ICF0aGlzLmNhY2hlZCkgewogICAgaWYgKCh0aGlzLnRpbWUgIT09IHVuZGVmaW5lZCkgJiYgKCh0aGlzLndhaXQpICYmICgodGhpcy50aW1lICsgMTAwMDApID4gRGF0ZS5ub3coKSkpKSB7CiAgICAgIHRoaXMucXVldWUucHVzaChrZXkpOwogICAgICByZXR1cm4KICAgIH0KICAgIHRoaXMucXVldWUgPSBbXTsKICAgIHRoaXMudGltZSA9IERhdGUubm93KCk7CiAgICB0aGlzLmN1cnJlbnRfZnJhbWUgPSBrZXk7CiAgICB0aGlzLndhaXQgPSB0cnVlOwogICAgdGhpcy5keW5hbWljX3VwZGF0ZShrZXkpCiAgfSBlbHNlIGlmIChrZXkgIT09IHVuZGVmaW5lZCkgewogICAgdGhpcy51cGRhdGUoa2V5KQogIH0KfQoKCi8qIERlZmluZSB0aGUgU2NydWJiZXJXaWRnZXQgY2xhc3MgKi8KZnVuY3Rpb24gU2NydWJiZXJXaWRnZXQoZnJhbWVzLCBudW1fZnJhbWVzLCBpZCwgaW50ZXJ2YWwsIGxvYWRfanNvbiwgbW9kZSwgY2FjaGVkLCBqc29uX3BhdGgsIGR5bmFtaWMsIHBsb3RfaWQpewogIHRoaXMuc2xpZGVyX2lkID0gIl9hbmltX3NsaWRlciIgKyBpZDsKICB0aGlzLmxvb3Bfc2VsZWN0X2lkID0gIl9hbmltX2xvb3Bfc2VsZWN0IiArIGlkOwogIHRoaXMuaWQgPSBpZDsKICB0aGlzLnBsb3RfaWQgPSBwbG90X2lkOwogIHRoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbDsKICB0aGlzLmN1cnJlbnRfZnJhbWUgPSAwOwogIHRoaXMuZGlyZWN0aW9uID0gMDsKICB0aGlzLmR5bmFtaWMgPSBkeW5hbWljOwogIHRoaXMudGltZXIgPSBudWxsOwogIHRoaXMubG9hZF9qc29uID0gbG9hZF9qc29uOwogIHRoaXMubW9kZSA9IG1vZGU7CiAgdGhpcy5jYWNoZWQgPSBjYWNoZWQ7CiAgdGhpcy5mcmFtZXMgPSBmcmFtZXM7CiAgdGhpcy5jYWNoZSA9IHt9OwogIHRoaXMubGVuZ3RoID0gbnVtX2ZyYW1lczsKICB0aGlzLmpzb25fcGF0aCA9IGpzb25fcGF0aDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNsaWRlcl9pZCkubWF4ID0gdGhpcy5sZW5ndGggLSAxOwogIHRoaXMuaW5pdF9zbGlkZXIoMCk7CiAgdGhpcy53YWl0ID0gZmFsc2U7CiAgdGhpcy5xdWV1ZSA9IFtdOwogIGlmICghdGhpcy5jYWNoZWQgfHwgdGhpcy5keW5hbWljKSB7CiAgICB0aGlzLmNvbW0gPSB0aGlzLmluaXRfY29tbXMoKQogIH0KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlID0gbmV3IEhvbG9WaWV3c1dpZGdldDsKClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5zZXRfZnJhbWUgPSBmdW5jdGlvbihmcmFtZSl7CiAgdGhpcy5jdXJyZW50X2ZyYW1lID0gZnJhbWU7CiAgdmFyIHdpZGdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2xpZGVyX2lkKTsKICBpZiAod2lkZ2V0ID09PSBudWxsKSB7CiAgICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogICAgcmV0dXJuCiAgfQogIHdpZGdldC52YWx1ZSA9IHRoaXMuY3VycmVudF9mcmFtZTsKICBpZih0aGlzLmNhY2hlZCkgewogICAgdGhpcy51cGRhdGUoZnJhbWUpCiAgfSBlbHNlIHsKICAgIHRoaXMuZHluYW1pY191cGRhdGUoZnJhbWUpCiAgfQp9CgoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmdldF9sb29wX3N0YXRlID0gZnVuY3Rpb24oKXsKICB2YXIgYnV0dG9uX2dyb3VwID0gZG9jdW1lbnRbdGhpcy5sb29wX3NlbGVjdF9pZF0uc3RhdGU7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25fZ3JvdXAubGVuZ3RoOyBpKyspIHsKICAgIHZhciBidXR0b24gPSBidXR0b25fZ3JvdXBbaV07CiAgICBpZiAoYnV0dG9uLmNoZWNrZWQpIHsKICAgICAgcmV0dXJuIGJ1dHRvbi52YWx1ZTsKICAgIH0KICB9CiAgcmV0dXJuIHVuZGVmaW5lZDsKfQoKClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5uZXh0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUoTWF0aC5taW4odGhpcy5sZW5ndGggLSAxLCB0aGlzLmN1cnJlbnRfZnJhbWUgKyAxKSk7Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5wcmV2aW91c19mcmFtZSA9IGZ1bmN0aW9uKCkgewogIHRoaXMuc2V0X2ZyYW1lKE1hdGgubWF4KDAsIHRoaXMuY3VycmVudF9mcmFtZSAtIDEpKTsKfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmZpcnN0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUoMCk7Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5sYXN0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUodGhpcy5sZW5ndGggLSAxKTsKfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLnNsb3dlciA9IGZ1bmN0aW9uKCkgewogIHRoaXMuaW50ZXJ2YWwgLz0gMC43OwogIGlmKHRoaXMuZGlyZWN0aW9uID4gMCl7dGhpcy5wbGF5X2FuaW1hdGlvbigpO30KICBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uIDwgMCl7dGhpcy5yZXZlcnNlX2FuaW1hdGlvbigpO30KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmZhc3RlciA9IGZ1bmN0aW9uKCkgewogIHRoaXMuaW50ZXJ2YWwgKj0gMC43OwogIGlmKHRoaXMuZGlyZWN0aW9uID4gMCl7dGhpcy5wbGF5X2FuaW1hdGlvbigpO30KICBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uIDwgMCl7dGhpcy5yZXZlcnNlX2FuaW1hdGlvbigpO30KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmFuaW1fc3RlcF9mb3J3YXJkID0gZnVuY3Rpb24oKSB7CiAgaWYodGhpcy5jdXJyZW50X2ZyYW1lIDwgdGhpcy5sZW5ndGggLSAxKXsKICAgIHRoaXMubmV4dF9mcmFtZSgpOwogIH1lbHNlewogICAgdmFyIGxvb3Bfc3RhdGUgPSB0aGlzLmdldF9sb29wX3N0YXRlKCk7CiAgICBpZihsb29wX3N0YXRlID09ICJsb29wIil7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgIH1lbHNlIGlmKGxvb3Bfc3RhdGUgPT0gInJlZmxlY3QiKXsKICAgICAgdGhpcy5sYXN0X2ZyYW1lKCk7CiAgICAgIHRoaXMucmV2ZXJzZV9hbmltYXRpb24oKTsKICAgIH1lbHNlewogICAgICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogICAgICB0aGlzLmxhc3RfZnJhbWUoKTsKICAgIH0KICB9Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5hbmltX3N0ZXBfcmV2ZXJzZSA9IGZ1bmN0aW9uKCkgewogIGlmKHRoaXMuY3VycmVudF9mcmFtZSA+IDApewogICAgdGhpcy5wcmV2aW91c19mcmFtZSgpOwogIH0gZWxzZSB7CiAgICB2YXIgbG9vcF9zdGF0ZSA9IHRoaXMuZ2V0X2xvb3Bfc3RhdGUoKTsKICAgIGlmKGxvb3Bfc3RhdGUgPT0gImxvb3AiKXsKICAgICAgdGhpcy5sYXN0X2ZyYW1lKCk7CiAgICB9ZWxzZSBpZihsb29wX3N0YXRlID09ICJyZWZsZWN0Iil7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgICAgdGhpcy5wbGF5X2FuaW1hdGlvbigpOwogICAgfWVsc2V7CiAgICAgIHRoaXMucGF1c2VfYW5pbWF0aW9uKCk7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgIH0KICB9Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5wYXVzZV9hbmltYXRpb24gPSBmdW5jdGlvbigpIHsKICB0aGlzLmRpcmVjdGlvbiA9IDA7CiAgaWYgKHRoaXMudGltZXIpewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIHRoaXMudGltZXIgPSBudWxsOwogIH0KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLnBsYXlfYW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5wYXVzZV9hbmltYXRpb24oKTsKICB0aGlzLmRpcmVjdGlvbiA9IDE7CiAgdmFyIHQgPSB0aGlzOwogIGlmICghdGhpcy50aW1lcikgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5hbmltX3N0ZXBfZm9yd2FyZCgpO30sIHRoaXMuaW50ZXJ2YWwpOwp9CgpTY3J1YmJlcldpZGdldC5wcm90b3R5cGUucmV2ZXJzZV9hbmltYXRpb24gPSBmdW5jdGlvbigpIHsKICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogIHRoaXMuZGlyZWN0aW9uID0gLTE7CiAgdmFyIHQgPSB0aGlzOwogIGlmICghdGhpcy50aW1lcikgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5hbmltX3N0ZXBfcmV2ZXJzZSgpO30sIHRoaXMuaW50ZXJ2YWwpOwp9CgpmdW5jdGlvbiBleHRlbmQoZGVzdGluYXRpb24sIHNvdXJjZSkgewogIGZvciAodmFyIGsgaW4gc291cmNlKSB7CiAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGspKSB7CiAgICAgIGRlc3RpbmF0aW9uW2tdID0gc291cmNlW2tdOwogICAgfQogIH0KICByZXR1cm4gZGVzdGluYXRpb247Cn0KCmZ1bmN0aW9uIHVwZGF0ZV93aWRnZXQod2lkZ2V0LCB2YWx1ZXMpIHsKICBpZiAod2lkZ2V0Lmhhc0NsYXNzKCJ1aS1zbGlkZXIiKSkgewogICAgd2lkZ2V0LnNsaWRlcignb3B0aW9uJywgewogICAgICBtaW46IDAsCiAgICAgIG1heDogdmFsdWVzLmxlbmd0aC0xLAogICAgICBkaW1fdmFsczogdmFsdWVzLAogICAgICB2YWx1ZTogMCwKICAgICAgZGltX2xhYmVsczogdmFsdWVzCiAgICB9KQogICAgd2lkZ2V0LnNsaWRlcignb3B0aW9uJywgJ3NsaWRlJykuY2FsbCh3aWRnZXQsIGV2ZW50LCB7dmFsdWU6IDB9KQogIH0gZWxzZSB7CiAgICB3aWRnZXQuZW1wdHkoKTsKICAgIGZvciAodmFyIGk9MDsgaTx2YWx1ZXMubGVuZ3RoOyBpKyspewogICAgICB3aWRnZXQuYXBwZW5kKCQoIjxvcHRpb24+IiwgewogICAgICAgIHZhbHVlOiBpLAogICAgICAgIHRleHQ6IHZhbHVlc1tpXQogICAgICB9KSkKICAgIH07CiAgICB3aWRnZXQuZGF0YSgndmFsdWVzJywgdmFsdWVzKTsKICAgIHdpZGdldC5kYXRhKCd2YWx1ZScsIDApOwogICAgd2lkZ2V0LnRyaWdnZXIoImNoYW5nZSIpOwogIH07Cn0KCmZ1bmN0aW9uIGluaXRfc2xpZGVyKGlkLCBwbG90X2lkLCBkaW0sIHZhbHVlcywgbmV4dF92YWxzLCBsYWJlbHMsIGR5bmFtaWMsIHN0ZXAsIHZhbHVlLCBuZXh0X2RpbSwKICAgICAgICAgICAgICAgICAgICAgZGltX2lkeCwgZGVsYXksIGpRdWVyeVVJX0NETiwgVU5ERVJTQ09SRV9DRE4pIHsKICAvLyBTbGlkZXIgSlMgQmxvY2sgU1RBUlQKICBmdW5jdGlvbiBsb2FkY3NzZmlsZShmaWxlbmFtZSl7CiAgICB2YXIgZmlsZXJlZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIikKICAgIGZpbGVyZWYuc2V0QXR0cmlidXRlKCJyZWwiLCAic3R5bGVzaGVldCIpCiAgICBmaWxlcmVmLnNldEF0dHJpYnV0ZSgidHlwZSIsICJ0ZXh0L2NzcyIpCiAgICBmaWxlcmVmLnNldEF0dHJpYnV0ZSgiaHJlZiIsIGZpbGVuYW1lKQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChmaWxlcmVmKQogIH0KICBsb2FkY3NzZmlsZSgiaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vdWkvMS4xMC40L3RoZW1lcy9zbW9vdGhuZXNzL2pxdWVyeS11aS5jc3MiKTsKICAvKiBDaGVjayBpZiBqUXVlcnkgYW5kIGpRdWVyeVVJIGhhdmUgYmVlbiBsb2FkZWQKICAgICBvdGhlcndpc2UgbG9hZCB3aXRoIHJlcXVpcmUuanMgKi8KICB2YXIgalF1ZXJ5ID0gd2luZG93LmpRdWVyeSwKICAgIC8vIGNoZWNrIGZvciBvbGQgdmVyc2lvbnMgb2YgalF1ZXJ5CiAgICBvbGRqUXVlcnkgPSBqUXVlcnkgJiYgISFqUXVlcnkuZm4uanF1ZXJ5Lm1hdGNoKC9eMVwuWzAtNF0oXC58JCkvKSwKICAgIGpxdWVyeV9wYXRoID0gJycsCiAgICBwYXRocyA9IHt9LAogICAgbm9Db25mbGljdDsKICB2YXIgalF1ZXJ5VUkgPSBqUXVlcnkudWk7CiAgLy8gY2hlY2sgZm9yIGpRdWVyeQogIGlmICghalF1ZXJ5IHx8IG9sZGpRdWVyeSkgewogICAgLy8gbG9hZCBpZiBpdCdzIG5vdCBhdmFpbGFibGUgb3IgZG9lc24ndCBtZWV0IG1pbiBzdGFuZGFyZHMKICAgIHBhdGhzLmpRdWVyeSA9IGpRdWVyeTsKICAgIG5vQ29uZmxpY3QgPSAhIW9sZGpRdWVyeTsKICB9IGVsc2UgewogICAgLy8gcmVnaXN0ZXIgdGhlIGN1cnJlbnQgalF1ZXJ5CiAgICBkZWZpbmUoJ2pxdWVyeScsIFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGpRdWVyeTsgfSk7CiAgfQogIGlmICghalF1ZXJ5VUkpIHsKICAgIHBhdGhzLmpRdWVyeVVJID0galF1ZXJ5VUlfQ0ROLnNsaWNlKG51bGwsIC0zKTsKICB9IGVsc2UgewogICAgZGVmaW5lKCdqUXVlcnlVSScsIFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGpRdWVyeS51aTsgfSk7CiAgfQogIHBhdGhzLnVuZGVyc2NvcmUgPSBVTkRFUlNDT1JFX0NETi5zbGljZShudWxsLCAtMyk7CiAgdmFyIGpxdWVyeV9yZXF1aXJlID0gewogICAgcGF0aHM6IHBhdGhzLAogICAgc2hpbTogewogICAgICAialF1ZXJ5VUkiOiB7CiAgICAgICAgZXhwb3J0czoiJCIsCiAgICAgICAgZGVwczogWydqcXVlcnknXQogICAgICB9LAogICAgICAidW5kZXJzY29yZSI6IHsKICAgICAgICBleHBvcnRzOiAnXycKICAgICAgfQogICAgfQogIH0KICByZXF1aXJlLmNvbmZpZyhqcXVlcnlfcmVxdWlyZSk7CiAgcmVxdWlyZShbImpRdWVyeVVJIiwgInVuZGVyc2NvcmUiXSwgZnVuY3Rpb24oalVJLCBfKXsKICAgIGlmIChub0NvbmZsaWN0KSAkLm5vQ29uZmxpY3QodHJ1ZSk7CiAgICB2YXIgdmFscyA9IHZhbHVlczsKICAgIGlmIChkeW5hbWljICYmIHZhbHMuY29uc3RydWN0b3IgPT09IEFycmF5KSB7CiAgICAgIHZhciBkZWZhdWx0X3ZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7CiAgICAgIHZhciBtaW4gPSBwYXJzZUZsb2F0KHZhbHNbMF0pOwogICAgICB2YXIgbWF4ID0gcGFyc2VGbG9hdCh2YWxzW3ZhbHMubGVuZ3RoLTFdKTsKICAgICAgdmFyIHdzdGVwID0gc3RlcDsKICAgICAgdmFyIHdsYWJlbHMgPSBbZGVmYXVsdF92YWx1ZV07CiAgICAgIHZhciBpbml0X2xhYmVsID0gZGVmYXVsdF92YWx1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtaW4gPSAwOwogICAgICBpZiAoZHluYW1pYykgewogICAgICAgIHZhciBtYXggPSBPYmplY3Qua2V5cyh2YWxzKS5sZW5ndGggLSAxOwogICAgICAgIHZhciBpbml0X2xhYmVsID0gbGFiZWxzW3ZhbHVlXTsKICAgICAgICB2YXIgZGVmYXVsdF92YWx1ZSA9IHZhbHVlc1t2YWx1ZV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG1heCA9IHZhbHMubGVuZ3RoIC0gMTsKICAgICAgICB2YXIgaW5pdF9sYWJlbCA9IGxhYmVsc1t2YWx1ZV07CiAgICAgICAgdmFyIGRlZmF1bHRfdmFsdWUgPSB2YWx1ZTsKICAgICAgfQogICAgICB2YXIgd3N0ZXAgPSAxOwogICAgICB2YXIgd2xhYmVscyA9IGxhYmVsczsKICAgIH0KICAgIGZ1bmN0aW9uIGFkanVzdEZvbnRTaXplKHRleHQpIHsKICAgICAgdmFyIHdpZHRoX3JhdGlvID0gKHRleHQucGFyZW50KCkud2lkdGgoKS84KS90ZXh0LnZhbCgpLmxlbmd0aDsKICAgICAgdmFyIHNpemUgPSBNYXRoLm1pbigwLjksIE1hdGgubWF4KDAuNiwgd2lkdGhfcmF0aW8pKSsnZW0nOwogICAgICB0ZXh0LmNzcygnZm9udC1zaXplJywgc2l6ZSk7CiAgICB9CiAgICB2YXIgc2xpZGVyID0gJCgnI19hbmltX3dpZGdldCcraWQrJ18nK2RpbSk7CiAgICBzbGlkZXIuc2xpZGVyKHsKICAgICAgYW5pbWF0ZTogImZhc3QiLAogICAgICBtaW46IG1pbiwKICAgICAgbWF4OiBtYXgsCiAgICAgIHN0ZXA6IHdzdGVwLAogICAgICB2YWx1ZTogZGVmYXVsdF92YWx1ZSwKICAgICAgZGltX3ZhbHM6IHZhbHMsCiAgICAgIGRpbV9sYWJlbHM6IHdsYWJlbHMsCiAgICAgIG5leHRfdmFsczogbmV4dF92YWxzLAogICAgICBzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7CiAgICAgICAgdmFyIHZhbHMgPSBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAiZGltX3ZhbHMiKTsKICAgICAgICB2YXIgbmV4dF92YWxzID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgIm5leHRfdmFscyIpOwogICAgICAgIHZhciBkbGFiZWxzID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgImRpbV9sYWJlbHMiKTsKICAgICAgICBpZiAoZHluYW1pYykgewogICAgICAgICAgdmFyIGRpbV92YWwgPSB1aS52YWx1ZTsKICAgICAgICAgIGlmICh2YWxzLmNvbnN0cnVjdG9yID09PSBBcnJheSkgewogICAgICAgICAgICB2YXIgbGFiZWwgPSB1aS52YWx1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBsYWJlbCA9IGRsYWJlbHNbdWkudmFsdWVdOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgZGltX3ZhbCA9IHZhbHNbdWkudmFsdWVdOwogICAgICAgICAgdmFyIGxhYmVsID0gZGxhYmVsc1t1aS52YWx1ZV07CiAgICAgICAgfQogICAgICAgIHZhciB0ZXh0ID0gJCgnI3RleHRJbnB1dCcraWQrJ18nK2RpbSk7CiAgICAgICAgdGV4dC52YWwobGFiZWwpOwogICAgICAgIGFkanVzdEZvbnRTaXplKHRleHQpOwogICAgICAgIEhvbG9WaWV3cy5pbmRleFtwbG90X2lkXS5zZXRfZnJhbWUoZGltX3ZhbCwgZGltX2lkeCk7CiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5leHRfdmFscykubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIG5ld192YWxzID0gbmV4dF92YWxzW2RpbV92YWxdOwogICAgICAgICAgdmFyIG5leHRfd2lkZ2V0ID0gJCgnI19hbmltX3dpZGdldCcraWQrJ18nK25leHRfZGltKTsKICAgICAgICAgIHVwZGF0ZV93aWRnZXQobmV4dF93aWRnZXQsIG5ld192YWxzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgc2xpZGVyLmtleXByZXNzKGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIGlmIChldmVudC53aGljaCA9PSA4MCB8fCBldmVudC53aGljaCA9PSAxMTIpIHsKICAgICAgICB2YXIgc3RhcnQgPSBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAidmFsdWUiKTsKICAgICAgICB2YXIgc3RvcCA9ICBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAibWF4Iik7CiAgICAgICAgZm9yICh2YXIgaT1zdGFydDsgaTw9c3RvcDsgaSsrKSB7CiAgICAgICAgICB2YXIgZGVsYXkgPSBpKmRlbGF5OwogICAgICAgICAgJC5wcm94eShmdW5jdGlvbiBkb1NldFRpbWVvdXQoaSkgeyBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB2YWwgPSB7dmFsdWU6aX07CiAgICAgICAgICAgIHNsaWRlci5zbGlkZXIoJ3ZhbHVlJyxpKTsKICAgICAgICAgICAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInNsaWRlIikobnVsbCwgdmFsKTsKICAgICAgICAgIH0sIHNsaWRlciksIGRlbGF5KTt9LCBzbGlkZXIpKGkpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoZXZlbnQud2hpY2ggPT0gODIgfHwgZXZlbnQud2hpY2ggPT0gMTE0KSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInZhbHVlIik7CiAgICAgICAgdmFyIHN0b3AgPSAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgIm1pbiIpOwogICAgICAgIHZhciBjb3VudCA9IDA7CiAgICAgICAgZm9yICh2YXIgaT1zdGFydDsgaT49c3RvcDsgaS0tKSB7CiAgICAgICAgICB2YXIgZGVsYXkgPSBjb3VudCpkZWxheTsKICAgICAgICAgIGNvdW50ID0gY291bnQgKyAxOwogICAgICAgICAgJC5wcm94eShmdW5jdGlvbiBkb1NldFRpbWVvdXQoaSkgeyBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB2YWwgPSB7dmFsdWU6aX07CiAgICAgICAgICAgIHNsaWRlci5zbGlkZXIoJ3ZhbHVlJyxpKTsKICAgICAgICAgICAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInNsaWRlIikobnVsbCwgdmFsKTsKICAgICAgICAgIH0sIHNsaWRlciksIGRlbGF5KTt9LCBzbGlkZXIpKGkpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICB2YXIgdGV4dElucHV0ID0gJCgnI3RleHRJbnB1dCcraWQrJ18nK2RpbSkKICAgIHRleHRJbnB1dC52YWwoaW5pdF9sYWJlbCk7CiAgICBhZGp1c3RGb250U2l6ZSh0ZXh0SW5wdXQpOwogIH0pOwp9CgpmdW5jdGlvbiBpbml0X2Ryb3Bkb3duKGlkLCBwbG90X2lkLCBkaW0sIHZhbHMsIHZhbHVlLCBuZXh0X3ZhbHMsIGxhYmVscywgbmV4dF9kaW0sIGRpbV9pZHgsIGR5bmFtaWMpIHsKICB2YXIgd2lkZ2V0ID0gJCgiI19hbmltX3dpZGdldCIraWQrJ18nK2RpbSk7CiAgd2lkZ2V0LmRhdGEoJ3ZhbHVlcycsIHZhbHMpCiAgZm9yICh2YXIgaT0wOyBpPHZhbHMubGVuZ3RoOyBpKyspewogICAgaWYgKGR5bmFtaWMpIHsKICAgICAgdmFyIHZhbCA9IHZhbHNbaV07CiAgICB9IGVsc2UgewogICAgICB2YXIgdmFsID0gaTsKICAgIH0KICAgIHdpZGdldC5hcHBlbmQoJCgiPG9wdGlvbj4iLCB7CiAgICAgIHZhbHVlOiB2YWwsCiAgICAgIHRleHQ6IGxhYmVsc1tpXQogICAgfSkpOwogIH07CiAgd2lkZ2V0LmRhdGEoIm5leHRfdmFscyIsIG5leHRfdmFscyk7CiAgd2lkZ2V0LnZhbCh2YWx1ZSk7CiAgd2lkZ2V0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihldmVudCwgdWkpIHsKICAgIGlmIChkeW5hbWljKSB7CiAgICAgIHZhciBkaW1fdmFsID0gcGFyc2VJbnQodGhpcy52YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICB2YXIgZGltX3ZhbCA9ICQuZGF0YSh0aGlzLCAndmFsdWVzJylbdGhpcy52YWx1ZV07CiAgICB9CiAgICB2YXIgbmV4dF92YWxzID0gJC5kYXRhKHRoaXMsICJuZXh0X3ZhbHMiKTsKICAgIGlmIChPYmplY3Qua2V5cyhuZXh0X3ZhbHMpLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIG5ld192YWxzID0gbmV4dF92YWxzW2RpbV92YWxdOwogICAgICB2YXIgbmV4dF93aWRnZXQgPSAkKCcjX2FuaW1fd2lkZ2V0JytpZCsnXycrbmV4dF9kaW0pOwogICAgICB1cGRhdGVfd2lkZ2V0KG5leHRfd2lkZ2V0LCBuZXdfdmFscyk7CiAgICB9CiAgICB2YXIgd2lkZ2V0cyA9IEhvbG9WaWV3cy5pbmRleFtwbG90X2lkXQogICAgaWYgKHdpZGdldHMpIHsKICAgICAgd2lkZ2V0cy5zZXRfZnJhbWUoZGltX3ZhbCwgZGltX2lkeCk7CiAgICB9CiAgfSk7Cn0KCmlmICh3aW5kb3cuSG9sb1ZpZXdzID09PSB1bmRlZmluZWQpIHsKICB3aW5kb3cuSG9sb1ZpZXdzID0ge30KfQoKdmFyIF9uYW1lc3BhY2UgPSB7CiAgaW5pdF9zbGlkZXI6IGluaXRfc2xpZGVyLAogIGluaXRfZHJvcGRvd246IGluaXRfZHJvcGRvd24sCiAgY29tbXM6IHt9LAogIGNvbW1fc3RhdHVzOiB7fSwKICBpbmRleDoge30sCiAgcGxvdF9pbmRleDoge30sCiAga2VybmVsczoge30sCiAgcmVjZWl2ZXJzOiB7fQp9Cgpmb3IgKHZhciBrIGluIF9uYW1lc3BhY2UpIHsKICBpZiAoIShrIGluIHdpbmRvdy5Ib2xvVmlld3MpKSB7CiAgICB3aW5kb3cuSG9sb1ZpZXdzW2tdID0gX25hbWVzcGFjZVtrXTsKICB9Cn0KCnZhciBKU19NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vamF2YXNjcmlwdCc7CnZhciBIVE1MX01JTUVfVFlQRSA9ICd0ZXh0L2h0bWwnOwp2YXIgRVhFQ19NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vdm5kLmhvbG92aWV3c19leGVjLnYwK2pzb24nOwp2YXIgQ0xBU1NfTkFNRSA9ICdvdXRwdXQnOwoKLyoqCiAqIFJlbmRlciBkYXRhIHRvIHRoZSBET00gbm9kZQogKi8KZnVuY3Rpb24gcmVuZGVyKHByb3BzLCBub2RlKSB7CiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICBub2RlLmFwcGVuZENoaWxkKGRpdik7CiAgbm9kZS5hcHBlbmRDaGlsZChzY3JpcHQpOwp9CgovKioKICogSGFuZGxlIHdoZW4gYSBuZXcgb3V0cHV0IGlzIGFkZGVkCiAqLwpmdW5jdGlvbiBoYW5kbGVfYWRkX291dHB1dChldmVudCwgaGFuZGxlKSB7CiAgdmFyIG91dHB1dF9hcmVhID0gaGFuZGxlLm91dHB1dF9hcmVhOwogIHZhciBvdXRwdXQgPSBoYW5kbGUub3V0cHV0OwogIGlmICghb3V0cHV0LmRhdGEuaGFzT3duUHJvcGVydHkoRVhFQ19NSU1FX1RZUEUpKSB7CiAgICByZXR1cm4KICB9CiAgdmFyIGlkID0gb3V0cHV0Lm1ldGFkYXRhW0VYRUNfTUlNRV9UWVBFXVsiaWQiXTsKICB2YXIgdG9pbnNlcnQgPSBvdXRwdXRfYXJlYS5lbGVtZW50LmZpbmQoIi4iICsgQ0xBU1NfTkFNRS5zcGxpdCgnICcpWzBdKTsKICBpZiAoaWQgIT09IHVuZGVmaW5lZCkgewogICAgdG9pbnNlcnRbMF0uY2hpbGRyZW5bMF0uaW5uZXJIVE1MID0gb3V0cHV0LmRhdGFbSFRNTF9NSU1FX1RZUEVdOwogICAgdG9pbnNlcnRbMF0uY2hpbGRyZW5bMV0udGV4dENvbnRlbnQgPSBvdXRwdXQuZGF0YVtKU19NSU1FX1RZUEVdOwogICAgb3V0cHV0X2FyZWEuX2h2X3Bsb3RfaWQgPSBpZDsKICAgIGlmICgod2luZG93LkJva2VoICE9PSB1bmRlZmluZWQpICYmIChpZCBpbiBCb2tlaC5pbmRleCkpIHsKICAgICAgSG9sb1ZpZXdzLnBsb3RfaW5kZXhbaWRdID0gQm9rZWguaW5kZXhbaWRdOwogICAgfSBlbHNlIHsKICAgICAgSG9sb1ZpZXdzLnBsb3RfaW5kZXhbaWRdID0gbnVsbDsKICAgIH0KICB9Cn0KCi8qKgogKiBIYW5kbGUgd2hlbiBhbiBvdXRwdXQgaXMgY2xlYXJlZCBvciByZW1vdmVkCiAqLwpmdW5jdGlvbiBoYW5kbGVfY2xlYXJfb3V0cHV0KGV2ZW50LCBoYW5kbGUpIHsKICB2YXIgaWQgPSBoYW5kbGUuY2VsbC5vdXRwdXRfYXJlYS5faHZfcGxvdF9pZDsKICBpZiAoKGlkID09PSB1bmRlZmluZWQpIHx8ICEoaWQgaW4gSG9sb1ZpZXdzLnBsb3RfaW5kZXgpKSB7IHJldHVybjsgfQogIHZhciBjb21tID0gd2luZG93LkhvbG9WaWV3cy5jb21tX21hbmFnZXIuZ2V0X2NsaWVudF9jb21tKCJodi1leHRlbnNpb24tY29tbSIsICJodi1leHRlbnNpb24tY29tbSIsIGZ1bmN0aW9uICgpIHt9KTsKICBpZiAoY29tbSAhPT0gbnVsbCkgewogICAgY29tbS5zZW5kKHtldmVudF90eXBlOiAnZGVsZXRlJywgJ2lkJzogaWR9KTsKICB9CiAgZGVsZXRlIEhvbG9WaWV3cy5wbG90X2luZGV4W2lkXTsKICBpZiAoKHdpbmRvdy5Cb2tlaCAhPT0gdW5kZWZpbmVkKSAmIChpZCBpbiB3aW5kb3cuQm9rZWguaW5kZXgpKSB7CiAgICB3aW5kb3cuQm9rZWguaW5kZXhbaWRdLm1vZGVsLmRvY3VtZW50LmNsZWFyKCk7CiAgICBkZWxldGUgQm9rZWguaW5kZXhbaWRdOwogIH0KfQoKZnVuY3Rpb24gaGFuZGxlX2tlcm5lbF9jbGVhbnVwKGV2ZW50LCBoYW5kbGUpIHsKICBkZWxldGUgSG9sb1ZpZXdzLmNvbW1zWyJodi1leHRlbnNpb24tY29tbSJdOwogIHdpbmRvdy5Ib2xvVmlld3MucGxvdF9pbmRleCA9IHt9Cn0KCmZ1bmN0aW9uIHJlZ2lzdGVyX3JlbmRlcmVyKGV2ZW50cywgT3V0cHV0QXJlYSkgewogIGZ1bmN0aW9uIGFwcGVuZF9taW1lKGRhdGEsIG1ldGFkYXRhLCBlbGVtZW50KSB7CiAgICAvLyBjcmVhdGUgYSBET00gbm9kZSB0byByZW5kZXIgdG8KICAgIHZhciB0b2luc2VydCA9IHRoaXMuY3JlYXRlX291dHB1dF9zdWJhcmVhKAogICAgbWV0YWRhdGEsCiAgICBDTEFTU19OQU1FLAogICAgRVhFQ19NSU1FX1RZUEUKICAgICk7CiAgICB0aGlzLmtleWJvYXJkX21hbmFnZXIucmVnaXN0ZXJfZXZlbnRzKHRvaW5zZXJ0KTsKICAgIC8vIFJlbmRlciB0byBub2RlCiAgICB2YXIgcHJvcHMgPSB7ZGF0YTogZGF0YSwgbWV0YWRhdGE6IG1ldGFkYXRhW0VYRUNfTUlNRV9UWVBFXX07CiAgICByZW5kZXIocHJvcHMsIHRvaW5zZXJ0WzBdKTsKICAgIGVsZW1lbnQuYXBwZW5kKHRvaW5zZXJ0KTsKICAgIHJldHVybiB0b2luc2VydAogIH0KCiAgZXZlbnRzLm9uKCdvdXRwdXRfYWRkZWQuT3V0cHV0QXJlYScsIGhhbmRsZV9hZGRfb3V0cHV0KTsKICBldmVudHMub24oJ2NsZWFyX291dHB1dC5Db2RlQ2VsbCcsIGhhbmRsZV9jbGVhcl9vdXRwdXQpOwogIGV2ZW50cy5vbignZGVsZXRlLkNlbGwnLCBoYW5kbGVfY2xlYXJfb3V0cHV0KTsKICBldmVudHMub24oJ2tlcm5lbF9yZWFkeS5LZXJuZWwnLCBoYW5kbGVfa2VybmVsX2NsZWFudXApOwoKICBPdXRwdXRBcmVhLnByb3RvdHlwZS5yZWdpc3Rlcl9taW1lX3R5cGUoRVhFQ19NSU1FX1RZUEUsIGFwcGVuZF9taW1lLCB7CiAgICBzYWZlOiB0cnVlLAogICAgaW5kZXg6IDAKICB9KTsKfQoKaWYgKHdpbmRvdy5KdXB5dGVyICE9PSB1bmRlZmluZWQpIHsKICB0cnkgewogICAgdmFyIGV2ZW50cyA9IHJlcXVpcmUoJ2Jhc2UvanMvZXZlbnRzJyk7CiAgICB2YXIgT3V0cHV0QXJlYSA9IHJlcXVpcmUoJ25vdGVib29rL2pzL291dHB1dGFyZWEnKS5PdXRwdXRBcmVhOwogICAgaWYgKE91dHB1dEFyZWEucHJvdG90eXBlLm1pbWVfdHlwZXMoKS5pbmRleE9mKEVYRUNfTUlNRV9UWVBFKSA9PSAtMSkgewogICAgICByZWdpc3Rlcl9yZW5kZXJlcihldmVudHMsIE91dHB1dEFyZWEpOwogICAgfQogIH0gY2F0Y2goZXJyKSB7CiAgfQp9CgovLyBEZWZpbmUgQm9rZWggc3BlY2lmaWMgc3ViY2xhc3NlcwpmdW5jdGlvbiBCb2tlaFNlbGVjdGlvbldpZGdldCgpIHsKICBTZWxlY3Rpb25XaWRnZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gQm9rZWhTY3J1YmJlcldpZGdldCgpIHsKICBTY3J1YmJlcldpZGdldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgovLyBMZXQgdGhlbSBpbmhlcml0IGZyb20gdGhlIGJhc2VjbGFzc2VzCkJva2VoU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZSk7CkJva2VoU2NydWJiZXJXaWRnZXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTY3J1YmJlcldpZGdldC5wcm90b3R5cGUpOwoKLy8gRGVmaW5lIG1ldGhvZHMgdG8gb3ZlcnJpZGUgb24gd2lkZ2V0cwp2YXIgQm9rZWhNZXRob2RzID0gewogIHVwZGF0ZV9jYWNoZSA6IGZ1bmN0aW9uKCl7CiAgICBmb3IgKHZhciBpbmRleCBpbiB0aGlzLmZyYW1lcykgewogICAgICB0aGlzLmZyYW1lc1tpbmRleF0gPSBKU09OLnBhcnNlKHRoaXMuZnJhbWVzW2luZGV4XSk7CiAgICB9CiAgfSwKICB1cGRhdGUgOiBmdW5jdGlvbihjdXJyZW50KXsKICAgIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGRhdGEgPSB0aGlzLmZyYW1lc1tjdXJyZW50XTsKCWlmIChkYXRhICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIGRvYyA9IEhvbG9WaWV3cy5wbG90X2luZGV4W2RhdGEucm9vdF0ubW9kZWwuZG9jdW1lbnQ7CiAgICAgIGRvYy5hcHBseV9qc29uX3BhdGNoKGRhdGEuY29udGVudCk7CiAgICB9CiAgfSwKICBpbml0X2NvbW1zOiBmdW5jdGlvbigpIHsKICAgIGlmIChCb2tlaC5wcm90b2NvbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMucmVjZWl2ZXIgPSBuZXcgQm9rZWgucHJvdG9jb2wuUmVjZWl2ZXIoKQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5yZWNlaXZlciA9IG51bGw7Cgl9CiAgICByZXR1cm4gSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5pbml0X2NvbW1zLmNhbGwodGhpcyk7CiAgfSwKICBwcm9jZXNzX21zZyA6IGZ1bmN0aW9uKG1zZykgewogICAgdmFyIGRvYyA9IEhvbG9WaWV3cy5wbG90X2luZGV4W3RoaXMucGxvdF9pZF0ubW9kZWwuZG9jdW1lbnQ7CiAgICBpZiAodGhpcy5yZWNlaXZlciA9PT0gbnVsbCkgeyByZXR1cm4gfQogICAgdmFyIHJlY2VpdmVyID0gdGhpcy5yZWNlaXZlcjsKICAgIGlmIChtc2cuYnVmZmVycy5sZW5ndGggPiAwKSB7CiAgICAgIHJlY2VpdmVyLmNvbnN1bWUobXNnLmJ1ZmZlcnNbMF0uYnVmZmVyKQogICAgfSBlbHNlIHsKICAgICAgcmVjZWl2ZXIuY29uc3VtZShtc2cuY29udGVudC5kYXRhKQogICAgfQogICAgY29uc3QgY29tbV9tc2cgPSByZWNlaXZlci5tZXNzYWdlOwogICAgaWYgKChjb21tX21zZyAhPSBudWxsKSAmJiAoZG9jICE9IG51bGwpKSB7CiAgICAgIGRvYy5hcHBseV9qc29uX3BhdGNoKGNvbW1fbXNnLmNvbnRlbnQsIGNvbW1fbXNnLmJ1ZmZlcnMpCiAgICB9CiAgfQp9CgovLyBFeHRlbmQgQm9rZWggd2lkZ2V0cyB3aXRoIGJhY2tlbmQgc3BlY2lmaWMgbWV0aG9kcwpleHRlbmQoQm9rZWhTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlLCBCb2tlaE1ldGhvZHMpOwpleHRlbmQoQm9rZWhTY3J1YmJlcldpZGdldC5wcm90b3R5cGUsIEJva2VoTWV0aG9kcyk7Cgp3aW5kb3cuSG9sb1ZpZXdzLkJva2VoU2VsZWN0aW9uV2lkZ2V0ID0gQm9rZWhTZWxlY3Rpb25XaWRnZXQKd2luZG93LkhvbG9WaWV3cy5Cb2tlaFNjcnViYmVyV2lkZ2V0ID0gQm9rZWhTY3J1YmJlcldpZGdldAo8L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgogICAgZnVuY3Rpb24gSnVweXRlckNvbW1NYW5hZ2VyKCkgewogICAgfQoKICAgIEp1cHl0ZXJDb21tTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJfdGFyZ2V0ID0gZnVuY3Rpb24ocGxvdF9pZCwgY29tbV9pZCwgbXNnX2hhbmRsZXIpIHsKICAgICAgaWYgKHdpbmRvdy5jb21tX21hbmFnZXIgfHwgKCh3aW5kb3cuSnVweXRlciAhPT0gdW5kZWZpbmVkKSAmJiAoSnVweXRlci5ub3RlYm9vay5rZXJuZWwgIT0gbnVsbCkpKSB7CiAgICAgICAgdmFyIGNvbW1fbWFuYWdlciA9IHdpbmRvdy5jb21tX21hbmFnZXIgfHwgSnVweXRlci5ub3RlYm9vay5rZXJuZWwuY29tbV9tYW5hZ2VyOwogICAgICAgIGNvbW1fbWFuYWdlci5yZWdpc3Rlcl90YXJnZXQoY29tbV9pZCwgZnVuY3Rpb24oY29tbSkgewogICAgICAgICAgY29tbS5vbl9tc2cobXNnX2hhbmRsZXIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKChwbG90X2lkIGluIEhvbG9WaWV3cy5rZXJuZWxzKSAmJiAoSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0pKSB7CiAgICAgICAgSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0ucmVnaXN0ZXJDb21tVGFyZ2V0KGNvbW1faWQsIGZ1bmN0aW9uKGNvbW0pIHsKICAgICAgICAgIGNvbW0ub25Nc2cgPSBtc2dfaGFuZGxlcjsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIEp1cHl0ZXJDb21tTWFuYWdlci5wcm90b3R5cGUuZ2V0X2NsaWVudF9jb21tID0gZnVuY3Rpb24ocGxvdF9pZCwgY29tbV9pZCwgbXNnX2hhbmRsZXIpIHsKICAgICAgaWYgKGNvbW1faWQgaW4gd2luZG93LkhvbG9WaWV3cy5jb21tcykgewogICAgICAgIHJldHVybiBIb2xvVmlld3MuY29tbXNbY29tbV9pZF07CiAgICAgIH0gZWxzZSBpZiAod2luZG93LmNvbW1fbWFuYWdlciB8fCAoKHdpbmRvdy5KdXB5dGVyICE9PSB1bmRlZmluZWQpICYmIChKdXB5dGVyLm5vdGVib29rLmtlcm5lbCAhPSBudWxsKSkpIHsKICAgICAgICB2YXIgY29tbV9tYW5hZ2VyID0gd2luZG93LmNvbW1fbWFuYWdlciB8fCBKdXB5dGVyLm5vdGVib29rLmtlcm5lbC5jb21tX21hbmFnZXI7CiAgICAgICAgdmFyIGNvbW0gPSBjb21tX21hbmFnZXIubmV3X2NvbW0oY29tbV9pZCwge30sIHt9LCB7fSwgY29tbV9pZCk7CiAgICAgICAgaWYgKG1zZ19oYW5kbGVyKSB7CiAgICAgICAgICBjb21tLm9uX21zZyhtc2dfaGFuZGxlcik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKChwbG90X2lkIGluIEhvbG9WaWV3cy5rZXJuZWxzKSAmJiAoSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0pKSB7CiAgICAgICAgdmFyIGNvbW0gPSBIb2xvVmlld3Mua2VybmVsc1twbG90X2lkXS5jb25uZWN0VG9Db21tKGNvbW1faWQpOwogICAgICAgIGNvbW0ub3BlbigpOwogICAgICAgIGlmIChtc2dfaGFuZGxlcikgewogICAgICAgICAgY29tbS5vbk1zZyA9IG1zZ19oYW5kbGVyOwogICAgICAgIH0KICAgICAgfQogICAgICBIb2xvVmlld3MuY29tbXNbY29tbV9pZF0gPSBjb21tOwogICAgICByZXR1cm4gY29tbTsKICAgIH0KCiAgICB3aW5kb3cuSG9sb1ZpZXdzLmNvbW1fbWFuYWdlciA9IG5ldyBKdXB5dGVyQ29tbU1hbmFnZXIoKTsKICAgIDwvc2NyaXB0PgoKPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5weWRhdGEub3JnL2Jva2VoL3JlbGVhc2UvYm9rZWgtMC4xMi4xNS5taW4uY3NzIj4KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5weWRhdGEub3JnL2Jva2VoL3JlbGVhc2UvYm9rZWgtd2lkZ2V0cy0wLjEyLjE1Lm1pbi5jc3MiPgo8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC10YWJsZXMtMC4xMi4xNS5taW4uY3NzIj4KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjMuNi9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiPgo8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL3VpLzEuMTAuNC90aGVtZXMvc21vb3RobmVzcy9qcXVlcnktdWkuY3NzIj4KPHN0eWxlPmRpdi5iay1oYm94IHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoKZGl2LmJrLWhib3ggZGl2LmJrLXBsb3QgewogICAgcGFkZGluZzogOHB4Owp9CgpkaXYuYmstaGJveCBkaXYuYmstZGF0YS10YWJsZSB7CiAgICBwYWRkaW5nOiAyMHB4Owp9CgpkaXYuaG9sb2xheW91dCB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIG1hcmdpbjogMDsKfQoKZGl2LmhvbG9mcmFtZSB7CiAgd2lkdGg6IDc1JTsKfQoKZGl2LmhvbG93ZWxsIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCmZvcm0uaG9sb2Zvcm0gewogIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgcGFkZGluZy1sZWZ0OiAwLjhlbTsKICBwYWRkaW5nLXJpZ2h0OiAwLjhlbTsKICBwYWRkaW5nLXRvcDogMC40ZW07CiAgcGFkZGluZy1ib3R0b206IDAuNGVtOwogIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMDUpOwogIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2UzZTNlMzsKfQoKZGl2LmhvbG93aWRnZXRzIHsKICBwYWRkaW5nLXJpZ2h0OiAwOwogIHdpZHRoOiAyNSU7Cn0KCmRpdi5ob2xvc2xpZGVyIHsKICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7CiAgaGVpZ2h0OiAwLjhlbTsKICB3aWR0aDogMTAwJTsKfQoKZGl2LmhvbG9mb3JtZ3JvdXAgewogIHBhZGRpbmctdG9wOiAwLjVlbTsKICBtYXJnaW4tYm90dG9tOiAwLjVlbTsKfQoKZGl2LmhvbG9ncm91cCB7CiAgcGFkZGluZy1sZWZ0OiAwOwogIHBhZGRpbmctcmlnaHQ6IDAuOGVtOwogIHdpZHRoOiAxMDAlOwp9CgouaG9sb3NlbGVjdCB7CiAgd2lkdGg6IDkyJTsKICBtYXJnaW4tbGVmdDogMDsKICBtYXJnaW4tcmlnaHQ6IDA7Cn0KCi5ob2xvdGV4dCB7CiAgcGFkZGluZy1sZWZ0OiAgMC41ZW07CiAgcGFkZGluZy1yaWdodDogMDsKICB3aWR0aDogMTAwJTsKfQoKLmhvbG93aWRnZXRzIC51aS1yZXNpemFibGUtc2UgewogIHZpc2liaWxpdHk6IGhpZGRlbgp9CgouaG9sb2ZyYW1lID4gLnVpLXJlc2l6YWJsZS1zZSB7CiAgdmlzaWJpbGl0eTogaGlkZGVuCn0KCi5ob2xvd2lkZ2V0cyAudWktcmVzaXphYmxlLXMgewogIHZpc2liaWxpdHk6IGhpZGRlbgp9CgoKLyogQ1NTIHJ1bGVzIGZvciBub1VJU2xpZGVyIGJhc2VkIHNsaWRlciB1c2VkIGJ5IEp1cHl0ZXJMYWIgZXh0ZW5zaW9uICAqLwoKLm5vVWktaGFuZGxlIHsKICB3aWR0aDogMjBweCAhaW1wb3J0YW50OwogIGhlaWdodDogMjBweCAhaW1wb3J0YW50OwogIGxlZnQ6IC01cHggIWltcG9ydGFudDsKICB0b3A6IC01cHggIWltcG9ydGFudDsKfQoKLm5vVWktaGFuZGxlOmJlZm9yZSwgLm5vVWktaGFuZGxlOmFmdGVyIHsKICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgaGVpZ2h0OiAwcHg7Cn0KCi5ub1VpLXRhcmdldCB7CiAgbWFyZ2luLWxlZnQ6IDAuNWVtOwogIG1hcmdpbi1yaWdodDogMC41ZW07Cn0KPC9zdHlsZT48ZGl2IHN0eWxlPSdkaXNwbGF5OiB0YWJsZTsgbWFyZ2luOiAwIGF1dG87Jz4KCjxkaXYgY2xhc3M9ImJrLXJvb3QiPgogICAgPGRpdiBjbGFzcz0iYmstcGxvdGRpdiIgaWQ9IjYyYzM1OTcwLTE2NWQtNDQ5MS04YjAwLWZkNDRhOGQ1YWZjNiI+PC9kaXY+CjwvZGl2Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgKGZ1bmN0aW9uKHJvb3QpIHsKICBmdW5jdGlvbiBlbWJlZF9kb2N1bWVudChyb290KSB7CiAgICAKICB2YXIgZG9jc19qc29uID0geyJiZTBkOWE1Yi0yODdhLTQyNzAtYmJhZS0xNzk2MmNmY2MwNGIiOnsicm9vdHMiOnsicmVmZXJlbmNlcyI6W3siYXR0cmlidXRlcyI6eyJzb3VyY2UiOnsiaWQiOiIyYzE1NTIxMC1iYmI1LTRlOWQtOTcxMS03MTNkNTExNzljOGEiLCJ0eXBlIjoiQ29sdW1uRGF0YVNvdXJjZSJ9fSwiaWQiOiJlZGIwMjk5OS05ZjU1LTQ2ZjQtYTVhNC1iNTcyZjJiYzg4ZGYiLCJ0eXBlIjoiQ0RTVmlldyJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiOTU5YThiNGUtYzUyYy00YTllLTkyNjgtYTY0YWNlYjExZjY3IiwidHlwZSI6IkJhc2ljVGlja0Zvcm1hdHRlciJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiZmQ1MDQ0YTAtNzBiNy00ZmNlLThkMTMtOTg4MWI2ZjJjNTliIiwidHlwZSI6IkxpbmVhclNjYWxlIn0seyJhdHRyaWJ1dGVzIjp7ImdyaWRfbGluZV9jb2xvciI6eyJ2YWx1ZSI6bnVsbH0sInBsb3QiOnsiaWQiOiIwNmE0ODRiYy01ZDg1LTQzNDctYTM0Ny0xMGJiZDgzMTBmNzQiLCJzdWJ0eXBlIjoiRmlndXJlIiwidHlwZSI6IlBsb3QifSwidGlja2VyIjp7ImlkIjoiMzUxOWIwMWUtNDU5Yi00YmU0LWIyOGUtZDE3MzJmMDc4ZGJkIiwidHlwZSI6IkJhc2ljVGlja2VyIn19LCJpZCI6Ijc2MGVlZWFlLWU1YjMtNGQ4Zi05NzdhLTVjYzRjMWEzNDgyNSIsInR5cGUiOiJHcmlkIn0seyJhdHRyaWJ1dGVzIjp7ImxpbmVfYWxwaGEiOnsidmFsdWUiOjAuNX0sImxpbmVfY29sb3IiOnsidmFsdWUiOiJyZWQifSwibGluZV93aWR0aCI6eyJ2YWx1ZSI6Mn0sImxvY2F0aW9uIjoxMzYuMCwicGxvdCI6bnVsbH0sImlkIjoiMGU5ZGU3YzUtZTc3Ni00YjEzLThmNGEtOTEzYjk1MWM0MjAzIiwidHlwZSI6IlNwYW4ifSx7ImF0dHJpYnV0ZXMiOnsiY2FsbGJhY2siOm51bGwsInJlbmRlcmVycyI6W3siaWQiOiJmMGIzM2Y1YS1hOGYyLTRmNzAtYTkwNy0yZDYyMTRhNGU0NTIiLCJ0eXBlIjoiR2x5cGhSZW5kZXJlciJ9XSwidG9vbHRpcHMiOltbIiIsIjxiPkBsYWJlbDwvYj4iXV19LCJpZCI6ImJiMGFkNTc5LTdlMTMtNGRkZi1iZGQ5LTJhOGM3YjQ4ODQ0MCIsInR5cGUiOiJIb3ZlclRvb2wifSx7ImF0dHJpYnV0ZXMiOnsiZGF0YV9zb3VyY2UiOnsiaWQiOiIyYzE1NTIxMC1iYmI1LTRlOWQtOTcxMS03MTNkNTExNzljOGEiLCJ0eXBlIjoiQ29sdW1uRGF0YVNvdXJjZSJ9LCJnbHlwaCI6eyJpZCI6IjE5MWM0NTU3LTBiYWMtNGFjMi1iNDE4LWUwNzBkOTRlYjQ3OCIsInR5cGUiOiJDaXJjbGUifSwiaG92ZXJfZ2x5cGgiOm51bGwsIm11dGVkX2dseXBoIjp7ImlkIjoiMTE2NTcxZGMtOGQ4OS00YjdiLWIxNjItNWQ4YmQ1MzM5MjI5IiwidHlwZSI6IkNpcmNsZSJ9LCJub25zZWxlY3Rpb25fZ2x5cGgiOnsiaWQiOiI5YjgyOTliNy0xMzdmLTRkZDItYTYyNS03ODExMWViZGIwMWIiLCJ0eXBlIjoiQ2lyY2xlIn0sInNlbGVjdGlvbl9nbHlwaCI6bnVsbCwidmlldyI6eyJpZCI6ImVkYjAyOTk5LTlmNTUtNDZmNC1hNWE0LWI1NzJmMmJjODhkZiIsInR5cGUiOiJDRFNWaWV3In19LCJpZCI6ImYwYjMzZjVhLWE4ZjItNGY3MC1hOTA3LTJkNjIxNGE0ZTQ1MiIsInR5cGUiOiJHbHlwaFJlbmRlcmVyIn0seyJhdHRyaWJ1dGVzIjp7ImF4aXNfbGFiZWwiOiJleHRtYWpvciIsImJvdW5kcyI6ImF1dG8iLCJmb3JtYXR0ZXIiOnsiaWQiOiI5NTlhOGI0ZS1jNTJjLTRhOWUtOTI2OC1hNjRhY2ViMTFmNjciLCJ0eXBlIjoiQmFzaWNUaWNrRm9ybWF0dGVyIn0sIm1ham9yX2xhYmVsX29yaWVudGF0aW9uIjoiaG9yaXpvbnRhbCIsInBsb3QiOnsiaWQiOiIwNmE0ODRiYy01ZDg1LTQzNDctYTM0Ny0xMGJiZDgzMTBmNzQiLCJzdWJ0eXBlIjoiRmlndXJlIiwidHlwZSI6IlBsb3QifSwidGlja2VyIjp7ImlkIjoiZTQxY2I3M2MtYmQzZi00YWM4LTgwOGQtMjZlYTg1YjA4NzQwIiwidHlwZSI6IkJhc2ljVGlja2VyIn19LCJpZCI6ImQ4ZjZiZjAwLTcxNzQtNDNlZS05Y2JmLTVhNmVmNDZiYTFhMiIsInR5cGUiOiJMaW5lYXJBeGlzIn0seyJhdHRyaWJ1dGVzIjp7ImF4aXNfbGFiZWwiOiJpbmRleCIsImJvdW5kcyI6ImF1dG8iLCJmb3JtYXR0ZXIiOnsiaWQiOiJhMDgzODk4NS0zNzc0LTQwN2UtYTA4ZS1hNjgwNmJjMzZhNDciLCJ0eXBlIjoiQmFzaWNUaWNrRm9ybWF0dGVyIn0sIm1ham9yX2xhYmVsX29yaWVudGF0aW9uIjoiaG9yaXpvbnRhbCIsInBsb3QiOnsiaWQiOiIwNmE0ODRiYy01ZDg1LTQzNDctYTM0Ny0xMGJiZDgzMTBmNzQiLCJzdWJ0eXBlIjoiRmlndXJlIiwidHlwZSI6IlBsb3QifSwidGlja2VyIjp7ImlkIjoiMzUxOWIwMWUtNDU5Yi00YmU0LWIyOGUtZDE3MzJmMDc4ZGJkIiwidHlwZSI6IkJhc2ljVGlja2VyIn19LCJpZCI6IjIxNTNhMWFjLWJmMmYtNDRmNi05NDQwLThkYzdlNmY0NmU5YyIsInR5cGUiOiJMaW5lYXJBeGlzIn0seyJhdHRyaWJ1dGVzIjp7ImFjdGl2ZV9kcmFnIjoiYXV0byIsImFjdGl2ZV9pbnNwZWN0IjoiYXV0byIsImFjdGl2ZV9zY3JvbGwiOiJhdXRvIiwiYWN0aXZlX3RhcCI6ImF1dG8iLCJ0b29scyI6W3siaWQiOiJiYjBhZDU3OS03ZTEzLTRkZGYtYmRkOS0yYThjN2I0ODg0NDAiLCJ0eXBlIjoiSG92ZXJUb29sIn0seyJpZCI6IjIzZGYwODhhLTBkYjktNDBlNS05Y2MzLTIwZTk0MTc0MGMxOSIsInR5cGUiOiJTYXZlVG9vbCJ9LHsiaWQiOiI5MjkzNGQ3OC0xYTMwLTQ2ODgtYjYzNC04MjNlZDBmNmY3Y2YiLCJ0eXBlIjoiUGFuVG9vbCJ9LHsiaWQiOiI4YjRkMDA3Ni1jNDI3LTRkN2UtYmQwNS02Mzk2YTIzNzE3OTQiLCJ0eXBlIjoiV2hlZWxab29tVG9vbCJ9LHsiaWQiOiI3MjZjZTE0MS00MjlhLTRjMDEtYjZiZS0yZWUzNDg5NTNkODEiLCJ0eXBlIjoiQm94Wm9vbVRvb2wifSx7ImlkIjoiMWE0ZTY5OWMtMzgyYy00OWE1LTk1ZTQtZTFlYzg3YmYyYjRkIiwidHlwZSI6IlJlc2V0VG9vbCJ9XX0sImlkIjoiZmViZDJlNjQtMjgyZC00NDJjLThmZjEtODA2OTRhNDhlMWU5IiwidHlwZSI6IlRvb2xiYXIifSx7ImF0dHJpYnV0ZXMiOnsiYmVsb3ciOlt7ImlkIjoiMjE1M2ExYWMtYmYyZi00NGY2LTk0NDAtOGRjN2U2ZjQ2ZTljIiwidHlwZSI6IkxpbmVhckF4aXMifV0sImxlZnQiOlt7ImlkIjoiZDhmNmJmMDAtNzE3NC00M2VlLTljYmYtNWE2ZWY0NmJhMWEyIiwidHlwZSI6IkxpbmVhckF4aXMifV0sIm1pbl9ib3JkZXJfYm90dG9tIjoxMCwibWluX2JvcmRlcl9sZWZ0IjoxMCwibWluX2JvcmRlcl9yaWdodCI6MTAsIm1pbl9ib3JkZXJfdG9wIjoxMCwicGxvdF9oZWlnaHQiOjMwMCwicGxvdF93aWR0aCI6NDAwLCJyZW5kZXJlcnMiOlt7ImlkIjoiMjE1M2ExYWMtYmYyZi00NGY2LTk0NDAtOGRjN2U2ZjQ2ZTljIiwidHlwZSI6IkxpbmVhckF4aXMifSx7ImlkIjoiNzYwZWVlYWUtZTViMy00ZDhmLTk3N2EtNWNjNGMxYTM0ODI1IiwidHlwZSI6IkdyaWQifSx7ImlkIjoiZDhmNmJmMDAtNzE3NC00M2VlLTljYmYtNWE2ZWY0NmJhMWEyIiwidHlwZSI6IkxpbmVhckF4aXMifSx7ImlkIjoiNjMyOWQyMGUtYWY2MC00NDRmLWIyMTMtMjMxNTYxMzljNmRjIiwidHlwZSI6IkdyaWQifSx7ImlkIjoiMzEwNzRhZjYtZTM3NS00OTIxLWE5MmUtMzIxZmQ5N2ZmZjM2IiwidHlwZSI6IkJveEFubm90YXRpb24ifSx7ImlkIjoiZjBiMzNmNWEtYThmMi00ZjcwLWE5MDctMmQ2MjE0YTRlNDUyIiwidHlwZSI6IkdseXBoUmVuZGVyZXIifSx7ImlkIjoiMGU5ZGU3YzUtZTc3Ni00YjEzLThmNGEtOTEzYjk1MWM0MjAzIiwidHlwZSI6IlNwYW4ifV0sInRpdGxlIjp7ImlkIjoiZGVhZjUyNjEtN2JmOS00NDJjLWI3NWYtNWJlNjIwZTY5NTdlIiwidHlwZSI6IlRpdGxlIn0sInRvb2xiYXIiOnsiaWQiOiJmZWJkMmU2NC0yODJkLTQ0MmMtOGZmMS04MDY5NGE0OGUxZTkiLCJ0eXBlIjoiVG9vbGJhciJ9LCJ4X3JhbmdlIjp7ImlkIjoiZWRkYjdiYjktMTRjZi00YjUxLWFhODItM2ZjZmQ2NjZkYzVlIiwidHlwZSI6IlJhbmdlMWQifSwieF9zY2FsZSI6eyJpZCI6IjVlZTA3YzFiLTU0ZGUtNDMwNy05YmJhLWU0NTIzZTc2ZjdhNSIsInR5cGUiOiJMaW5lYXJTY2FsZSJ9LCJ5X3JhbmdlIjp7ImlkIjoiMmEyYjJmMTMtMTdjNy00ZmZmLWEzMTMtZTFjNjIxMDQzNWFkIiwidHlwZSI6IlJhbmdlMWQifSwieV9zY2FsZSI6eyJpZCI6ImZkNTA0NGEwLTcwYjctNGZjZS04ZDEzLTk4ODFiNmYyYzU5YiIsInR5cGUiOiJMaW5lYXJTY2FsZSJ9fSwiaWQiOiIwNmE0ODRiYy01ZDg1LTQzNDctYTM0Ny0xMGJiZDgzMTBmNzQiLCJzdWJ0eXBlIjoiRmlndXJlIiwidHlwZSI6IlBsb3QifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6IjM1MTliMDFlLTQ1OWItNGJlNC1iMjhlLWQxNzMyZjA3OGRiZCIsInR5cGUiOiJCYXNpY1RpY2tlciJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiYTA4Mzg5ODUtMzc3NC00MDdlLWEwOGUtYTY4MDZiYzM2YTQ3IiwidHlwZSI6IkJhc2ljVGlja0Zvcm1hdHRlciJ9LHsiYXR0cmlidXRlcyI6eyJjYWxsYmFjayI6bnVsbCwiY29sdW1uX25hbWVzIjpbImluZGV4IiwiZXh0bWFqb3IiLCJsYWJlbCJdLCJkYXRhIjp7ImV4dG1ham9yIjp7Il9fbmRhcnJheV9fIjoiemN6TXpNek1RMEFBQUFBQUFBQkVRTTNNek16TVRFVkFBQUFBQUFBQVNFQUFBQUFBQUFCSlFBQUFBQUFBQUVsQUFBQUFBQUFBU1VBQUFBQUFBQUJLUU0zTXpNek1iRXRBQUFBQUFBQ0FTMEFBQUFBQUFJQkxRQUFBQUFBQUFFeEFBQUFBQUFBQVRFQUFBQUFBQUFCTVFBQUFBQUFBQUV4QUFBQUFBQUFBVEVBQUFBQUFBSUJNUUFBQUFBQUFBRTVBQUFBQUFBQ0FUa0FBQUFBQUFJQk9RSnFabVptWm1VNUFBQUFBQUFDQVQwQ2FtWm1abVpsUFFBQUFBQUFBUUZCQUFBQUFBQUFBVVVBQUFBQUFBQUJSUUFBQUFBQUFRRkZBQUFBQUFBQkFVVUFBQUFBQUFJQlJRQUFBQUFBQWdGRkFBQUFBQUFDQVVVQUFBQUFBQUlCUlFBQUFBQUFBZ0ZGQUFBQUFBQURBVVVBQUFBQUFBQUJTUUFBQUFBQUFBRkpBQUFBQUFBQkFVa0FBQUFBQUFFQlNRT3hSdUI2RmUxSkFBQUFBQUFDQVVrQUFBQUFBQUtCU1FBQUFBQUFBd0ZKQUFBQUFBQURBVWtBQUFBQUFBQUJUUUFBQUFBQUFRRk5BQUFBQUFBQkFVMEF6TXpNek0xTlRRQUFBQUFBQWdGTkFBQUFBQUFDQVUwQUFBQUFBQU1CVFFBQUFBQUFBQUZSQUFBQUFBQUFBVkVBQUFBQUFBQUJVUUFBQUFBQUFBRlJBQUFBQUFBQUFWRUFBQUFBQUFBQlVRQUFBQUFBQUFGUkFBQUFBQUFBQVZFQUFBQUFBQUVCVVFBQUFBQUFBZ0ZSQUFBQUFBQURBVkVBQUFBQUFBTUJVUUFBQUFBQUFBRlZBQUFBQUFBQUFWVUFBQUFBQUFFQlZRQUFBQUFBQVFGVkFBQUFBQUFCQVZVQUFBQUFBQUlCVlFBQUFBQUFBb0ZWQUFBQUFBQUNnVlVBQUFBQUFBTUJWUUFBQUFBQUFBRlpBQUFBQUFBQUFWa0FBQUFBQUFBQldRQUFBQUFBQUFGWkFBQUFBQUFBQVZrQXpNek16TXpOV1FBQUFBQUFBUUZaQUFBQUFBQUNBVmtBQUFBQUFBSUJXUUFBQUFBQUFnRlpBQUFBQUFBQ0FWa0FBQUFBQUFJQldRQUFBQUFBQWdGWkFBQUFBQUFDQVZrQUFBQUFBQUFCWFFETXpNek16TTFkQUFBQUFBQUNBVjBBQUFBQUFBTUJYUUFBQUFBQUF3RmRBQUFBQUFBRGdWMEFBQUFBQUFBQllRQUFBQUFBQUFGaEFBQUFBQUFBQVdFQUFBQUFBQUNCWVFBQUFBQUFBUUZoQUFBQUFBQUNBV0VBQUFBQUFBSUJZUUFBQUFBQUFnRmhBQUFBQUFBQ0FXRUFBQUFBQUFJQllRQUFBQUFBQWdGaEFBQUFBQUFEQVdFQUFBQUFBQU9CWVFBQUFBQUFBQUZsQUFBQUFBQUFBV1VBQUFBQUFBQUJaUUFBQUFBQUFRRmxBbXBtWm1abDVXVUFBQUFBQUFJQlpRQUFBQUFBQW9GbEFBQUFBQUFEQVdVQUFBQUFBQUFCYVFHWm1abVptSmxwQUFBQUFBQUJBV2tBQUFBQUFBTUJhUUFBQUFBQUFBRnRBQUFBQUFBQUFXMEFBQUFBQUFBQmJRQUFBQUFBQUFGdEFBQUFBQUFCQVcwQ2FtWm1abVZsYlFBQUFBQUFBZ0Z0QUFBQUFBQURBVzBBQUFBQUFBTUJiUUFBQUFBQUFBRnhBQUFBQUFBQUFYRUROek16TXpHeGNRQUFBQUFBQWdGeEFBQUFBQUFEQVhFQUFBQUFBQU1CY1FBQUFBQUFBd0Z4QUFBQUFBQUFnWFVDdVIrRjZGRzVkUUFBQUFBQUFnRjFBQUFBQUFBQ0FYVUFBQUFBQUFBQmVRQUFBQUFBQUFGNUFBQUFBQUFBQVhrQUFBQUFBQUVCZVFHWm1abVptWmw1QUFBQUFBQUFBWDBBQUFBQUFBQUJmUUFBQUFBQUFNRjlBQUFBQUFBQkFYMEFBQUFBQUFJQmZRSnFabVptWm1WOUFNek16TXpPelgwQUFBQUFBQUNCZ1FBQUFBQUFBUUdCQUFBQUFBQUJnWUVBQUFBQUFBR0JnUUpxWm1abVppV0JBemN6TXpNeU1ZRUJtWm1abVpvNWdRTTNNek16TXJHQkFBQUFBQUFEQVlFQUFBQUFBQU9CZ1FBQUFBQUFBQUdGQVptWm1abVlHWVVBQUFBQUFBRUJoUUFBQUFBQUF3R0ZBQUFBQUFBRGdZVUFBQUFBQUFDQmlRSnFabVptWldXSkFBQUFBQUFDQVlrQUFBQUFBQUlCaVFBQUFBQUFBZ0dKQUFBQUFBQUNnWWtBQUFBQUFBTUJpUUFBQUFBQUF3R0pBOWloY2o4SU5ZMEFBQUFBQUFFQmpRQUFBQUFBQVlHTkFBQUFBQUFDQVkwQUFBQUFBQUFCa1FBQUFBQUFBb0dSQUFBQUFBQUJnWmtBQUFBQUFBS0JuUUE9PSIsImR0eXBlIjoiZmxvYXQ2NCIsInNoYXBlIjpbMTc5XX0sImluZGV4IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MSw5Miw5Myw5NCw5NSw5Niw5Nyw5OCw5OSwxMDAsMTAxLDEwMiwxMDMsMTA0LDEwNSwxMDYsMTA3LDEwOCwxMDksMTEwLDExMSwxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDEyMywxMjQsMTI1LDEyNiwxMjcsMTI4LDEyOSwxMzAsMTMxLDEzMiwxMzMsMTM0LDEzNSwxMzYsMTM3LDEzOCwxMzksMTQwLDE0MSwxNDIsMTQzLDE0NCwxNDUsMTQ2LDE0NywxNDgsMTQ5LDE1MCwxNTEsMTUyLDE1MywxNTQsMTU1LDE1NiwxNTcsMTU4LDE1OSwxNjAsMTYxLDE2MiwxNjMsMTY0LDE2NSwxNjYsMTY3LDE2OCwxNjksMTcwLDE3MSwxNzIsMTczLDE3NCwxNzUsMTc2LDE3NywxNzhdLCJsYWJlbCI6WyJBbGVyaWEiLCJaYWdhcm9sbyIsIkJlcm4iLCJSb3NlbGxlIiwiRHVyYSIsIkNoYXJ0ZXJob3VzZSIsIlRoYXJyb3MiLCJUb21lbiB5IE11ciIsIlZlbGxlaWEiLCJDaW1pZXoiLCJIZW5jaGlyIERvdWFtYSIsIk1pY2lhIiwiQWluIFRvdW5nYSIsIkRyZXZhbnQiLCJUaWdhdmEgQ2FzdHJhIiwiU2lkaSBib3UgQXJrb3ViIiwiQWluIEhlZGphaCIsIlN1c2EiLCJDaGVtdG91IiwiR2VuemFubyIsIlRoaWJhcmkiLCJDYWVyd2VudCIsIk1hY3RhcmlzIiwiQXVyZWxpdW0gQ29tbW9kaWFudW0iLCJEamVyYmEiLCJGZXJlbnRvIiwiVWxpc2lwcGlyYSIsIkNhcnRoYWdvIE5vdmEiLCJNYXJjaWFub3BvbGlzIiwiQXF1YWUgTmVyaSIsIkNoaWNoZXN0ZXIiLCJNZWdpZGRvIiwiTmV3c3RlYWQiLCJFbGV1dGhlcm9wb2xpcyIsIkdlbWVsbGFlIiwiU2JlaXRsYSIsIlR1c2N1bHVtIiwiQ2l2aWRhdGUgQ2FtdW5vIiwiVGVyYW1vIiwiVGh1YnVyYm8gTWFpdXMiLCJPcmRvbmEiLCJCdWxsYSBSZWdpYSIsIlNlZ29icmlnYSIsIlNlcmVzc2kiLCJTdXRyaXVtIiwiVGlwYXNhIiwiU2tpa2RhIiwiTGlsbGVib25uZSIsIkZyb3Npbm9uZSIsIlBhZXN0dW0iLCJTaW51ZXNzYSIsIk1hdW1idXJ5IiwiVm9sdGVycmEiLCJCZWthbHRhIiwiU2lsY2hlc3RlciIsIkJ1cm51bSIsIkJldmFnbmEiLCJDYWVybGVvbiIsIkxlcHRpbWludXMiLCJTcGVsbG8iLCJSdWdnZSIsIlRlYmVzc2EiLCJDYXNzaW5vIiwiUG9yb2xpc3N1bSIsIkdvcnR5biIsIlZpbWluYWNpdW0iLCJUaWJ1ciIsIkVtcHVyaWVzIiwiQXF1aW5jdW0gKENpdmlsaWFuKSIsIkNhcnN1bGFlIiwiTHVuYSIsIlNhcm1pemVnZXR1c2EiLCJGYWxlcmlpIE5vdmkiLCJBbXBoLiBDYXN0cmVuc2UiLCJSb2NjZWxsZXR0YSBkaSBCb3JnaWEiLCJMaWJhcm5hIiwiRmFsZXJvbmUiLCJQdG9sZW1haXMiLCJTYW4gVml0dG9yaW5vIiwiVGhhZW5hZSIsIlNlbmxpcyIsIlRvZGkiLCJBY2hvbGxhIiwiR3J1bWVudG8iLCJDYXRpbmlhIiwiVGh5c2RydXMgKFNtLikiLCJDYWdsaWFyaSIsIkNvbmltYnJpZ2EiLCJUZXJuaSIsIlRhcnJhZ29uYSIsIkNoZXN0ZXIiLCJWaXJ1bnVtIiwiVXRoaW5hIiwiSXZyZWEiLCJYYW50ZW4iLCJGbGF2aWEgU29sdmEiLCJUZXJtaW5pIiwiVXJicyBTYWx2aWEiLCJWZW5vc2EiLCJMYXJpbiIsIkJhcmFydXMiLCJDb3JpbnRoIiwiU3Vhc2EiLCJDYXJudW50dW0gKE1pbC4pIiwiTG9uZG9uIiwiU2ljY2EgVmVuZXJpYSIsIlRyaWVyIiwiU2FuIEJlbmVkZXR0byIsIkxlY2NlIiwiQXVnc3QiLCJQYWR1YSIsIkFsYmEgRnVjZW5zIiwiQXVndXN0YSBCYWdpZW5ub3J1bSIsIkxhbWJhZXNpcyIsIkx5b24iLCJBbGxpZmFlIiwiQWJlbGxhIiwiQm91cmdlcyIsIkltb2xhIiwiUG9pdGllcnMiLCJBbmF6YXJidXMiLCJBcmV6em8iLCJCZXNhblx1MDBlN29uIiwiVG91bG91c2UiLCJBbmNvbmEiLCJUZWxlc2lhIiwiVmluZG9uaXNzYSIsIkZyXHUwMGU5anVzIiwiQ3VtYWUiLCJBcXVpbm8iLCJTcG9sZXRvIiwiU2FicmF0aGEiLCJBbGJhbmEiLCJSaW1pbmkiLCJPY3RvZG9ydXMiLCJVdGljYSIsIk9jcmljdWxjdW0iLCJQb2xsZW56byIsIkNhcnRoYWdlIiwiTGVwdGlzIE1hZ25hIiwiTmFyYm9ubmUiLCJGbG9yZW5jZSIsIkx1Y2NhIiwiU2Fsb25hIiwiTm9jZXJhIiwiTVx1MDBlOXJpZGEiLCJTYWludGVzIiwiTHVjZXJhIiwiQ2FybnVudHVtIChDaXYuKSIsIk1pbnR1cm5vIiwiQXF1aW5jdW0gKE1pbGl0YXJ5KSIsIlBcdTAwZTlyaWd1ZXV4IiwiQm9yZGVhdXgiLCJEdXJyXHUwMGVicyIsIlB1bGEiLCJOaW1lcyIsIkNhZXNhcmVhIiwiUG9tcGVpaSIsIkFybGVzIiwiQmVyZ2FtYSIsIkNhbm9zYSIsIkFxdWlsZWlhIiwiQWx0aW51bSIsIkNoZXJjaGVsIiwiU3lyYWN1c2UiLCJUaHlzZHJ1cyAobGcuKSIsIkFzY29saSIsIk1ldHoiLCJQb3p6dW9saSAoRmxhdmlhbikiLCJBb3N0YSIsIkN5emljdXMiLCJWZXJvbmEiLCJBdXR1biIsIk1pbGFuIiwiVG91cnMiLCJJdGFsaWNhIiwiQ2FwdWEgSUkiLCJHcmFuZCIsIkNvbG9zc2V1bSJdfSwic2VsZWN0ZWQiOm51bGwsInNlbGVjdGlvbl9wb2xpY3kiOm51bGx9LCJpZCI6IjJjMTU1MjEwLWJiYjUtNGU5ZC05NzExLTcxM2Q1MTE3OWM4YSIsInR5cGUiOiJDb2x1bW5EYXRhU291cmNlIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiJlNDFjYjczYy1iZDNmLTRhYzgtODA4ZC0yNmVhODViMDg3NDAiLCJ0eXBlIjoiQmFzaWNUaWNrZXIifSx7ImF0dHJpYnV0ZXMiOnsiZGltZW5zaW9uIjoxLCJncmlkX2xpbmVfY29sb3IiOnsidmFsdWUiOm51bGx9LCJwbG90Ijp7ImlkIjoiMDZhNDg0YmMtNWQ4NS00MzQ3LWEzNDctMTBiYmQ4MzEwZjc0Iiwic3VidHlwZSI6IkZpZ3VyZSIsInR5cGUiOiJQbG90In0sInRpY2tlciI6eyJpZCI6ImU0MWNiNzNjLWJkM2YtNGFjOC04MDhkLTI2ZWE4NWIwODc0MCIsInR5cGUiOiJCYXNpY1RpY2tlciJ9fSwiaWQiOiI2MzI5ZDIwZS1hZjYwLTQ0NGYtYjIxMy0yMzE1NjEzOWM2ZGMiLCJ0eXBlIjoiR3JpZCJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiNWVlMDdjMWItNTRkZS00MzA3LTliYmEtZTQ1MjNlNzZmN2E1IiwidHlwZSI6IkxpbmVhclNjYWxlIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiIyM2RmMDg4YS0wZGI5LTQwZTUtOWNjMy0yMGU5NDE3NDBjMTkiLCJ0eXBlIjoiU2F2ZVRvb2wifSx7ImF0dHJpYnV0ZXMiOnsiZmlsbF9jb2xvciI6eyJ2YWx1ZSI6IiMzMGEyZGEifSwibGluZV9jb2xvciI6eyJ2YWx1ZSI6IiMzMGEyZGEifSwic2l6ZSI6eyJ1bml0cyI6InNjcmVlbiIsInZhbHVlIjoyLjQ0OTQ4OTc0Mjc4MzE3OH0sIngiOnsiZmllbGQiOiJpbmRleCJ9LCJ5Ijp7ImZpZWxkIjoiZXh0bWFqb3IifX0sImlkIjoiMTkxYzQ1NTctMGJhYy00YWMyLWI0MTgtZTA3MGQ5NGViNDc4IiwidHlwZSI6IkNpcmNsZSJ9LHsiYXR0cmlidXRlcyI6eyJib3R0b21fdW5pdHMiOiJzY3JlZW4iLCJmaWxsX2FscGhhIjp7InZhbHVlIjowLjV9LCJmaWxsX2NvbG9yIjp7InZhbHVlIjoibGlnaHRncmV5In0sImxlZnRfdW5pdHMiOiJzY3JlZW4iLCJsZXZlbCI6Im92ZXJsYXkiLCJsaW5lX2FscGhhIjp7InZhbHVlIjoxLjB9LCJsaW5lX2NvbG9yIjp7InZhbHVlIjoiYmxhY2sifSwibGluZV9kYXNoIjpbNCw0XSwibGluZV93aWR0aCI6eyJ2YWx1ZSI6Mn0sInBsb3QiOm51bGwsInJlbmRlcl9tb2RlIjoiY3NzIiwicmlnaHRfdW5pdHMiOiJzY3JlZW4iLCJ0b3BfdW5pdHMiOiJzY3JlZW4ifSwiaWQiOiIzMTA3NGFmNi1lMzc1LTQ5MjEtYTkyZS0zMjFmZDk3ZmZmMzYiLCJ0eXBlIjoiQm94QW5ub3RhdGlvbiJ9LHsiYXR0cmlidXRlcyI6eyJjYWxsYmFjayI6bnVsbCwiZW5kIjoxODkuMCwic3RhcnQiOjM5LjZ9LCJpZCI6IjJhMmIyZjEzLTE3YzctNGZmZi1hMzEzLWUxYzYyMTA0MzVhZCIsInR5cGUiOiJSYW5nZTFkIn0seyJhdHRyaWJ1dGVzIjp7ImZpbGxfYWxwaGEiOnsidmFsdWUiOjAuMn0sImZpbGxfY29sb3IiOnsidmFsdWUiOiIjMzBhMmRhIn0sImxpbmVfYWxwaGEiOnsidmFsdWUiOjAuMn0sImxpbmVfY29sb3IiOnsidmFsdWUiOiIjMzBhMmRhIn0sInNpemUiOnsidW5pdHMiOiJzY3JlZW4iLCJ2YWx1ZSI6Mi40NDk0ODk3NDI3ODMxNzh9LCJ4Ijp7ImZpZWxkIjoiaW5kZXgifSwieSI6eyJmaWVsZCI6ImV4dG1ham9yIn19LCJpZCI6IjExNjU3MWRjLThkODktNGI3Yi1iMTYyLTVkOGJkNTMzOTIyOSIsInR5cGUiOiJDaXJjbGUifSx7ImF0dHJpYnV0ZXMiOnsiY2FsbGJhY2siOm51bGwsImVuZCI6MTc4fSwiaWQiOiJlZGRiN2JiOS0xNGNmLTRiNTEtYWE4Mi0zZmNmZDY2NmRjNWUiLCJ0eXBlIjoiUmFuZ2UxZCJ9LHsiYXR0cmlidXRlcyI6eyJmaWxsX2FscGhhIjp7InZhbHVlIjowLjF9LCJmaWxsX2NvbG9yIjp7InZhbHVlIjoiIzMwYTJkYSJ9LCJsaW5lX2FscGhhIjp7InZhbHVlIjowLjF9LCJsaW5lX2NvbG9yIjp7InZhbHVlIjoiIzMwYTJkYSJ9LCJzaXplIjp7InVuaXRzIjoic2NyZWVuIiwidmFsdWUiOjIuNDQ5NDg5NzQyNzgzMTc4fSwieCI6eyJmaWVsZCI6ImluZGV4In0sInkiOnsiZmllbGQiOiJleHRtYWpvciJ9fSwiaWQiOiI5YjgyOTliNy0xMzdmLTRkZDItYTYyNS03ODExMWViZGIwMWIiLCJ0eXBlIjoiQ2lyY2xlIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiI5MjkzNGQ3OC0xYTMwLTQ2ODgtYjYzNC04MjNlZDBmNmY3Y2YiLCJ0eXBlIjoiUGFuVG9vbCJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiOGI0ZDAwNzYtYzQyNy00ZDdlLWJkMDUtNjM5NmEyMzcxNzk0IiwidHlwZSI6IldoZWVsWm9vbVRvb2wifSx7ImF0dHJpYnV0ZXMiOnsib3ZlcmxheSI6eyJpZCI6IjMxMDc0YWY2LWUzNzUtNDkyMS1hOTJlLTMyMWZkOTdmZmYzNiIsInR5cGUiOiJCb3hBbm5vdGF0aW9uIn19LCJpZCI6IjcyNmNlMTQxLTQyOWEtNGMwMS1iNmJlLTJlZTM0ODk1M2Q4MSIsInR5cGUiOiJCb3hab29tVG9vbCJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiMWE0ZTY5OWMtMzgyYy00OWE1LTk1ZTQtZTFlYzg3YmYyYjRkIiwidHlwZSI6IlJlc2V0VG9vbCJ9LHsiYXR0cmlidXRlcyI6eyJwbG90IjpudWxsLCJ0ZXh0IjoiRXh0ZXJpb3IgbGVuZ3RocyB3aXRoIEFybGVzIGhpZ2hsaWdodGVkIiwidGV4dF9jb2xvciI6eyJ2YWx1ZSI6ImJsYWNrIn0sInRleHRfZm9udF9zaXplIjp7InZhbHVlIjoiMTJwdCJ9fSwiaWQiOiJkZWFmNTI2MS03YmY5LTQ0MmMtYjc1Zi01YmU2MjBlNjk1N2UiLCJ0eXBlIjoiVGl0bGUifV0sInJvb3RfaWRzIjpbIjA2YTQ4NGJjLTVkODUtNDM0Ny1hMzQ3LTEwYmJkODMxMGY3NCJdfSwidGl0bGUiOiJCb2tlaCBBcHBsaWNhdGlvbiIsInZlcnNpb24iOiIwLjEyLjE1In19OwogIHZhciByZW5kZXJfaXRlbXMgPSBbeyJkb2NpZCI6ImJlMGQ5YTViLTI4N2EtNDI3MC1iYmFlLTE3OTYyY2ZjYzA0YiIsImVsZW1lbnRpZCI6IjYyYzM1OTcwLTE2NWQtNDQ5MS04YjAwLWZkNDRhOGQ1YWZjNiIsIm1vZGVsaWQiOiIwNmE0ODRiYy01ZDg1LTQzNDctYTM0Ny0xMGJiZDgzMTBmNzQifV07CiAgcm9vdC5Cb2tlaC5lbWJlZC5lbWJlZF9pdGVtc19ub3RlYm9vayhkb2NzX2pzb24sIHJlbmRlcl9pdGVtcyk7CgogIH0KICBpZiAocm9vdC5Cb2tlaCAhPT0gdW5kZWZpbmVkKSB7CiAgICBlbWJlZF9kb2N1bWVudChyb290KTsKICB9IGVsc2UgewogICAgdmFyIGF0dGVtcHRzID0gMDsKICAgIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKHJvb3QpIHsKICAgICAgaWYgKHJvb3QuQm9rZWggIT09IHVuZGVmaW5lZCkgewogICAgICAgIGVtYmVkX2RvY3VtZW50KHJvb3QpOwogICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICB9CiAgICAgIGF0dGVtcHRzKys7CiAgICAgIGlmIChhdHRlbXB0cyA+IDEwMCkgewogICAgICAgIGNvbnNvbGUubG9nKCJCb2tlaDogRVJST1I6IFVuYWJsZSB0byBydW4gQm9rZWhKUyBjb2RlIGJlY2F1c2UgQm9rZWhKUyBsaWJyYXJ5IGlzIG1pc3NpbmciKQogICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICB9CiAgICB9LCAxMCwgcm9vdCkKICB9Cn0pKHdpbmRvdyk7Cjwvc2NyaXB0Pgo8L2Rpdj4=" width="450" style="border:none !important;" height="300"></iframe>')[0];
                popup_eb9e444d6368450b96c5336dbc1840e4.setContent(i_frame_9b36b4eea8be4f0e9f1ee1365a788aa1);
            

            circle_marker_83e32b936cb7498e9d7bb5885e591315.bindPopup(popup_eb9e444d6368450b96c5336dbc1840e4);

            
        
    
            var circle_marker_6b903f1979f5414cabb6ab7f0e23b95f = L.circleMarker(
                [35.855627899999995,9.2066727],
                {
  "bubblingMouseEvents": true,
  "color": "red",
  "dashArray": null,
  "dashOffset": null,
  "fill": true,
  "fillColor": "red",
  "fillOpacity": 0.2,
  "fillRule": "evenodd",
  "lineCap": "round",
  "lineJoin": "round",
  "opacity": 1.0,
  "radius": 5,
  "stroke": true,
  "weight": 3
}
                ).addTo(map_69ad4b6db8094a879ee84b263615b2cf);
            
    
            var popup_9b3026f939fa49308576bda0fa1e125c = L.popup({maxWidth: '2650'});

            
                var i_frame_094d238660534b0e823a71ecbf4db737 = $('<iframe src="data:text/html;charset=utf-8;base64,CiAgICAKPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC13aWRnZXRzLTAuMTIuMTUubWluLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4ucHlkYXRhLm9yZy9ib2tlaC9yZWxlYXNlL2Jva2VoLXRhYmxlcy0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC1nbC0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuNC5taW4uanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+CjxzY3JpcHQgc3JjPSJodHRwczovL2NvZGUuanF1ZXJ5LmNvbS91aS8xLjEwLjQvanF1ZXJ5LXVpLm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3JlcXVpcmUuanMvMi4xLjIwL3JlcXVpcmUubWluLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvdW5kZXJzY29yZS5qcy8xLjguMy91bmRlcnNjb3JlLW1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPmZ1bmN0aW9uIEhvbG9WaWV3c1dpZGdldCgpIHsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5pbml0X3NsaWRlciA9IGZ1bmN0aW9uKGluaXRfdmFsKXsKICBpZih0aGlzLmxvYWRfanNvbikgewogICAgdGhpcy5mcm9tX2pzb24oKQogIH0gZWxzZSB7CiAgICB0aGlzLnVwZGF0ZV9jYWNoZSgpOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5wb3B1bGF0ZV9jYWNoZSA9IGZ1bmN0aW9uKGlkeCl7CiAgdGhpcy5jYWNoZVtpZHhdLmlubmVySFRNTCA9IHRoaXMuZnJhbWVzW2lkeF07CiAgaWYgKHRoaXMuZW1iZWQpIHsKICAgIGRlbGV0ZSB0aGlzLmZyYW1lc1tpZHhdOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5wcm9jZXNzX2Vycm9yID0gZnVuY3Rpb24obXNnKXsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5mcm9tX2pzb24gPSBmdW5jdGlvbigpIHsKICB2YXIgZGF0YV91cmwgPSB0aGlzLmpzb25fcGF0aCArIHRoaXMuaWQgKyAnLmpzb24nOwogICQuZ2V0SlNPTihkYXRhX3VybCwgJC5wcm94eShmdW5jdGlvbihqc29uX2RhdGEpIHsKICAgIHRoaXMuZnJhbWVzID0ganNvbl9kYXRhOwogICAgdGhpcy51cGRhdGVfY2FjaGUoKTsKICAgIHRoaXMudXBkYXRlKDApOwogIH0sIHRoaXMpKTsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5keW5hbWljX3VwZGF0ZSA9IGZ1bmN0aW9uKGN1cnJlbnQpewogIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHsKICAgIHJldHVybgogIH0KICB0aGlzLmN1cnJlbnQgPSBjdXJyZW50OwogIGlmICh0aGlzLmNvbW0pIHsKICAgIHZhciBtc2cgPSB7Y29tbV9pZDogdGhpcy5pZCsnX2NsaWVudCcsIGNvbnRlbnQ6IGN1cnJlbnR9CiAgICB0aGlzLmNvbW0uc2VuZChtc2cpOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS51cGRhdGVfY2FjaGUgPSBmdW5jdGlvbihmb3JjZSl7CiAgdmFyIGZyYW1lX2xlbiA9IE9iamVjdC5rZXlzKHRoaXMuZnJhbWVzKS5sZW5ndGg7CiAgZm9yICh2YXIgaT0wOyBpPGZyYW1lX2xlbjsgaSsrKSB7CiAgICBpZighdGhpcy5sb2FkX2pzb24gfHwgdGhpcy5keW5hbWljKSAgewogICAgICB2YXIgZnJhbWUgPSBPYmplY3Qua2V5cyh0aGlzLmZyYW1lcylbaV07CiAgICB9IGVsc2UgewogICAgICB2YXIgZnJhbWUgPSBpOwogICAgfQogICAgaWYoIShmcmFtZSBpbiB0aGlzLmNhY2hlKSB8fCBmb3JjZSkgewogICAgICBpZiAoKGZyYW1lIGluIHRoaXMuY2FjaGUpICYmIGZvcmNlKSB7IHRoaXMuY2FjaGVbZnJhbWVdLnJlbW92ZSgpIH0KICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB2YXIgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIl9hbmltX2ltZyIrdGhpcy5pZCk7CiAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZGl2KQogICAgICB0aGlzLmNhY2hlW2ZyYW1lXSA9IGRpdjsKICAgICAgdmFyIGNhY2hlX2lkID0gIl9hbmltX2ltZyIrdGhpcy5pZCsiXyIrZnJhbWU7CiAgICAgIHRoaXMucG9wdWxhdGVfY2FjaGUoZnJhbWUpOwogICAgfQogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjdXJyZW50KXsKICBpZihjdXJyZW50IGluIHRoaXMuY2FjaGUpIHsKICAgIGZvciAodmFyIGluZGV4IGluIHRoaXMuY2FjaGUpIHsKICAgICAgdGhpcy5jYWNoZVtpbmRleF0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0KICAgIHRoaXMuY2FjaGVbY3VycmVudF0uc3R5bGUuZGlzcGxheSA9ICIiOwogICAgdGhpcy53YWl0ID0gZmFsc2U7CiAgfQp9CgpIb2xvVmlld3NXaWRnZXQucHJvdG90eXBlLmluaXRfY29tbXMgPSBmdW5jdGlvbigpIHsKICB2YXIgdGhhdCA9IHRoaXMKICBIb2xvVmlld3MuY29tbV9tYW5hZ2VyLnJlZ2lzdGVyX3RhcmdldCh0aGlzLnBsb3RfaWQsIHRoaXMuaWQsIGZ1bmN0aW9uIChtc2cpIHsgdGhhdC5wcm9jZXNzX21zZyhtc2cpIH0pCiAgaWYgKCF0aGlzLmNhY2hlZCB8fCB0aGlzLmR5bmFtaWMpIHsKICAgIGZ1bmN0aW9uIGFja19jYWxsYmFjayhtc2cpIHsKICAgICAgbXNnID0gSlNPTi5wYXJzZShtc2cuY29udGVudC5kYXRhKTsKICAgICAgdmFyIGNvbW1faWQgPSBtc2dbImNvbW1faWQiXQogICAgICB2YXIgY29tbV9zdGF0dXMgPSBIb2xvVmlld3MuY29tbV9zdGF0dXNbY29tbV9pZF07CiAgICAgIGlmICh0aGF0LnF1ZXVlLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGF0LnRpbWUgPSBEYXRlLm5vdygpOwogICAgICAgIHRoYXQuZHluYW1pY191cGRhdGUodGhhdC5xdWV1ZVt0aGF0LnF1ZXVlLmxlbmd0aC0xXSk7CiAgICAgICAgdGhhdC5xdWV1ZSA9IFtdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoYXQud2FpdCA9IGZhbHNlOwogICAgICB9CiAgICAgIGlmICgobXNnLm1zZ190eXBlID09ICJSZWFkeSIpICYmIG1zZy5jb250ZW50KSB7CiAgICAgICAgY29uc29sZS5sb2coIlB5dGhvbiBjYWxsYmFjayByZXR1cm5lZCBmb2xsb3dpbmcgb3V0cHV0OiIsIG1zZy5jb250ZW50KTsKICAgICAgfSBlbHNlIGlmIChtc2cubXNnX3R5cGUgPT0gIkVycm9yIikgewogICAgICAgIGNvbnNvbGUubG9nKCJQeXRob24gZmFpbGVkIHdpdGggdGhlIGZvbGxvd2luZyB0cmFjZWJhY2s6IiwgbXNnWyd0cmFjZWJhY2snXSkKICAgICAgfQogICAgfQogICAgdmFyIGNvbW0gPSBIb2xvVmlld3MuY29tbV9tYW5hZ2VyLmdldF9jbGllbnRfY29tbSh0aGlzLnBsb3RfaWQsIHRoaXMuaWQrJ19jbGllbnQnLCBhY2tfY2FsbGJhY2spOwogICAgcmV0dXJuIGNvbW0KICB9Cn0KCkhvbG9WaWV3c1dpZGdldC5wcm90b3R5cGUucHJvY2Vzc19tc2cgPSBmdW5jdGlvbihtc2cpIHsKfQoKZnVuY3Rpb24gU2VsZWN0aW9uV2lkZ2V0KGZyYW1lcywgaWQsIHNsaWRlcl9pZHMsIGtleU1hcCwgZGltX3ZhbHMsIG5vdEZvdW5kLCBsb2FkX2pzb24sIG1vZGUsIGNhY2hlZCwganNvbl9wYXRoLCBkeW5hbWljLCBwbG90X2lkKXsKICB0aGlzLmZyYW1lcyA9IGZyYW1lczsKICB0aGlzLmlkID0gaWQ7CiAgdGhpcy5wbG90X2lkID0gcGxvdF9pZDsKICB0aGlzLnNsaWRlcl9pZHMgPSBzbGlkZXJfaWRzOwogIHRoaXMua2V5TWFwID0ga2V5TWFwCiAgdGhpcy5jdXJyZW50X2ZyYW1lID0gMDsKICB0aGlzLmN1cnJlbnRfdmFscyA9IGRpbV92YWxzOwogIHRoaXMubG9hZF9qc29uID0gbG9hZF9qc29uOwogIHRoaXMubW9kZSA9IG1vZGU7CiAgdGhpcy5ub3RGb3VuZCA9IG5vdEZvdW5kOwogIHRoaXMuY2FjaGVkID0gY2FjaGVkOwogIHRoaXMuZHluYW1pYyA9IGR5bmFtaWM7CiAgdGhpcy5jYWNoZSA9IHt9OwogIHRoaXMuanNvbl9wYXRoID0ganNvbl9wYXRoOwogIHRoaXMuaW5pdF9zbGlkZXIodGhpcy5jdXJyZW50X3ZhbHNbMF0pOwogIHRoaXMucXVldWUgPSBbXTsKICB0aGlzLndhaXQgPSBmYWxzZTsKICBpZiAoIXRoaXMuY2FjaGVkIHx8IHRoaXMuZHluYW1pYykgewogICAgdGhpcy5jb21tID0gdGhpcy5pbml0X2NvbW1zKCk7CiAgfQp9CgpTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlID0gbmV3IEhvbG9WaWV3c1dpZGdldDsKCgpTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlLmdldF9rZXkgPSBmdW5jdGlvbihjdXJyZW50X3ZhbHMpIHsKICB2YXIga2V5ID0gIigiOwogIGZvciAodmFyIGk9MDsgaTx0aGlzLnNsaWRlcl9pZHMubGVuZ3RoOyBpKyspCiAgewogICAgdmFyIHZhbCA9IHRoaXMuY3VycmVudF92YWxzW2ldOwogICAgaWYgKCEodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpKSB7CiAgICAgIGlmICh2YWwgJSAxID09PSAwKSB7IHZhbCA9IHZhbC50b0ZpeGVkKDEpOyB9CiAgICAgIGVsc2UgeyB2YWwgPSB2YWwudG9GaXhlZCgxMCk7IHZhbCA9IHZhbC5zbGljZSgwLCB2YWwubGVuZ3RoLTEpO30KICAgIH0KICAgIGtleSArPSAiJyIgKyB2YWwgKyAiJyI7CiAgICBpZihpICE9IHRoaXMuc2xpZGVyX2lkcy5sZW5ndGgtMSkgeyBrZXkgKz0gJywgJzt9CiAgICBlbHNlIGlmKHRoaXMuc2xpZGVyX2lkcy5sZW5ndGggPT0gMSkgeyBrZXkgKz0gJywnO30KICB9CiAga2V5ICs9ICIpIjsKICByZXR1cm4gdGhpcy5rZXlNYXBba2V5XTsKfQoKU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZS5zZXRfZnJhbWUgPSBmdW5jdGlvbihkaW1fdmFsLCBkaW1faWR4KXsKICB0aGlzLmN1cnJlbnRfdmFsc1tkaW1faWR4XSA9IGRpbV92YWw7CiAgdmFyIGtleSA9IHRoaXMuY3VycmVudF92YWxzOwogIGlmICghdGhpcy5keW5hbWljKSB7CiAgICBrZXkgPSB0aGlzLmdldF9rZXkoa2V5KQogIH0KICBpZiAodGhpcy5keW5hbWljIHx8ICF0aGlzLmNhY2hlZCkgewogICAgaWYgKCh0aGlzLnRpbWUgIT09IHVuZGVmaW5lZCkgJiYgKCh0aGlzLndhaXQpICYmICgodGhpcy50aW1lICsgMTAwMDApID4gRGF0ZS5ub3coKSkpKSB7CiAgICAgIHRoaXMucXVldWUucHVzaChrZXkpOwogICAgICByZXR1cm4KICAgIH0KICAgIHRoaXMucXVldWUgPSBbXTsKICAgIHRoaXMudGltZSA9IERhdGUubm93KCk7CiAgICB0aGlzLmN1cnJlbnRfZnJhbWUgPSBrZXk7CiAgICB0aGlzLndhaXQgPSB0cnVlOwogICAgdGhpcy5keW5hbWljX3VwZGF0ZShrZXkpCiAgfSBlbHNlIGlmIChrZXkgIT09IHVuZGVmaW5lZCkgewogICAgdGhpcy51cGRhdGUoa2V5KQogIH0KfQoKCi8qIERlZmluZSB0aGUgU2NydWJiZXJXaWRnZXQgY2xhc3MgKi8KZnVuY3Rpb24gU2NydWJiZXJXaWRnZXQoZnJhbWVzLCBudW1fZnJhbWVzLCBpZCwgaW50ZXJ2YWwsIGxvYWRfanNvbiwgbW9kZSwgY2FjaGVkLCBqc29uX3BhdGgsIGR5bmFtaWMsIHBsb3RfaWQpewogIHRoaXMuc2xpZGVyX2lkID0gIl9hbmltX3NsaWRlciIgKyBpZDsKICB0aGlzLmxvb3Bfc2VsZWN0X2lkID0gIl9hbmltX2xvb3Bfc2VsZWN0IiArIGlkOwogIHRoaXMuaWQgPSBpZDsKICB0aGlzLnBsb3RfaWQgPSBwbG90X2lkOwogIHRoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbDsKICB0aGlzLmN1cnJlbnRfZnJhbWUgPSAwOwogIHRoaXMuZGlyZWN0aW9uID0gMDsKICB0aGlzLmR5bmFtaWMgPSBkeW5hbWljOwogIHRoaXMudGltZXIgPSBudWxsOwogIHRoaXMubG9hZF9qc29uID0gbG9hZF9qc29uOwogIHRoaXMubW9kZSA9IG1vZGU7CiAgdGhpcy5jYWNoZWQgPSBjYWNoZWQ7CiAgdGhpcy5mcmFtZXMgPSBmcmFtZXM7CiAgdGhpcy5jYWNoZSA9IHt9OwogIHRoaXMubGVuZ3RoID0gbnVtX2ZyYW1lczsKICB0aGlzLmpzb25fcGF0aCA9IGpzb25fcGF0aDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNsaWRlcl9pZCkubWF4ID0gdGhpcy5sZW5ndGggLSAxOwogIHRoaXMuaW5pdF9zbGlkZXIoMCk7CiAgdGhpcy53YWl0ID0gZmFsc2U7CiAgdGhpcy5xdWV1ZSA9IFtdOwogIGlmICghdGhpcy5jYWNoZWQgfHwgdGhpcy5keW5hbWljKSB7CiAgICB0aGlzLmNvbW0gPSB0aGlzLmluaXRfY29tbXMoKQogIH0KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlID0gbmV3IEhvbG9WaWV3c1dpZGdldDsKClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5zZXRfZnJhbWUgPSBmdW5jdGlvbihmcmFtZSl7CiAgdGhpcy5jdXJyZW50X2ZyYW1lID0gZnJhbWU7CiAgdmFyIHdpZGdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2xpZGVyX2lkKTsKICBpZiAod2lkZ2V0ID09PSBudWxsKSB7CiAgICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogICAgcmV0dXJuCiAgfQogIHdpZGdldC52YWx1ZSA9IHRoaXMuY3VycmVudF9mcmFtZTsKICBpZih0aGlzLmNhY2hlZCkgewogICAgdGhpcy51cGRhdGUoZnJhbWUpCiAgfSBlbHNlIHsKICAgIHRoaXMuZHluYW1pY191cGRhdGUoZnJhbWUpCiAgfQp9CgoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmdldF9sb29wX3N0YXRlID0gZnVuY3Rpb24oKXsKICB2YXIgYnV0dG9uX2dyb3VwID0gZG9jdW1lbnRbdGhpcy5sb29wX3NlbGVjdF9pZF0uc3RhdGU7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25fZ3JvdXAubGVuZ3RoOyBpKyspIHsKICAgIHZhciBidXR0b24gPSBidXR0b25fZ3JvdXBbaV07CiAgICBpZiAoYnV0dG9uLmNoZWNrZWQpIHsKICAgICAgcmV0dXJuIGJ1dHRvbi52YWx1ZTsKICAgIH0KICB9CiAgcmV0dXJuIHVuZGVmaW5lZDsKfQoKClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5uZXh0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUoTWF0aC5taW4odGhpcy5sZW5ndGggLSAxLCB0aGlzLmN1cnJlbnRfZnJhbWUgKyAxKSk7Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5wcmV2aW91c19mcmFtZSA9IGZ1bmN0aW9uKCkgewogIHRoaXMuc2V0X2ZyYW1lKE1hdGgubWF4KDAsIHRoaXMuY3VycmVudF9mcmFtZSAtIDEpKTsKfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmZpcnN0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUoMCk7Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5sYXN0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUodGhpcy5sZW5ndGggLSAxKTsKfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLnNsb3dlciA9IGZ1bmN0aW9uKCkgewogIHRoaXMuaW50ZXJ2YWwgLz0gMC43OwogIGlmKHRoaXMuZGlyZWN0aW9uID4gMCl7dGhpcy5wbGF5X2FuaW1hdGlvbigpO30KICBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uIDwgMCl7dGhpcy5yZXZlcnNlX2FuaW1hdGlvbigpO30KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmZhc3RlciA9IGZ1bmN0aW9uKCkgewogIHRoaXMuaW50ZXJ2YWwgKj0gMC43OwogIGlmKHRoaXMuZGlyZWN0aW9uID4gMCl7dGhpcy5wbGF5X2FuaW1hdGlvbigpO30KICBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uIDwgMCl7dGhpcy5yZXZlcnNlX2FuaW1hdGlvbigpO30KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmFuaW1fc3RlcF9mb3J3YXJkID0gZnVuY3Rpb24oKSB7CiAgaWYodGhpcy5jdXJyZW50X2ZyYW1lIDwgdGhpcy5sZW5ndGggLSAxKXsKICAgIHRoaXMubmV4dF9mcmFtZSgpOwogIH1lbHNlewogICAgdmFyIGxvb3Bfc3RhdGUgPSB0aGlzLmdldF9sb29wX3N0YXRlKCk7CiAgICBpZihsb29wX3N0YXRlID09ICJsb29wIil7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgIH1lbHNlIGlmKGxvb3Bfc3RhdGUgPT0gInJlZmxlY3QiKXsKICAgICAgdGhpcy5sYXN0X2ZyYW1lKCk7CiAgICAgIHRoaXMucmV2ZXJzZV9hbmltYXRpb24oKTsKICAgIH1lbHNlewogICAgICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogICAgICB0aGlzLmxhc3RfZnJhbWUoKTsKICAgIH0KICB9Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5hbmltX3N0ZXBfcmV2ZXJzZSA9IGZ1bmN0aW9uKCkgewogIGlmKHRoaXMuY3VycmVudF9mcmFtZSA+IDApewogICAgdGhpcy5wcmV2aW91c19mcmFtZSgpOwogIH0gZWxzZSB7CiAgICB2YXIgbG9vcF9zdGF0ZSA9IHRoaXMuZ2V0X2xvb3Bfc3RhdGUoKTsKICAgIGlmKGxvb3Bfc3RhdGUgPT0gImxvb3AiKXsKICAgICAgdGhpcy5sYXN0X2ZyYW1lKCk7CiAgICB9ZWxzZSBpZihsb29wX3N0YXRlID09ICJyZWZsZWN0Iil7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgICAgdGhpcy5wbGF5X2FuaW1hdGlvbigpOwogICAgfWVsc2V7CiAgICAgIHRoaXMucGF1c2VfYW5pbWF0aW9uKCk7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgIH0KICB9Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5wYXVzZV9hbmltYXRpb24gPSBmdW5jdGlvbigpIHsKICB0aGlzLmRpcmVjdGlvbiA9IDA7CiAgaWYgKHRoaXMudGltZXIpewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIHRoaXMudGltZXIgPSBudWxsOwogIH0KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLnBsYXlfYW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5wYXVzZV9hbmltYXRpb24oKTsKICB0aGlzLmRpcmVjdGlvbiA9IDE7CiAgdmFyIHQgPSB0aGlzOwogIGlmICghdGhpcy50aW1lcikgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5hbmltX3N0ZXBfZm9yd2FyZCgpO30sIHRoaXMuaW50ZXJ2YWwpOwp9CgpTY3J1YmJlcldpZGdldC5wcm90b3R5cGUucmV2ZXJzZV9hbmltYXRpb24gPSBmdW5jdGlvbigpIHsKICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogIHRoaXMuZGlyZWN0aW9uID0gLTE7CiAgdmFyIHQgPSB0aGlzOwogIGlmICghdGhpcy50aW1lcikgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5hbmltX3N0ZXBfcmV2ZXJzZSgpO30sIHRoaXMuaW50ZXJ2YWwpOwp9CgpmdW5jdGlvbiBleHRlbmQoZGVzdGluYXRpb24sIHNvdXJjZSkgewogIGZvciAodmFyIGsgaW4gc291cmNlKSB7CiAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGspKSB7CiAgICAgIGRlc3RpbmF0aW9uW2tdID0gc291cmNlW2tdOwogICAgfQogIH0KICByZXR1cm4gZGVzdGluYXRpb247Cn0KCmZ1bmN0aW9uIHVwZGF0ZV93aWRnZXQod2lkZ2V0LCB2YWx1ZXMpIHsKICBpZiAod2lkZ2V0Lmhhc0NsYXNzKCJ1aS1zbGlkZXIiKSkgewogICAgd2lkZ2V0LnNsaWRlcignb3B0aW9uJywgewogICAgICBtaW46IDAsCiAgICAgIG1heDogdmFsdWVzLmxlbmd0aC0xLAogICAgICBkaW1fdmFsczogdmFsdWVzLAogICAgICB2YWx1ZTogMCwKICAgICAgZGltX2xhYmVsczogdmFsdWVzCiAgICB9KQogICAgd2lkZ2V0LnNsaWRlcignb3B0aW9uJywgJ3NsaWRlJykuY2FsbCh3aWRnZXQsIGV2ZW50LCB7dmFsdWU6IDB9KQogIH0gZWxzZSB7CiAgICB3aWRnZXQuZW1wdHkoKTsKICAgIGZvciAodmFyIGk9MDsgaTx2YWx1ZXMubGVuZ3RoOyBpKyspewogICAgICB3aWRnZXQuYXBwZW5kKCQoIjxvcHRpb24+IiwgewogICAgICAgIHZhbHVlOiBpLAogICAgICAgIHRleHQ6IHZhbHVlc1tpXQogICAgICB9KSkKICAgIH07CiAgICB3aWRnZXQuZGF0YSgndmFsdWVzJywgdmFsdWVzKTsKICAgIHdpZGdldC5kYXRhKCd2YWx1ZScsIDApOwogICAgd2lkZ2V0LnRyaWdnZXIoImNoYW5nZSIpOwogIH07Cn0KCmZ1bmN0aW9uIGluaXRfc2xpZGVyKGlkLCBwbG90X2lkLCBkaW0sIHZhbHVlcywgbmV4dF92YWxzLCBsYWJlbHMsIGR5bmFtaWMsIHN0ZXAsIHZhbHVlLCBuZXh0X2RpbSwKICAgICAgICAgICAgICAgICAgICAgZGltX2lkeCwgZGVsYXksIGpRdWVyeVVJX0NETiwgVU5ERVJTQ09SRV9DRE4pIHsKICAvLyBTbGlkZXIgSlMgQmxvY2sgU1RBUlQKICBmdW5jdGlvbiBsb2FkY3NzZmlsZShmaWxlbmFtZSl7CiAgICB2YXIgZmlsZXJlZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIikKICAgIGZpbGVyZWYuc2V0QXR0cmlidXRlKCJyZWwiLCAic3R5bGVzaGVldCIpCiAgICBmaWxlcmVmLnNldEF0dHJpYnV0ZSgidHlwZSIsICJ0ZXh0L2NzcyIpCiAgICBmaWxlcmVmLnNldEF0dHJpYnV0ZSgiaHJlZiIsIGZpbGVuYW1lKQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChmaWxlcmVmKQogIH0KICBsb2FkY3NzZmlsZSgiaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vdWkvMS4xMC40L3RoZW1lcy9zbW9vdGhuZXNzL2pxdWVyeS11aS5jc3MiKTsKICAvKiBDaGVjayBpZiBqUXVlcnkgYW5kIGpRdWVyeVVJIGhhdmUgYmVlbiBsb2FkZWQKICAgICBvdGhlcndpc2UgbG9hZCB3aXRoIHJlcXVpcmUuanMgKi8KICB2YXIgalF1ZXJ5ID0gd2luZG93LmpRdWVyeSwKICAgIC8vIGNoZWNrIGZvciBvbGQgdmVyc2lvbnMgb2YgalF1ZXJ5CiAgICBvbGRqUXVlcnkgPSBqUXVlcnkgJiYgISFqUXVlcnkuZm4uanF1ZXJ5Lm1hdGNoKC9eMVwuWzAtNF0oXC58JCkvKSwKICAgIGpxdWVyeV9wYXRoID0gJycsCiAgICBwYXRocyA9IHt9LAogICAgbm9Db25mbGljdDsKICB2YXIgalF1ZXJ5VUkgPSBqUXVlcnkudWk7CiAgLy8gY2hlY2sgZm9yIGpRdWVyeQogIGlmICghalF1ZXJ5IHx8IG9sZGpRdWVyeSkgewogICAgLy8gbG9hZCBpZiBpdCdzIG5vdCBhdmFpbGFibGUgb3IgZG9lc24ndCBtZWV0IG1pbiBzdGFuZGFyZHMKICAgIHBhdGhzLmpRdWVyeSA9IGpRdWVyeTsKICAgIG5vQ29uZmxpY3QgPSAhIW9sZGpRdWVyeTsKICB9IGVsc2UgewogICAgLy8gcmVnaXN0ZXIgdGhlIGN1cnJlbnQgalF1ZXJ5CiAgICBkZWZpbmUoJ2pxdWVyeScsIFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGpRdWVyeTsgfSk7CiAgfQogIGlmICghalF1ZXJ5VUkpIHsKICAgIHBhdGhzLmpRdWVyeVVJID0galF1ZXJ5VUlfQ0ROLnNsaWNlKG51bGwsIC0zKTsKICB9IGVsc2UgewogICAgZGVmaW5lKCdqUXVlcnlVSScsIFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGpRdWVyeS51aTsgfSk7CiAgfQogIHBhdGhzLnVuZGVyc2NvcmUgPSBVTkRFUlNDT1JFX0NETi5zbGljZShudWxsLCAtMyk7CiAgdmFyIGpxdWVyeV9yZXF1aXJlID0gewogICAgcGF0aHM6IHBhdGhzLAogICAgc2hpbTogewogICAgICAialF1ZXJ5VUkiOiB7CiAgICAgICAgZXhwb3J0czoiJCIsCiAgICAgICAgZGVwczogWydqcXVlcnknXQogICAgICB9LAogICAgICAidW5kZXJzY29yZSI6IHsKICAgICAgICBleHBvcnRzOiAnXycKICAgICAgfQogICAgfQogIH0KICByZXF1aXJlLmNvbmZpZyhqcXVlcnlfcmVxdWlyZSk7CiAgcmVxdWlyZShbImpRdWVyeVVJIiwgInVuZGVyc2NvcmUiXSwgZnVuY3Rpb24oalVJLCBfKXsKICAgIGlmIChub0NvbmZsaWN0KSAkLm5vQ29uZmxpY3QodHJ1ZSk7CiAgICB2YXIgdmFscyA9IHZhbHVlczsKICAgIGlmIChkeW5hbWljICYmIHZhbHMuY29uc3RydWN0b3IgPT09IEFycmF5KSB7CiAgICAgIHZhciBkZWZhdWx0X3ZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7CiAgICAgIHZhciBtaW4gPSBwYXJzZUZsb2F0KHZhbHNbMF0pOwogICAgICB2YXIgbWF4ID0gcGFyc2VGbG9hdCh2YWxzW3ZhbHMubGVuZ3RoLTFdKTsKICAgICAgdmFyIHdzdGVwID0gc3RlcDsKICAgICAgdmFyIHdsYWJlbHMgPSBbZGVmYXVsdF92YWx1ZV07CiAgICAgIHZhciBpbml0X2xhYmVsID0gZGVmYXVsdF92YWx1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtaW4gPSAwOwogICAgICBpZiAoZHluYW1pYykgewogICAgICAgIHZhciBtYXggPSBPYmplY3Qua2V5cyh2YWxzKS5sZW5ndGggLSAxOwogICAgICAgIHZhciBpbml0X2xhYmVsID0gbGFiZWxzW3ZhbHVlXTsKICAgICAgICB2YXIgZGVmYXVsdF92YWx1ZSA9IHZhbHVlc1t2YWx1ZV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG1heCA9IHZhbHMubGVuZ3RoIC0gMTsKICAgICAgICB2YXIgaW5pdF9sYWJlbCA9IGxhYmVsc1t2YWx1ZV07CiAgICAgICAgdmFyIGRlZmF1bHRfdmFsdWUgPSB2YWx1ZTsKICAgICAgfQogICAgICB2YXIgd3N0ZXAgPSAxOwogICAgICB2YXIgd2xhYmVscyA9IGxhYmVsczsKICAgIH0KICAgIGZ1bmN0aW9uIGFkanVzdEZvbnRTaXplKHRleHQpIHsKICAgICAgdmFyIHdpZHRoX3JhdGlvID0gKHRleHQucGFyZW50KCkud2lkdGgoKS84KS90ZXh0LnZhbCgpLmxlbmd0aDsKICAgICAgdmFyIHNpemUgPSBNYXRoLm1pbigwLjksIE1hdGgubWF4KDAuNiwgd2lkdGhfcmF0aW8pKSsnZW0nOwogICAgICB0ZXh0LmNzcygnZm9udC1zaXplJywgc2l6ZSk7CiAgICB9CiAgICB2YXIgc2xpZGVyID0gJCgnI19hbmltX3dpZGdldCcraWQrJ18nK2RpbSk7CiAgICBzbGlkZXIuc2xpZGVyKHsKICAgICAgYW5pbWF0ZTogImZhc3QiLAogICAgICBtaW46IG1pbiwKICAgICAgbWF4OiBtYXgsCiAgICAgIHN0ZXA6IHdzdGVwLAogICAgICB2YWx1ZTogZGVmYXVsdF92YWx1ZSwKICAgICAgZGltX3ZhbHM6IHZhbHMsCiAgICAgIGRpbV9sYWJlbHM6IHdsYWJlbHMsCiAgICAgIG5leHRfdmFsczogbmV4dF92YWxzLAogICAgICBzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7CiAgICAgICAgdmFyIHZhbHMgPSBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAiZGltX3ZhbHMiKTsKICAgICAgICB2YXIgbmV4dF92YWxzID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgIm5leHRfdmFscyIpOwogICAgICAgIHZhciBkbGFiZWxzID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgImRpbV9sYWJlbHMiKTsKICAgICAgICBpZiAoZHluYW1pYykgewogICAgICAgICAgdmFyIGRpbV92YWwgPSB1aS52YWx1ZTsKICAgICAgICAgIGlmICh2YWxzLmNvbnN0cnVjdG9yID09PSBBcnJheSkgewogICAgICAgICAgICB2YXIgbGFiZWwgPSB1aS52YWx1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBsYWJlbCA9IGRsYWJlbHNbdWkudmFsdWVdOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgZGltX3ZhbCA9IHZhbHNbdWkudmFsdWVdOwogICAgICAgICAgdmFyIGxhYmVsID0gZGxhYmVsc1t1aS52YWx1ZV07CiAgICAgICAgfQogICAgICAgIHZhciB0ZXh0ID0gJCgnI3RleHRJbnB1dCcraWQrJ18nK2RpbSk7CiAgICAgICAgdGV4dC52YWwobGFiZWwpOwogICAgICAgIGFkanVzdEZvbnRTaXplKHRleHQpOwogICAgICAgIEhvbG9WaWV3cy5pbmRleFtwbG90X2lkXS5zZXRfZnJhbWUoZGltX3ZhbCwgZGltX2lkeCk7CiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5leHRfdmFscykubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIG5ld192YWxzID0gbmV4dF92YWxzW2RpbV92YWxdOwogICAgICAgICAgdmFyIG5leHRfd2lkZ2V0ID0gJCgnI19hbmltX3dpZGdldCcraWQrJ18nK25leHRfZGltKTsKICAgICAgICAgIHVwZGF0ZV93aWRnZXQobmV4dF93aWRnZXQsIG5ld192YWxzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgc2xpZGVyLmtleXByZXNzKGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIGlmIChldmVudC53aGljaCA9PSA4MCB8fCBldmVudC53aGljaCA9PSAxMTIpIHsKICAgICAgICB2YXIgc3RhcnQgPSBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAidmFsdWUiKTsKICAgICAgICB2YXIgc3RvcCA9ICBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAibWF4Iik7CiAgICAgICAgZm9yICh2YXIgaT1zdGFydDsgaTw9c3RvcDsgaSsrKSB7CiAgICAgICAgICB2YXIgZGVsYXkgPSBpKmRlbGF5OwogICAgICAgICAgJC5wcm94eShmdW5jdGlvbiBkb1NldFRpbWVvdXQoaSkgeyBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB2YWwgPSB7dmFsdWU6aX07CiAgICAgICAgICAgIHNsaWRlci5zbGlkZXIoJ3ZhbHVlJyxpKTsKICAgICAgICAgICAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInNsaWRlIikobnVsbCwgdmFsKTsKICAgICAgICAgIH0sIHNsaWRlciksIGRlbGF5KTt9LCBzbGlkZXIpKGkpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoZXZlbnQud2hpY2ggPT0gODIgfHwgZXZlbnQud2hpY2ggPT0gMTE0KSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInZhbHVlIik7CiAgICAgICAgdmFyIHN0b3AgPSAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgIm1pbiIpOwogICAgICAgIHZhciBjb3VudCA9IDA7CiAgICAgICAgZm9yICh2YXIgaT1zdGFydDsgaT49c3RvcDsgaS0tKSB7CiAgICAgICAgICB2YXIgZGVsYXkgPSBjb3VudCpkZWxheTsKICAgICAgICAgIGNvdW50ID0gY291bnQgKyAxOwogICAgICAgICAgJC5wcm94eShmdW5jdGlvbiBkb1NldFRpbWVvdXQoaSkgeyBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB2YWwgPSB7dmFsdWU6aX07CiAgICAgICAgICAgIHNsaWRlci5zbGlkZXIoJ3ZhbHVlJyxpKTsKICAgICAgICAgICAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInNsaWRlIikobnVsbCwgdmFsKTsKICAgICAgICAgIH0sIHNsaWRlciksIGRlbGF5KTt9LCBzbGlkZXIpKGkpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICB2YXIgdGV4dElucHV0ID0gJCgnI3RleHRJbnB1dCcraWQrJ18nK2RpbSkKICAgIHRleHRJbnB1dC52YWwoaW5pdF9sYWJlbCk7CiAgICBhZGp1c3RGb250U2l6ZSh0ZXh0SW5wdXQpOwogIH0pOwp9CgpmdW5jdGlvbiBpbml0X2Ryb3Bkb3duKGlkLCBwbG90X2lkLCBkaW0sIHZhbHMsIHZhbHVlLCBuZXh0X3ZhbHMsIGxhYmVscywgbmV4dF9kaW0sIGRpbV9pZHgsIGR5bmFtaWMpIHsKICB2YXIgd2lkZ2V0ID0gJCgiI19hbmltX3dpZGdldCIraWQrJ18nK2RpbSk7CiAgd2lkZ2V0LmRhdGEoJ3ZhbHVlcycsIHZhbHMpCiAgZm9yICh2YXIgaT0wOyBpPHZhbHMubGVuZ3RoOyBpKyspewogICAgaWYgKGR5bmFtaWMpIHsKICAgICAgdmFyIHZhbCA9IHZhbHNbaV07CiAgICB9IGVsc2UgewogICAgICB2YXIgdmFsID0gaTsKICAgIH0KICAgIHdpZGdldC5hcHBlbmQoJCgiPG9wdGlvbj4iLCB7CiAgICAgIHZhbHVlOiB2YWwsCiAgICAgIHRleHQ6IGxhYmVsc1tpXQogICAgfSkpOwogIH07CiAgd2lkZ2V0LmRhdGEoIm5leHRfdmFscyIsIG5leHRfdmFscyk7CiAgd2lkZ2V0LnZhbCh2YWx1ZSk7CiAgd2lkZ2V0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihldmVudCwgdWkpIHsKICAgIGlmIChkeW5hbWljKSB7CiAgICAgIHZhciBkaW1fdmFsID0gcGFyc2VJbnQodGhpcy52YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICB2YXIgZGltX3ZhbCA9ICQuZGF0YSh0aGlzLCAndmFsdWVzJylbdGhpcy52YWx1ZV07CiAgICB9CiAgICB2YXIgbmV4dF92YWxzID0gJC5kYXRhKHRoaXMsICJuZXh0X3ZhbHMiKTsKICAgIGlmIChPYmplY3Qua2V5cyhuZXh0X3ZhbHMpLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIG5ld192YWxzID0gbmV4dF92YWxzW2RpbV92YWxdOwogICAgICB2YXIgbmV4dF93aWRnZXQgPSAkKCcjX2FuaW1fd2lkZ2V0JytpZCsnXycrbmV4dF9kaW0pOwogICAgICB1cGRhdGVfd2lkZ2V0KG5leHRfd2lkZ2V0LCBuZXdfdmFscyk7CiAgICB9CiAgICB2YXIgd2lkZ2V0cyA9IEhvbG9WaWV3cy5pbmRleFtwbG90X2lkXQogICAgaWYgKHdpZGdldHMpIHsKICAgICAgd2lkZ2V0cy5zZXRfZnJhbWUoZGltX3ZhbCwgZGltX2lkeCk7CiAgICB9CiAgfSk7Cn0KCmlmICh3aW5kb3cuSG9sb1ZpZXdzID09PSB1bmRlZmluZWQpIHsKICB3aW5kb3cuSG9sb1ZpZXdzID0ge30KfQoKdmFyIF9uYW1lc3BhY2UgPSB7CiAgaW5pdF9zbGlkZXI6IGluaXRfc2xpZGVyLAogIGluaXRfZHJvcGRvd246IGluaXRfZHJvcGRvd24sCiAgY29tbXM6IHt9LAogIGNvbW1fc3RhdHVzOiB7fSwKICBpbmRleDoge30sCiAgcGxvdF9pbmRleDoge30sCiAga2VybmVsczoge30sCiAgcmVjZWl2ZXJzOiB7fQp9Cgpmb3IgKHZhciBrIGluIF9uYW1lc3BhY2UpIHsKICBpZiAoIShrIGluIHdpbmRvdy5Ib2xvVmlld3MpKSB7CiAgICB3aW5kb3cuSG9sb1ZpZXdzW2tdID0gX25hbWVzcGFjZVtrXTsKICB9Cn0KCnZhciBKU19NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vamF2YXNjcmlwdCc7CnZhciBIVE1MX01JTUVfVFlQRSA9ICd0ZXh0L2h0bWwnOwp2YXIgRVhFQ19NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vdm5kLmhvbG92aWV3c19leGVjLnYwK2pzb24nOwp2YXIgQ0xBU1NfTkFNRSA9ICdvdXRwdXQnOwoKLyoqCiAqIFJlbmRlciBkYXRhIHRvIHRoZSBET00gbm9kZQogKi8KZnVuY3Rpb24gcmVuZGVyKHByb3BzLCBub2RlKSB7CiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICBub2RlLmFwcGVuZENoaWxkKGRpdik7CiAgbm9kZS5hcHBlbmRDaGlsZChzY3JpcHQpOwp9CgovKioKICogSGFuZGxlIHdoZW4gYSBuZXcgb3V0cHV0IGlzIGFkZGVkCiAqLwpmdW5jdGlvbiBoYW5kbGVfYWRkX291dHB1dChldmVudCwgaGFuZGxlKSB7CiAgdmFyIG91dHB1dF9hcmVhID0gaGFuZGxlLm91dHB1dF9hcmVhOwogIHZhciBvdXRwdXQgPSBoYW5kbGUub3V0cHV0OwogIGlmICghb3V0cHV0LmRhdGEuaGFzT3duUHJvcGVydHkoRVhFQ19NSU1FX1RZUEUpKSB7CiAgICByZXR1cm4KICB9CiAgdmFyIGlkID0gb3V0cHV0Lm1ldGFkYXRhW0VYRUNfTUlNRV9UWVBFXVsiaWQiXTsKICB2YXIgdG9pbnNlcnQgPSBvdXRwdXRfYXJlYS5lbGVtZW50LmZpbmQoIi4iICsgQ0xBU1NfTkFNRS5zcGxpdCgnICcpWzBdKTsKICBpZiAoaWQgIT09IHVuZGVmaW5lZCkgewogICAgdG9pbnNlcnRbMF0uY2hpbGRyZW5bMF0uaW5uZXJIVE1MID0gb3V0cHV0LmRhdGFbSFRNTF9NSU1FX1RZUEVdOwogICAgdG9pbnNlcnRbMF0uY2hpbGRyZW5bMV0udGV4dENvbnRlbnQgPSBvdXRwdXQuZGF0YVtKU19NSU1FX1RZUEVdOwogICAgb3V0cHV0X2FyZWEuX2h2X3Bsb3RfaWQgPSBpZDsKICAgIGlmICgod2luZG93LkJva2VoICE9PSB1bmRlZmluZWQpICYmIChpZCBpbiBCb2tlaC5pbmRleCkpIHsKICAgICAgSG9sb1ZpZXdzLnBsb3RfaW5kZXhbaWRdID0gQm9rZWguaW5kZXhbaWRdOwogICAgfSBlbHNlIHsKICAgICAgSG9sb1ZpZXdzLnBsb3RfaW5kZXhbaWRdID0gbnVsbDsKICAgIH0KICB9Cn0KCi8qKgogKiBIYW5kbGUgd2hlbiBhbiBvdXRwdXQgaXMgY2xlYXJlZCBvciByZW1vdmVkCiAqLwpmdW5jdGlvbiBoYW5kbGVfY2xlYXJfb3V0cHV0KGV2ZW50LCBoYW5kbGUpIHsKICB2YXIgaWQgPSBoYW5kbGUuY2VsbC5vdXRwdXRfYXJlYS5faHZfcGxvdF9pZDsKICBpZiAoKGlkID09PSB1bmRlZmluZWQpIHx8ICEoaWQgaW4gSG9sb1ZpZXdzLnBsb3RfaW5kZXgpKSB7IHJldHVybjsgfQogIHZhciBjb21tID0gd2luZG93LkhvbG9WaWV3cy5jb21tX21hbmFnZXIuZ2V0X2NsaWVudF9jb21tKCJodi1leHRlbnNpb24tY29tbSIsICJodi1leHRlbnNpb24tY29tbSIsIGZ1bmN0aW9uICgpIHt9KTsKICBpZiAoY29tbSAhPT0gbnVsbCkgewogICAgY29tbS5zZW5kKHtldmVudF90eXBlOiAnZGVsZXRlJywgJ2lkJzogaWR9KTsKICB9CiAgZGVsZXRlIEhvbG9WaWV3cy5wbG90X2luZGV4W2lkXTsKICBpZiAoKHdpbmRvdy5Cb2tlaCAhPT0gdW5kZWZpbmVkKSAmIChpZCBpbiB3aW5kb3cuQm9rZWguaW5kZXgpKSB7CiAgICB3aW5kb3cuQm9rZWguaW5kZXhbaWRdLm1vZGVsLmRvY3VtZW50LmNsZWFyKCk7CiAgICBkZWxldGUgQm9rZWguaW5kZXhbaWRdOwogIH0KfQoKZnVuY3Rpb24gaGFuZGxlX2tlcm5lbF9jbGVhbnVwKGV2ZW50LCBoYW5kbGUpIHsKICBkZWxldGUgSG9sb1ZpZXdzLmNvbW1zWyJodi1leHRlbnNpb24tY29tbSJdOwogIHdpbmRvdy5Ib2xvVmlld3MucGxvdF9pbmRleCA9IHt9Cn0KCmZ1bmN0aW9uIHJlZ2lzdGVyX3JlbmRlcmVyKGV2ZW50cywgT3V0cHV0QXJlYSkgewogIGZ1bmN0aW9uIGFwcGVuZF9taW1lKGRhdGEsIG1ldGFkYXRhLCBlbGVtZW50KSB7CiAgICAvLyBjcmVhdGUgYSBET00gbm9kZSB0byByZW5kZXIgdG8KICAgIHZhciB0b2luc2VydCA9IHRoaXMuY3JlYXRlX291dHB1dF9zdWJhcmVhKAogICAgbWV0YWRhdGEsCiAgICBDTEFTU19OQU1FLAogICAgRVhFQ19NSU1FX1RZUEUKICAgICk7CiAgICB0aGlzLmtleWJvYXJkX21hbmFnZXIucmVnaXN0ZXJfZXZlbnRzKHRvaW5zZXJ0KTsKICAgIC8vIFJlbmRlciB0byBub2RlCiAgICB2YXIgcHJvcHMgPSB7ZGF0YTogZGF0YSwgbWV0YWRhdGE6IG1ldGFkYXRhW0VYRUNfTUlNRV9UWVBFXX07CiAgICByZW5kZXIocHJvcHMsIHRvaW5zZXJ0WzBdKTsKICAgIGVsZW1lbnQuYXBwZW5kKHRvaW5zZXJ0KTsKICAgIHJldHVybiB0b2luc2VydAogIH0KCiAgZXZlbnRzLm9uKCdvdXRwdXRfYWRkZWQuT3V0cHV0QXJlYScsIGhhbmRsZV9hZGRfb3V0cHV0KTsKICBldmVudHMub24oJ2NsZWFyX291dHB1dC5Db2RlQ2VsbCcsIGhhbmRsZV9jbGVhcl9vdXRwdXQpOwogIGV2ZW50cy5vbignZGVsZXRlLkNlbGwnLCBoYW5kbGVfY2xlYXJfb3V0cHV0KTsKICBldmVudHMub24oJ2tlcm5lbF9yZWFkeS5LZXJuZWwnLCBoYW5kbGVfa2VybmVsX2NsZWFudXApOwoKICBPdXRwdXRBcmVhLnByb3RvdHlwZS5yZWdpc3Rlcl9taW1lX3R5cGUoRVhFQ19NSU1FX1RZUEUsIGFwcGVuZF9taW1lLCB7CiAgICBzYWZlOiB0cnVlLAogICAgaW5kZXg6IDAKICB9KTsKfQoKaWYgKHdpbmRvdy5KdXB5dGVyICE9PSB1bmRlZmluZWQpIHsKICB0cnkgewogICAgdmFyIGV2ZW50cyA9IHJlcXVpcmUoJ2Jhc2UvanMvZXZlbnRzJyk7CiAgICB2YXIgT3V0cHV0QXJlYSA9IHJlcXVpcmUoJ25vdGVib29rL2pzL291dHB1dGFyZWEnKS5PdXRwdXRBcmVhOwogICAgaWYgKE91dHB1dEFyZWEucHJvdG90eXBlLm1pbWVfdHlwZXMoKS5pbmRleE9mKEVYRUNfTUlNRV9UWVBFKSA9PSAtMSkgewogICAgICByZWdpc3Rlcl9yZW5kZXJlcihldmVudHMsIE91dHB1dEFyZWEpOwogICAgfQogIH0gY2F0Y2goZXJyKSB7CiAgfQp9CgovLyBEZWZpbmUgQm9rZWggc3BlY2lmaWMgc3ViY2xhc3NlcwpmdW5jdGlvbiBCb2tlaFNlbGVjdGlvbldpZGdldCgpIHsKICBTZWxlY3Rpb25XaWRnZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gQm9rZWhTY3J1YmJlcldpZGdldCgpIHsKICBTY3J1YmJlcldpZGdldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgovLyBMZXQgdGhlbSBpbmhlcml0IGZyb20gdGhlIGJhc2VjbGFzc2VzCkJva2VoU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZSk7CkJva2VoU2NydWJiZXJXaWRnZXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTY3J1YmJlcldpZGdldC5wcm90b3R5cGUpOwoKLy8gRGVmaW5lIG1ldGhvZHMgdG8gb3ZlcnJpZGUgb24gd2lkZ2V0cwp2YXIgQm9rZWhNZXRob2RzID0gewogIHVwZGF0ZV9jYWNoZSA6IGZ1bmN0aW9uKCl7CiAgICBmb3IgKHZhciBpbmRleCBpbiB0aGlzLmZyYW1lcykgewogICAgICB0aGlzLmZyYW1lc1tpbmRleF0gPSBKU09OLnBhcnNlKHRoaXMuZnJhbWVzW2luZGV4XSk7CiAgICB9CiAgfSwKICB1cGRhdGUgOiBmdW5jdGlvbihjdXJyZW50KXsKICAgIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGRhdGEgPSB0aGlzLmZyYW1lc1tjdXJyZW50XTsKCWlmIChkYXRhICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIGRvYyA9IEhvbG9WaWV3cy5wbG90X2luZGV4W2RhdGEucm9vdF0ubW9kZWwuZG9jdW1lbnQ7CiAgICAgIGRvYy5hcHBseV9qc29uX3BhdGNoKGRhdGEuY29udGVudCk7CiAgICB9CiAgfSwKICBpbml0X2NvbW1zOiBmdW5jdGlvbigpIHsKICAgIGlmIChCb2tlaC5wcm90b2NvbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMucmVjZWl2ZXIgPSBuZXcgQm9rZWgucHJvdG9jb2wuUmVjZWl2ZXIoKQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5yZWNlaXZlciA9IG51bGw7Cgl9CiAgICByZXR1cm4gSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5pbml0X2NvbW1zLmNhbGwodGhpcyk7CiAgfSwKICBwcm9jZXNzX21zZyA6IGZ1bmN0aW9uKG1zZykgewogICAgdmFyIGRvYyA9IEhvbG9WaWV3cy5wbG90X2luZGV4W3RoaXMucGxvdF9pZF0ubW9kZWwuZG9jdW1lbnQ7CiAgICBpZiAodGhpcy5yZWNlaXZlciA9PT0gbnVsbCkgeyByZXR1cm4gfQogICAgdmFyIHJlY2VpdmVyID0gdGhpcy5yZWNlaXZlcjsKICAgIGlmIChtc2cuYnVmZmVycy5sZW5ndGggPiAwKSB7CiAgICAgIHJlY2VpdmVyLmNvbnN1bWUobXNnLmJ1ZmZlcnNbMF0uYnVmZmVyKQogICAgfSBlbHNlIHsKICAgICAgcmVjZWl2ZXIuY29uc3VtZShtc2cuY29udGVudC5kYXRhKQogICAgfQogICAgY29uc3QgY29tbV9tc2cgPSByZWNlaXZlci5tZXNzYWdlOwogICAgaWYgKChjb21tX21zZyAhPSBudWxsKSAmJiAoZG9jICE9IG51bGwpKSB7CiAgICAgIGRvYy5hcHBseV9qc29uX3BhdGNoKGNvbW1fbXNnLmNvbnRlbnQsIGNvbW1fbXNnLmJ1ZmZlcnMpCiAgICB9CiAgfQp9CgovLyBFeHRlbmQgQm9rZWggd2lkZ2V0cyB3aXRoIGJhY2tlbmQgc3BlY2lmaWMgbWV0aG9kcwpleHRlbmQoQm9rZWhTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlLCBCb2tlaE1ldGhvZHMpOwpleHRlbmQoQm9rZWhTY3J1YmJlcldpZGdldC5wcm90b3R5cGUsIEJva2VoTWV0aG9kcyk7Cgp3aW5kb3cuSG9sb1ZpZXdzLkJva2VoU2VsZWN0aW9uV2lkZ2V0ID0gQm9rZWhTZWxlY3Rpb25XaWRnZXQKd2luZG93LkhvbG9WaWV3cy5Cb2tlaFNjcnViYmVyV2lkZ2V0ID0gQm9rZWhTY3J1YmJlcldpZGdldAo8L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgogICAgZnVuY3Rpb24gSnVweXRlckNvbW1NYW5hZ2VyKCkgewogICAgfQoKICAgIEp1cHl0ZXJDb21tTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJfdGFyZ2V0ID0gZnVuY3Rpb24ocGxvdF9pZCwgY29tbV9pZCwgbXNnX2hhbmRsZXIpIHsKICAgICAgaWYgKHdpbmRvdy5jb21tX21hbmFnZXIgfHwgKCh3aW5kb3cuSnVweXRlciAhPT0gdW5kZWZpbmVkKSAmJiAoSnVweXRlci5ub3RlYm9vay5rZXJuZWwgIT0gbnVsbCkpKSB7CiAgICAgICAgdmFyIGNvbW1fbWFuYWdlciA9IHdpbmRvdy5jb21tX21hbmFnZXIgfHwgSnVweXRlci5ub3RlYm9vay5rZXJuZWwuY29tbV9tYW5hZ2VyOwogICAgICAgIGNvbW1fbWFuYWdlci5yZWdpc3Rlcl90YXJnZXQoY29tbV9pZCwgZnVuY3Rpb24oY29tbSkgewogICAgICAgICAgY29tbS5vbl9tc2cobXNnX2hhbmRsZXIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKChwbG90X2lkIGluIEhvbG9WaWV3cy5rZXJuZWxzKSAmJiAoSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0pKSB7CiAgICAgICAgSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0ucmVnaXN0ZXJDb21tVGFyZ2V0KGNvbW1faWQsIGZ1bmN0aW9uKGNvbW0pIHsKICAgICAgICAgIGNvbW0ub25Nc2cgPSBtc2dfaGFuZGxlcjsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIEp1cHl0ZXJDb21tTWFuYWdlci5wcm90b3R5cGUuZ2V0X2NsaWVudF9jb21tID0gZnVuY3Rpb24ocGxvdF9pZCwgY29tbV9pZCwgbXNnX2hhbmRsZXIpIHsKICAgICAgaWYgKGNvbW1faWQgaW4gd2luZG93LkhvbG9WaWV3cy5jb21tcykgewogICAgICAgIHJldHVybiBIb2xvVmlld3MuY29tbXNbY29tbV9pZF07CiAgICAgIH0gZWxzZSBpZiAod2luZG93LmNvbW1fbWFuYWdlciB8fCAoKHdpbmRvdy5KdXB5dGVyICE9PSB1bmRlZmluZWQpICYmIChKdXB5dGVyLm5vdGVib29rLmtlcm5lbCAhPSBudWxsKSkpIHsKICAgICAgICB2YXIgY29tbV9tYW5hZ2VyID0gd2luZG93LmNvbW1fbWFuYWdlciB8fCBKdXB5dGVyLm5vdGVib29rLmtlcm5lbC5jb21tX21hbmFnZXI7CiAgICAgICAgdmFyIGNvbW0gPSBjb21tX21hbmFnZXIubmV3X2NvbW0oY29tbV9pZCwge30sIHt9LCB7fSwgY29tbV9pZCk7CiAgICAgICAgaWYgKG1zZ19oYW5kbGVyKSB7CiAgICAgICAgICBjb21tLm9uX21zZyhtc2dfaGFuZGxlcik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKChwbG90X2lkIGluIEhvbG9WaWV3cy5rZXJuZWxzKSAmJiAoSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0pKSB7CiAgICAgICAgdmFyIGNvbW0gPSBIb2xvVmlld3Mua2VybmVsc1twbG90X2lkXS5jb25uZWN0VG9Db21tKGNvbW1faWQpOwogICAgICAgIGNvbW0ub3BlbigpOwogICAgICAgIGlmIChtc2dfaGFuZGxlcikgewogICAgICAgICAgY29tbS5vbk1zZyA9IG1zZ19oYW5kbGVyOwogICAgICAgIH0KICAgICAgfQogICAgICBIb2xvVmlld3MuY29tbXNbY29tbV9pZF0gPSBjb21tOwogICAgICByZXR1cm4gY29tbTsKICAgIH0KCiAgICB3aW5kb3cuSG9sb1ZpZXdzLmNvbW1fbWFuYWdlciA9IG5ldyBKdXB5dGVyQ29tbU1hbmFnZXIoKTsKICAgIDwvc2NyaXB0PgoKPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5weWRhdGEub3JnL2Jva2VoL3JlbGVhc2UvYm9rZWgtMC4xMi4xNS5taW4uY3NzIj4KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5weWRhdGEub3JnL2Jva2VoL3JlbGVhc2UvYm9rZWgtd2lkZ2V0cy0wLjEyLjE1Lm1pbi5jc3MiPgo8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC10YWJsZXMtMC4xMi4xNS5taW4uY3NzIj4KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjMuNi9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiPgo8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL3VpLzEuMTAuNC90aGVtZXMvc21vb3RobmVzcy9qcXVlcnktdWkuY3NzIj4KPHN0eWxlPmRpdi5iay1oYm94IHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoKZGl2LmJrLWhib3ggZGl2LmJrLXBsb3QgewogICAgcGFkZGluZzogOHB4Owp9CgpkaXYuYmstaGJveCBkaXYuYmstZGF0YS10YWJsZSB7CiAgICBwYWRkaW5nOiAyMHB4Owp9CgpkaXYuaG9sb2xheW91dCB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIG1hcmdpbjogMDsKfQoKZGl2LmhvbG9mcmFtZSB7CiAgd2lkdGg6IDc1JTsKfQoKZGl2LmhvbG93ZWxsIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCmZvcm0uaG9sb2Zvcm0gewogIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgcGFkZGluZy1sZWZ0OiAwLjhlbTsKICBwYWRkaW5nLXJpZ2h0OiAwLjhlbTsKICBwYWRkaW5nLXRvcDogMC40ZW07CiAgcGFkZGluZy1ib3R0b206IDAuNGVtOwogIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMDUpOwogIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2UzZTNlMzsKfQoKZGl2LmhvbG93aWRnZXRzIHsKICBwYWRkaW5nLXJpZ2h0OiAwOwogIHdpZHRoOiAyNSU7Cn0KCmRpdi5ob2xvc2xpZGVyIHsKICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7CiAgaGVpZ2h0OiAwLjhlbTsKICB3aWR0aDogMTAwJTsKfQoKZGl2LmhvbG9mb3JtZ3JvdXAgewogIHBhZGRpbmctdG9wOiAwLjVlbTsKICBtYXJnaW4tYm90dG9tOiAwLjVlbTsKfQoKZGl2LmhvbG9ncm91cCB7CiAgcGFkZGluZy1sZWZ0OiAwOwogIHBhZGRpbmctcmlnaHQ6IDAuOGVtOwogIHdpZHRoOiAxMDAlOwp9CgouaG9sb3NlbGVjdCB7CiAgd2lkdGg6IDkyJTsKICBtYXJnaW4tbGVmdDogMDsKICBtYXJnaW4tcmlnaHQ6IDA7Cn0KCi5ob2xvdGV4dCB7CiAgcGFkZGluZy1sZWZ0OiAgMC41ZW07CiAgcGFkZGluZy1yaWdodDogMDsKICB3aWR0aDogMTAwJTsKfQoKLmhvbG93aWRnZXRzIC51aS1yZXNpemFibGUtc2UgewogIHZpc2liaWxpdHk6IGhpZGRlbgp9CgouaG9sb2ZyYW1lID4gLnVpLXJlc2l6YWJsZS1zZSB7CiAgdmlzaWJpbGl0eTogaGlkZGVuCn0KCi5ob2xvd2lkZ2V0cyAudWktcmVzaXphYmxlLXMgewogIHZpc2liaWxpdHk6IGhpZGRlbgp9CgoKLyogQ1NTIHJ1bGVzIGZvciBub1VJU2xpZGVyIGJhc2VkIHNsaWRlciB1c2VkIGJ5IEp1cHl0ZXJMYWIgZXh0ZW5zaW9uICAqLwoKLm5vVWktaGFuZGxlIHsKICB3aWR0aDogMjBweCAhaW1wb3J0YW50OwogIGhlaWdodDogMjBweCAhaW1wb3J0YW50OwogIGxlZnQ6IC01cHggIWltcG9ydGFudDsKICB0b3A6IC01cHggIWltcG9ydGFudDsKfQoKLm5vVWktaGFuZGxlOmJlZm9yZSwgLm5vVWktaGFuZGxlOmFmdGVyIHsKICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgaGVpZ2h0OiAwcHg7Cn0KCi5ub1VpLXRhcmdldCB7CiAgbWFyZ2luLWxlZnQ6IDAuNWVtOwogIG1hcmdpbi1yaWdodDogMC41ZW07Cn0KPC9zdHlsZT48ZGl2IHN0eWxlPSdkaXNwbGF5OiB0YWJsZTsgbWFyZ2luOiAwIGF1dG87Jz4KCjxkaXYgY2xhc3M9ImJrLXJvb3QiPgogICAgPGRpdiBjbGFzcz0iYmstcGxvdGRpdiIgaWQ9Ijk1MmQzYTA0LWQ3NjUtNGJmYy05MjRiLTBmY2IxMzk3ZjIxNSI+PC9kaXY+CjwvZGl2Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgKGZ1bmN0aW9uKHJvb3QpIHsKICBmdW5jdGlvbiBlbWJlZF9kb2N1bWVudChyb290KSB7CiAgICAKICB2YXIgZG9jc19qc29uID0geyJkZTRhN2Y0YS01YzdiLTQ1YmUtYTM0MC00ODhkMDRlZmRhNjgiOnsicm9vdHMiOnsicmVmZXJlbmNlcyI6W3siYXR0cmlidXRlcyI6eyJheGlzX2xhYmVsIjoiaW5kZXgiLCJib3VuZHMiOiJhdXRvIiwiZm9ybWF0dGVyIjp7ImlkIjoiOTI3ODQ2M2EtMDgyNC00MjY2LTlkYmUtNWEwMWRhY2JkODQyIiwidHlwZSI6IkJhc2ljVGlja0Zvcm1hdHRlciJ9LCJtYWpvcl9sYWJlbF9vcmllbnRhdGlvbiI6Imhvcml6b250YWwiLCJwbG90Ijp7ImlkIjoiYWQ5N2FlODgtM2M4OC00Y2I3LWJmMTQtNmY0NDI5MzgxN2Y4Iiwic3VidHlwZSI6IkZpZ3VyZSIsInR5cGUiOiJQbG90In0sInRpY2tlciI6eyJpZCI6IjZkMWZiNjI3LTM4YWMtNDZmNi1hZjQ2LTIyYzBlMjg4YTdlNCIsInR5cGUiOiJCYXNpY1RpY2tlciJ9fSwiaWQiOiJmYTBlNDdlMy01NTYwLTQ1Y2QtODlkMi1jN2RiNzMzNGM3NTQiLCJ0eXBlIjoiTGluZWFyQXhpcyJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiNmQxZmI2MjctMzhhYy00NmY2LWFmNDYtMjJjMGUyODhhN2U0IiwidHlwZSI6IkJhc2ljVGlja2VyIn0seyJhdHRyaWJ1dGVzIjp7InNvdXJjZSI6eyJpZCI6IjQyZjU2YWJhLWVkMjktNGVkNC1hMjAwLTY3MDY1YTcwOGI1YiIsInR5cGUiOiJDb2x1bW5EYXRhU291cmNlIn19LCJpZCI6ImI4NDI0NGU5LTc2NWUtNGMwNC1hMDExLTYxOGE4ZGY3YjU0MyIsInR5cGUiOiJDRFNWaWV3In0seyJhdHRyaWJ1dGVzIjp7ImF4aXNfbGFiZWwiOiJleHRtYWpvciIsImJvdW5kcyI6ImF1dG8iLCJmb3JtYXR0ZXIiOnsiaWQiOiI1ZmY1ZTFlZC1kODViLTRlMTctYjJmMi02ZTQyMDBiMWQ5NWUiLCJ0eXBlIjoiQmFzaWNUaWNrRm9ybWF0dGVyIn0sIm1ham9yX2xhYmVsX29yaWVudGF0aW9uIjoiaG9yaXpvbnRhbCIsInBsb3QiOnsiaWQiOiJhZDk3YWU4OC0zYzg4LTRjYjctYmYxNC02ZjQ0MjkzODE3ZjgiLCJzdWJ0eXBlIjoiRmlndXJlIiwidHlwZSI6IlBsb3QifSwidGlja2VyIjp7ImlkIjoiYTQyNDM0YmYtYmY1NS00MjgzLWIxOTktYzI2ZDU1ZjgzNjgyIiwidHlwZSI6IkJhc2ljVGlja2VyIn19LCJpZCI6ImUxOGZiNDAzLWVmYzctNDk4OS1hMGVkLTdiZmE4ZmMxYWUyNiIsInR5cGUiOiJMaW5lYXJBeGlzIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiJhNDI0MzRiZi1iZjU1LTQyODMtYjE5OS1jMjZkNTVmODM2ODIiLCJ0eXBlIjoiQmFzaWNUaWNrZXIifSx7ImF0dHJpYnV0ZXMiOnsiZGltZW5zaW9uIjoxLCJncmlkX2xpbmVfY29sb3IiOnsidmFsdWUiOm51bGx9LCJwbG90Ijp7ImlkIjoiYWQ5N2FlODgtM2M4OC00Y2I3LWJmMTQtNmY0NDI5MzgxN2Y4Iiwic3VidHlwZSI6IkZpZ3VyZSIsInR5cGUiOiJQbG90In0sInRpY2tlciI6eyJpZCI6ImE0MjQzNGJmLWJmNTUtNDI4My1iMTk5LWMyNmQ1NWY4MzY4MiIsInR5cGUiOiJCYXNpY1RpY2tlciJ9fSwiaWQiOiIwZjA4MjllOS02NzY4LTQ0YWQtODdjOC1mZDk0ODBmYTkzZjUiLCJ0eXBlIjoiR3JpZCJ9LHsiYXR0cmlidXRlcyI6eyJjYWxsYmFjayI6bnVsbCwiZW5kIjoxNzh9LCJpZCI6ImJjYzNiOGFiLTFlMmEtNDc0Ny1hOWMyLTY3ZWIyMGQ5ZDRkOCIsInR5cGUiOiJSYW5nZTFkIn0seyJhdHRyaWJ1dGVzIjp7ImZpbGxfY29sb3IiOnsidmFsdWUiOiIjMzBhMmRhIn0sImxpbmVfY29sb3IiOnsidmFsdWUiOiIjMzBhMmRhIn0sInNpemUiOnsidW5pdHMiOiJzY3JlZW4iLCJ2YWx1ZSI6Mi40NDk0ODk3NDI3ODMxNzh9LCJ4Ijp7ImZpZWxkIjoiaW5kZXgifSwieSI6eyJmaWVsZCI6ImV4dG1ham9yIn19LCJpZCI6IjM2NjNlNjZhLWI1MzgtNGIxYS1iZjAzLThmZWY3YzBlMGM5MiIsInR5cGUiOiJDaXJjbGUifSx7ImF0dHJpYnV0ZXMiOnsibGluZV9hbHBoYSI6eyJ2YWx1ZSI6MC41fSwibGluZV9jb2xvciI6eyJ2YWx1ZSI6InJlZCJ9LCJsaW5lX3dpZHRoIjp7InZhbHVlIjoyfSwibG9jYXRpb24iOjYzLjIsInBsb3QiOm51bGx9LCJpZCI6IjY0YTRlODA2LTk1ZDAtNGI4Mi04YjY3LTVlMDBiNDE4Y2YwOCIsInR5cGUiOiJTcGFuIn0seyJhdHRyaWJ1dGVzIjp7ImJvdHRvbV91bml0cyI6InNjcmVlbiIsImZpbGxfYWxwaGEiOnsidmFsdWUiOjAuNX0sImZpbGxfY29sb3IiOnsidmFsdWUiOiJsaWdodGdyZXkifSwibGVmdF91bml0cyI6InNjcmVlbiIsImxldmVsIjoib3ZlcmxheSIsImxpbmVfYWxwaGEiOnsidmFsdWUiOjEuMH0sImxpbmVfY29sb3IiOnsidmFsdWUiOiJibGFjayJ9LCJsaW5lX2Rhc2giOls0LDRdLCJsaW5lX3dpZHRoIjp7InZhbHVlIjoyfSwicGxvdCI6bnVsbCwicmVuZGVyX21vZGUiOiJjc3MiLCJyaWdodF91bml0cyI6InNjcmVlbiIsInRvcF91bml0cyI6InNjcmVlbiJ9LCJpZCI6Ijk1NjU1YWI1LTM3ZDQtNGZkMy05ZTc1LTYyYjc4NjRkYzY4ZiIsInR5cGUiOiJCb3hBbm5vdGF0aW9uIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiJiZTIwMTUwMC1iZTNkLTRmMGUtOWUwMS1jODQ4NzNjZjM0ZDciLCJ0eXBlIjoiU2F2ZVRvb2wifSx7ImF0dHJpYnV0ZXMiOnsiYmVsb3ciOlt7ImlkIjoiZmEwZTQ3ZTMtNTU2MC00NWNkLTg5ZDItYzdkYjczMzRjNzU0IiwidHlwZSI6IkxpbmVhckF4aXMifV0sImxlZnQiOlt7ImlkIjoiZTE4ZmI0MDMtZWZjNy00OTg5LWEwZWQtN2JmYThmYzFhZTI2IiwidHlwZSI6IkxpbmVhckF4aXMifV0sIm1pbl9ib3JkZXJfYm90dG9tIjoxMCwibWluX2JvcmRlcl9sZWZ0IjoxMCwibWluX2JvcmRlcl9yaWdodCI6MTAsIm1pbl9ib3JkZXJfdG9wIjoxMCwicGxvdF9oZWlnaHQiOjMwMCwicGxvdF93aWR0aCI6NDAwLCJyZW5kZXJlcnMiOlt7ImlkIjoiZmEwZTQ3ZTMtNTU2MC00NWNkLTg5ZDItYzdkYjczMzRjNzU0IiwidHlwZSI6IkxpbmVhckF4aXMifSx7ImlkIjoiZjhkZDc5ZDAtYzY5Yy00YTA0LWIzODQtOWVmYzcwY2RiMDI0IiwidHlwZSI6IkdyaWQifSx7ImlkIjoiZTE4ZmI0MDMtZWZjNy00OTg5LWEwZWQtN2JmYThmYzFhZTI2IiwidHlwZSI6IkxpbmVhckF4aXMifSx7ImlkIjoiMGYwODI5ZTktNjc2OC00NGFkLTg3YzgtZmQ5NDgwZmE5M2Y1IiwidHlwZSI6IkdyaWQifSx7ImlkIjoiOTU2NTVhYjUtMzdkNC00ZmQzLTllNzUtNjJiNzg2NGRjNjhmIiwidHlwZSI6IkJveEFubm90YXRpb24ifSx7ImlkIjoiZTdlYzY5YzQtMmU4Yy00NTQ2LTljODEtYWIxY2Y3YWFiMDkyIiwidHlwZSI6IkdseXBoUmVuZGVyZXIifSx7ImlkIjoiNjRhNGU4MDYtOTVkMC00YjgyLThiNjctNWUwMGI0MThjZjA4IiwidHlwZSI6IlNwYW4ifV0sInRpdGxlIjp7ImlkIjoiMzI3NGQxZjItMjUyYS00MmJlLWEwNDUtNWEwMmQyODUxOTg3IiwidHlwZSI6IlRpdGxlIn0sInRvb2xiYXIiOnsiaWQiOiIwYzRhODkyNC00NmI5LTQ2YjQtYjVkOS0zOTQ1M2NkYjY0YTgiLCJ0eXBlIjoiVG9vbGJhciJ9LCJ4X3JhbmdlIjp7ImlkIjoiYmNjM2I4YWItMWUyYS00NzQ3LWE5YzItNjdlYjIwZDlkNGQ4IiwidHlwZSI6IlJhbmdlMWQifSwieF9zY2FsZSI6eyJpZCI6ImRmMjBlOGRmLTY0ZjMtNGU2OC1iYTczLTdmYmM0NjExMWQzMyIsInR5cGUiOiJMaW5lYXJTY2FsZSJ9LCJ5X3JhbmdlIjp7ImlkIjoiNDNiNGY5NWYtMWYwMS00OGIzLTg4OWUtNTZhYWNiZDFiYjEzIiwidHlwZSI6IlJhbmdlMWQifSwieV9zY2FsZSI6eyJpZCI6ImY3YmU3MTE1LWU5ZGUtNDg2My1hYWNiLTU2YmM3Y2E4MWViMCIsInR5cGUiOiJMaW5lYXJTY2FsZSJ9fSwiaWQiOiJhZDk3YWU4OC0zYzg4LTRjYjctYmYxNC02ZjQ0MjkzODE3ZjgiLCJzdWJ0eXBlIjoiRmlndXJlIiwidHlwZSI6IlBsb3QifSx7ImF0dHJpYnV0ZXMiOnsiZmlsbF9hbHBoYSI6eyJ2YWx1ZSI6MC4xfSwiZmlsbF9jb2xvciI6eyJ2YWx1ZSI6IiMzMGEyZGEifSwibGluZV9hbHBoYSI6eyJ2YWx1ZSI6MC4xfSwibGluZV9jb2xvciI6eyJ2YWx1ZSI6IiMzMGEyZGEifSwic2l6ZSI6eyJ1bml0cyI6InNjcmVlbiIsInZhbHVlIjoyLjQ0OTQ4OTc0Mjc4MzE3OH0sIngiOnsiZmllbGQiOiJpbmRleCJ9LCJ5Ijp7ImZpZWxkIjoiZXh0bWFqb3IifX0sImlkIjoiOTBmMGE3OTEtMGE4Mi00YzQzLWJhYmQtNmE0YmIyZTMwYjMyIiwidHlwZSI6IkNpcmNsZSJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiY2U4Mjg1NjAtNGQ2OC00NjI0LWE5N2YtZTJmOGQ4NzAzOTMyIiwidHlwZSI6IlBhblRvb2wifSx7ImF0dHJpYnV0ZXMiOnsiY2FsbGJhY2siOm51bGwsInJlbmRlcmVycyI6W3siaWQiOiJlN2VjNjljNC0yZThjLTQ1NDYtOWM4MS1hYjFjZjdhYWIwOTIiLCJ0eXBlIjoiR2x5cGhSZW5kZXJlciJ9XSwidG9vbHRpcHMiOltbIiIsIjxiPkBsYWJlbDwvYj4iXV19LCJpZCI6IjQ5NmY5ZDRlLTI4ZWQtNGM2My04OTg5LWJmZmYyNmY2NTlkZiIsInR5cGUiOiJIb3ZlclRvb2wifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6IjJiODNkNTQ1LTVkMmYtNDM2OS1iNDFlLWRlOWFjYTVlZDIyYSIsInR5cGUiOiJXaGVlbFpvb21Ub29sIn0seyJhdHRyaWJ1dGVzIjp7Im92ZXJsYXkiOnsiaWQiOiI5NTY1NWFiNS0zN2Q0LTRmZDMtOWU3NS02MmI3ODY0ZGM2OGYiLCJ0eXBlIjoiQm94QW5ub3RhdGlvbiJ9fSwiaWQiOiJmMDEyY2Q0MC1iMmQ2LTQxNGQtYmYzOS02YzdhMDQ0ZjQ3YTQiLCJ0eXBlIjoiQm94Wm9vbVRvb2wifSx7ImF0dHJpYnV0ZXMiOnsicGxvdCI6bnVsbCwidGV4dCI6IkV4dGVyaW9yIGxlbmd0aHMgd2l0aCBNYWN0YXJpcyBoaWdobGlnaHRlZCIsInRleHRfY29sb3IiOnsidmFsdWUiOiJibGFjayJ9LCJ0ZXh0X2ZvbnRfc2l6ZSI6eyJ2YWx1ZSI6IjEycHQifX0sImlkIjoiMzI3NGQxZjItMjUyYS00MmJlLWEwNDUtNWEwMmQyODUxOTg3IiwidHlwZSI6IlRpdGxlIn0seyJhdHRyaWJ1dGVzIjp7ImNhbGxiYWNrIjpudWxsLCJlbmQiOjE4OS4wLCJzdGFydCI6MzkuNn0sImlkIjoiNDNiNGY5NWYtMWYwMS00OGIzLTg4OWUtNTZhYWNiZDFiYjEzIiwidHlwZSI6IlJhbmdlMWQifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6IjQ1NWZjOTM2LTMzODktNDM1MC05OTUzLTYyZjFiMTNlYjQ3NCIsInR5cGUiOiJSZXNldFRvb2wifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6ImRmMjBlOGRmLTY0ZjMtNGU2OC1iYTczLTdmYmM0NjExMWQzMyIsInR5cGUiOiJMaW5lYXJTY2FsZSJ9LHsiYXR0cmlidXRlcyI6eyJjYWxsYmFjayI6bnVsbCwiY29sdW1uX25hbWVzIjpbImluZGV4IiwiZXh0bWFqb3IiLCJsYWJlbCJdLCJkYXRhIjp7ImV4dG1ham9yIjp7Il9fbmRhcnJheV9fIjoiemN6TXpNek1RMEFBQUFBQUFBQkVRTTNNek16TVRFVkFBQUFBQUFBQVNFQUFBQUFBQUFCSlFBQUFBQUFBQUVsQUFBQUFBQUFBU1VBQUFBQUFBQUJLUU0zTXpNek1iRXRBQUFBQUFBQ0FTMEFBQUFBQUFJQkxRQUFBQUFBQUFFeEFBQUFBQUFBQVRFQUFBQUFBQUFCTVFBQUFBQUFBQUV4QUFBQUFBQUFBVEVBQUFBQUFBSUJNUUFBQUFBQUFBRTVBQUFBQUFBQ0FUa0FBQUFBQUFJQk9RSnFabVptWm1VNUFBQUFBQUFDQVQwQ2FtWm1abVpsUFFBQUFBQUFBUUZCQUFBQUFBQUFBVVVBQUFBQUFBQUJSUUFBQUFBQUFRRkZBQUFBQUFBQkFVVUFBQUFBQUFJQlJRQUFBQUFBQWdGRkFBQUFBQUFDQVVVQUFBQUFBQUlCUlFBQUFBQUFBZ0ZGQUFBQUFBQURBVVVBQUFBQUFBQUJTUUFBQUFBQUFBRkpBQUFBQUFBQkFVa0FBQUFBQUFFQlNRT3hSdUI2RmUxSkFBQUFBQUFDQVVrQUFBQUFBQUtCU1FBQUFBQUFBd0ZKQUFBQUFBQURBVWtBQUFBQUFBQUJUUUFBQUFBQUFRRk5BQUFBQUFBQkFVMEF6TXpNek0xTlRRQUFBQUFBQWdGTkFBQUFBQUFDQVUwQUFBQUFBQU1CVFFBQUFBQUFBQUZSQUFBQUFBQUFBVkVBQUFBQUFBQUJVUUFBQUFBQUFBRlJBQUFBQUFBQUFWRUFBQUFBQUFBQlVRQUFBQUFBQUFGUkFBQUFBQUFBQVZFQUFBQUFBQUVCVVFBQUFBQUFBZ0ZSQUFBQUFBQURBVkVBQUFBQUFBTUJVUUFBQUFBQUFBRlZBQUFBQUFBQUFWVUFBQUFBQUFFQlZRQUFBQUFBQVFGVkFBQUFBQUFCQVZVQUFBQUFBQUlCVlFBQUFBQUFBb0ZWQUFBQUFBQUNnVlVBQUFBQUFBTUJWUUFBQUFBQUFBRlpBQUFBQUFBQUFWa0FBQUFBQUFBQldRQUFBQUFBQUFGWkFBQUFBQUFBQVZrQXpNek16TXpOV1FBQUFBQUFBUUZaQUFBQUFBQUNBVmtBQUFBQUFBSUJXUUFBQUFBQUFnRlpBQUFBQUFBQ0FWa0FBQUFBQUFJQldRQUFBQUFBQWdGWkFBQUFBQUFDQVZrQUFBQUFBQUFCWFFETXpNek16TTFkQUFBQUFBQUNBVjBBQUFBQUFBTUJYUUFBQUFBQUF3RmRBQUFBQUFBRGdWMEFBQUFBQUFBQllRQUFBQUFBQUFGaEFBQUFBQUFBQVdFQUFBQUFBQUNCWVFBQUFBQUFBUUZoQUFBQUFBQUNBV0VBQUFBQUFBSUJZUUFBQUFBQUFnRmhBQUFBQUFBQ0FXRUFBQUFBQUFJQllRQUFBQUFBQWdGaEFBQUFBQUFEQVdFQUFBQUFBQU9CWVFBQUFBQUFBQUZsQUFBQUFBQUFBV1VBQUFBQUFBQUJaUUFBQUFBQUFRRmxBbXBtWm1abDVXVUFBQUFBQUFJQlpRQUFBQUFBQW9GbEFBQUFBQUFEQVdVQUFBQUFBQUFCYVFHWm1abVptSmxwQUFBQUFBQUJBV2tBQUFBQUFBTUJhUUFBQUFBQUFBRnRBQUFBQUFBQUFXMEFBQUFBQUFBQmJRQUFBQUFBQUFGdEFBQUFBQUFCQVcwQ2FtWm1abVZsYlFBQUFBQUFBZ0Z0QUFBQUFBQURBVzBBQUFBQUFBTUJiUUFBQUFBQUFBRnhBQUFBQUFBQUFYRUROek16TXpHeGNRQUFBQUFBQWdGeEFBQUFBQUFEQVhFQUFBQUFBQU1CY1FBQUFBQUFBd0Z4QUFBQUFBQUFnWFVDdVIrRjZGRzVkUUFBQUFBQUFnRjFBQUFBQUFBQ0FYVUFBQUFBQUFBQmVRQUFBQUFBQUFGNUFBQUFBQUFBQVhrQUFBQUFBQUVCZVFHWm1abVptWmw1QUFBQUFBQUFBWDBBQUFBQUFBQUJmUUFBQUFBQUFNRjlBQUFBQUFBQkFYMEFBQUFBQUFJQmZRSnFabVptWm1WOUFNek16TXpPelgwQUFBQUFBQUNCZ1FBQUFBQUFBUUdCQUFBQUFBQUJnWUVBQUFBQUFBR0JnUUpxWm1abVppV0JBemN6TXpNeU1ZRUJtWm1abVpvNWdRTTNNek16TXJHQkFBQUFBQUFEQVlFQUFBQUFBQU9CZ1FBQUFBQUFBQUdGQVptWm1abVlHWVVBQUFBQUFBRUJoUUFBQUFBQUF3R0ZBQUFBQUFBRGdZVUFBQUFBQUFDQmlRSnFabVptWldXSkFBQUFBQUFDQVlrQUFBQUFBQUlCaVFBQUFBQUFBZ0dKQUFBQUFBQUNnWWtBQUFBQUFBTUJpUUFBQUFBQUF3R0pBOWloY2o4SU5ZMEFBQUFBQUFFQmpRQUFBQUFBQVlHTkFBQUFBQUFDQVkwQUFBQUFBQUFCa1FBQUFBQUFBb0dSQUFBQUFBQUJnWmtBQUFBQUFBS0JuUUE9PSIsImR0eXBlIjoiZmxvYXQ2NCIsInNoYXBlIjpbMTc5XX0sImluZGV4IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MSw5Miw5Myw5NCw5NSw5Niw5Nyw5OCw5OSwxMDAsMTAxLDEwMiwxMDMsMTA0LDEwNSwxMDYsMTA3LDEwOCwxMDksMTEwLDExMSwxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDEyMywxMjQsMTI1LDEyNiwxMjcsMTI4LDEyOSwxMzAsMTMxLDEzMiwxMzMsMTM0LDEzNSwxMzYsMTM3LDEzOCwxMzksMTQwLDE0MSwxNDIsMTQzLDE0NCwxNDUsMTQ2LDE0NywxNDgsMTQ5LDE1MCwxNTEsMTUyLDE1MywxNTQsMTU1LDE1NiwxNTcsMTU4LDE1OSwxNjAsMTYxLDE2MiwxNjMsMTY0LDE2NSwxNjYsMTY3LDE2OCwxNjksMTcwLDE3MSwxNzIsMTczLDE3NCwxNzUsMTc2LDE3NywxNzhdLCJsYWJlbCI6WyJBbGVyaWEiLCJaYWdhcm9sbyIsIkJlcm4iLCJSb3NlbGxlIiwiRHVyYSIsIkNoYXJ0ZXJob3VzZSIsIlRoYXJyb3MiLCJUb21lbiB5IE11ciIsIlZlbGxlaWEiLCJDaW1pZXoiLCJIZW5jaGlyIERvdWFtYSIsIk1pY2lhIiwiQWluIFRvdW5nYSIsIkRyZXZhbnQiLCJUaWdhdmEgQ2FzdHJhIiwiU2lkaSBib3UgQXJrb3ViIiwiQWluIEhlZGphaCIsIlN1c2EiLCJDaGVtdG91IiwiR2VuemFubyIsIlRoaWJhcmkiLCJDYWVyd2VudCIsIk1hY3RhcmlzIiwiQXVyZWxpdW0gQ29tbW9kaWFudW0iLCJEamVyYmEiLCJGZXJlbnRvIiwiVWxpc2lwcGlyYSIsIkNhcnRoYWdvIE5vdmEiLCJNYXJjaWFub3BvbGlzIiwiQXF1YWUgTmVyaSIsIkNoaWNoZXN0ZXIiLCJNZWdpZGRvIiwiTmV3c3RlYWQiLCJFbGV1dGhlcm9wb2xpcyIsIkdlbWVsbGFlIiwiU2JlaXRsYSIsIlR1c2N1bHVtIiwiQ2l2aWRhdGUgQ2FtdW5vIiwiVGVyYW1vIiwiVGh1YnVyYm8gTWFpdXMiLCJPcmRvbmEiLCJCdWxsYSBSZWdpYSIsIlNlZ29icmlnYSIsIlNlcmVzc2kiLCJTdXRyaXVtIiwiVGlwYXNhIiwiU2tpa2RhIiwiTGlsbGVib25uZSIsIkZyb3Npbm9uZSIsIlBhZXN0dW0iLCJTaW51ZXNzYSIsIk1hdW1idXJ5IiwiVm9sdGVycmEiLCJCZWthbHRhIiwiU2lsY2hlc3RlciIsIkJ1cm51bSIsIkJldmFnbmEiLCJDYWVybGVvbiIsIkxlcHRpbWludXMiLCJTcGVsbG8iLCJSdWdnZSIsIlRlYmVzc2EiLCJDYXNzaW5vIiwiUG9yb2xpc3N1bSIsIkdvcnR5biIsIlZpbWluYWNpdW0iLCJUaWJ1ciIsIkVtcHVyaWVzIiwiQXF1aW5jdW0gKENpdmlsaWFuKSIsIkNhcnN1bGFlIiwiTHVuYSIsIlNhcm1pemVnZXR1c2EiLCJGYWxlcmlpIE5vdmkiLCJBbXBoLiBDYXN0cmVuc2UiLCJSb2NjZWxsZXR0YSBkaSBCb3JnaWEiLCJMaWJhcm5hIiwiRmFsZXJvbmUiLCJQdG9sZW1haXMiLCJTYW4gVml0dG9yaW5vIiwiVGhhZW5hZSIsIlNlbmxpcyIsIlRvZGkiLCJBY2hvbGxhIiwiR3J1bWVudG8iLCJDYXRpbmlhIiwiVGh5c2RydXMgKFNtLikiLCJDYWdsaWFyaSIsIkNvbmltYnJpZ2EiLCJUZXJuaSIsIlRhcnJhZ29uYSIsIkNoZXN0ZXIiLCJWaXJ1bnVtIiwiVXRoaW5hIiwiSXZyZWEiLCJYYW50ZW4iLCJGbGF2aWEgU29sdmEiLCJUZXJtaW5pIiwiVXJicyBTYWx2aWEiLCJWZW5vc2EiLCJMYXJpbiIsIkJhcmFydXMiLCJDb3JpbnRoIiwiU3Vhc2EiLCJDYXJudW50dW0gKE1pbC4pIiwiTG9uZG9uIiwiU2ljY2EgVmVuZXJpYSIsIlRyaWVyIiwiU2FuIEJlbmVkZXR0byIsIkxlY2NlIiwiQXVnc3QiLCJQYWR1YSIsIkFsYmEgRnVjZW5zIiwiQXVndXN0YSBCYWdpZW5ub3J1bSIsIkxhbWJhZXNpcyIsIkx5b24iLCJBbGxpZmFlIiwiQWJlbGxhIiwiQm91cmdlcyIsIkltb2xhIiwiUG9pdGllcnMiLCJBbmF6YXJidXMiLCJBcmV6em8iLCJCZXNhblx1MDBlN29uIiwiVG91bG91c2UiLCJBbmNvbmEiLCJUZWxlc2lhIiwiVmluZG9uaXNzYSIsIkZyXHUwMGU5anVzIiwiQ3VtYWUiLCJBcXVpbm8iLCJTcG9sZXRvIiwiU2FicmF0aGEiLCJBbGJhbmEiLCJSaW1pbmkiLCJPY3RvZG9ydXMiLCJVdGljYSIsIk9jcmljdWxjdW0iLCJQb2xsZW56byIsIkNhcnRoYWdlIiwiTGVwdGlzIE1hZ25hIiwiTmFyYm9ubmUiLCJGbG9yZW5jZSIsIkx1Y2NhIiwiU2Fsb25hIiwiTm9jZXJhIiwiTVx1MDBlOXJpZGEiLCJTYWludGVzIiwiTHVjZXJhIiwiQ2FybnVudHVtIChDaXYuKSIsIk1pbnR1cm5vIiwiQXF1aW5jdW0gKE1pbGl0YXJ5KSIsIlBcdTAwZTlyaWd1ZXV4IiwiQm9yZGVhdXgiLCJEdXJyXHUwMGVicyIsIlB1bGEiLCJOaW1lcyIsIkNhZXNhcmVhIiwiUG9tcGVpaSIsIkFybGVzIiwiQmVyZ2FtYSIsIkNhbm9zYSIsIkFxdWlsZWlhIiwiQWx0aW51bSIsIkNoZXJjaGVsIiwiU3lyYWN1c2UiLCJUaHlzZHJ1cyAobGcuKSIsIkFzY29saSIsIk1ldHoiLCJQb3p6dW9saSAoRmxhdmlhbikiLCJBb3N0YSIsIkN5emljdXMiLCJWZXJvbmEiLCJBdXR1biIsIk1pbGFuIiwiVG91cnMiLCJJdGFsaWNhIiwiQ2FwdWEgSUkiLCJHcmFuZCIsIkNvbG9zc2V1bSJdfSwic2VsZWN0ZWQiOm51bGwsInNlbGVjdGlvbl9wb2xpY3kiOm51bGx9LCJpZCI6IjQyZjU2YWJhLWVkMjktNGVkNC1hMjAwLTY3MDY1YTcwOGI1YiIsInR5cGUiOiJDb2x1bW5EYXRhU291cmNlIn0seyJhdHRyaWJ1dGVzIjp7ImFjdGl2ZV9kcmFnIjoiYXV0byIsImFjdGl2ZV9pbnNwZWN0IjoiYXV0byIsImFjdGl2ZV9zY3JvbGwiOiJhdXRvIiwiYWN0aXZlX3RhcCI6ImF1dG8iLCJ0b29scyI6W3siaWQiOiI0OTZmOWQ0ZS0yOGVkLTRjNjMtODk4OS1iZmZmMjZmNjU5ZGYiLCJ0eXBlIjoiSG92ZXJUb29sIn0seyJpZCI6ImJlMjAxNTAwLWJlM2QtNGYwZS05ZTAxLWM4NDg3M2NmMzRkNyIsInR5cGUiOiJTYXZlVG9vbCJ9LHsiaWQiOiJjZTgyODU2MC00ZDY4LTQ2MjQtYTk3Zi1lMmY4ZDg3MDM5MzIiLCJ0eXBlIjoiUGFuVG9vbCJ9LHsiaWQiOiIyYjgzZDU0NS01ZDJmLTQzNjktYjQxZS1kZTlhY2E1ZWQyMmEiLCJ0eXBlIjoiV2hlZWxab29tVG9vbCJ9LHsiaWQiOiJmMDEyY2Q0MC1iMmQ2LTQxNGQtYmYzOS02YzdhMDQ0ZjQ3YTQiLCJ0eXBlIjoiQm94Wm9vbVRvb2wifSx7ImlkIjoiNDU1ZmM5MzYtMzM4OS00MzUwLTk5NTMtNjJmMWIxM2ViNDc0IiwidHlwZSI6IlJlc2V0VG9vbCJ9XX0sImlkIjoiMGM0YTg5MjQtNDZiOS00NmI0LWI1ZDktMzk0NTNjZGI2NGE4IiwidHlwZSI6IlRvb2xiYXIifSx7ImF0dHJpYnV0ZXMiOnsiZmlsbF9hbHBoYSI6eyJ2YWx1ZSI6MC4yfSwiZmlsbF9jb2xvciI6eyJ2YWx1ZSI6IiMzMGEyZGEifSwibGluZV9hbHBoYSI6eyJ2YWx1ZSI6MC4yfSwibGluZV9jb2xvciI6eyJ2YWx1ZSI6IiMzMGEyZGEifSwic2l6ZSI6eyJ1bml0cyI6InNjcmVlbiIsInZhbHVlIjoyLjQ0OTQ4OTc0Mjc4MzE3OH0sIngiOnsiZmllbGQiOiJpbmRleCJ9LCJ5Ijp7ImZpZWxkIjoiZXh0bWFqb3IifX0sImlkIjoiOWZiNWQ1MTUtZGE5Ni00NmEzLWJhZjYtNTY2ODFhZjA4NmVhIiwidHlwZSI6IkNpcmNsZSJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiOTI3ODQ2M2EtMDgyNC00MjY2LTlkYmUtNWEwMWRhY2JkODQyIiwidHlwZSI6IkJhc2ljVGlja0Zvcm1hdHRlciJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiNWZmNWUxZWQtZDg1Yi00ZTE3LWIyZjItNmU0MjAwYjFkOTVlIiwidHlwZSI6IkJhc2ljVGlja0Zvcm1hdHRlciJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiZjdiZTcxMTUtZTlkZS00ODYzLWFhY2ItNTZiYzdjYTgxZWIwIiwidHlwZSI6IkxpbmVhclNjYWxlIn0seyJhdHRyaWJ1dGVzIjp7ImRhdGFfc291cmNlIjp7ImlkIjoiNDJmNTZhYmEtZWQyOS00ZWQ0LWEyMDAtNjcwNjVhNzA4YjViIiwidHlwZSI6IkNvbHVtbkRhdGFTb3VyY2UifSwiZ2x5cGgiOnsiaWQiOiIzNjYzZTY2YS1iNTM4LTRiMWEtYmYwMy04ZmVmN2MwZTBjOTIiLCJ0eXBlIjoiQ2lyY2xlIn0sImhvdmVyX2dseXBoIjpudWxsLCJtdXRlZF9nbHlwaCI6eyJpZCI6IjlmYjVkNTE1LWRhOTYtNDZhMy1iYWY2LTU2NjgxYWYwODZlYSIsInR5cGUiOiJDaXJjbGUifSwibm9uc2VsZWN0aW9uX2dseXBoIjp7ImlkIjoiOTBmMGE3OTEtMGE4Mi00YzQzLWJhYmQtNmE0YmIyZTMwYjMyIiwidHlwZSI6IkNpcmNsZSJ9LCJzZWxlY3Rpb25fZ2x5cGgiOm51bGwsInZpZXciOnsiaWQiOiJiODQyNDRlOS03NjVlLTRjMDQtYTAxMS02MThhOGRmN2I1NDMiLCJ0eXBlIjoiQ0RTVmlldyJ9fSwiaWQiOiJlN2VjNjljNC0yZThjLTQ1NDYtOWM4MS1hYjFjZjdhYWIwOTIiLCJ0eXBlIjoiR2x5cGhSZW5kZXJlciJ9LHsiYXR0cmlidXRlcyI6eyJncmlkX2xpbmVfY29sb3IiOnsidmFsdWUiOm51bGx9LCJwbG90Ijp7ImlkIjoiYWQ5N2FlODgtM2M4OC00Y2I3LWJmMTQtNmY0NDI5MzgxN2Y4Iiwic3VidHlwZSI6IkZpZ3VyZSIsInR5cGUiOiJQbG90In0sInRpY2tlciI6eyJpZCI6IjZkMWZiNjI3LTM4YWMtNDZmNi1hZjQ2LTIyYzBlMjg4YTdlNCIsInR5cGUiOiJCYXNpY1RpY2tlciJ9fSwiaWQiOiJmOGRkNzlkMC1jNjljLTRhMDQtYjM4NC05ZWZjNzBjZGIwMjQiLCJ0eXBlIjoiR3JpZCJ9XSwicm9vdF9pZHMiOlsiYWQ5N2FlODgtM2M4OC00Y2I3LWJmMTQtNmY0NDI5MzgxN2Y4Il19LCJ0aXRsZSI6IkJva2VoIEFwcGxpY2F0aW9uIiwidmVyc2lvbiI6IjAuMTIuMTUifX07CiAgdmFyIHJlbmRlcl9pdGVtcyA9IFt7ImRvY2lkIjoiZGU0YTdmNGEtNWM3Yi00NWJlLWEzNDAtNDg4ZDA0ZWZkYTY4IiwiZWxlbWVudGlkIjoiOTUyZDNhMDQtZDc2NS00YmZjLTkyNGItMGZjYjEzOTdmMjE1IiwibW9kZWxpZCI6ImFkOTdhZTg4LTNjODgtNGNiNy1iZjE0LTZmNDQyOTM4MTdmOCJ9XTsKICByb290LkJva2VoLmVtYmVkLmVtYmVkX2l0ZW1zX25vdGVib29rKGRvY3NfanNvbiwgcmVuZGVyX2l0ZW1zKTsKCiAgfQogIGlmIChyb290LkJva2VoICE9PSB1bmRlZmluZWQpIHsKICAgIGVtYmVkX2RvY3VtZW50KHJvb3QpOwogIH0gZWxzZSB7CiAgICB2YXIgYXR0ZW1wdHMgPSAwOwogICAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24ocm9vdCkgewogICAgICBpZiAocm9vdC5Cb2tlaCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgZW1iZWRfZG9jdW1lbnQocm9vdCk7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgIH0KICAgICAgYXR0ZW1wdHMrKzsKICAgICAgaWYgKGF0dGVtcHRzID4gMTAwKSB7CiAgICAgICAgY29uc29sZS5sb2coIkJva2VoOiBFUlJPUjogVW5hYmxlIHRvIHJ1biBCb2tlaEpTIGNvZGUgYmVjYXVzZSBCb2tlaEpTIGxpYnJhcnkgaXMgbWlzc2luZyIpCiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgIH0KICAgIH0sIDEwLCByb290KQogIH0KfSkod2luZG93KTsKPC9zY3JpcHQ+CjwvZGl2Pg==" width="450" style="border:none !important;" height="300"></iframe>')[0];
                popup_9b3026f939fa49308576bda0fa1e125c.setContent(i_frame_094d238660534b0e823a71ecbf4db737);
            

            circle_marker_6b903f1979f5414cabb6ab7f0e23b95f.bindPopup(popup_9b3026f939fa49308576bda0fa1e125c);

            
        
    
            var circle_marker_cf6df0383e894bd2a253c2496b8a84af = L.circleMarker(
                [46.975715,7.451179],
                {
  "bubblingMouseEvents": true,
  "color": "red",
  "dashArray": null,
  "dashOffset": null,
  "fill": true,
  "fillColor": "red",
  "fillOpacity": 0.2,
  "fillRule": "evenodd",
  "lineCap": "round",
  "lineJoin": "round",
  "opacity": 1.0,
  "radius": 5,
  "stroke": true,
  "weight": 3
}
                ).addTo(map_69ad4b6db8094a879ee84b263615b2cf);
            
    
            var popup_ebd151e9236640e98d1ac1f8d161faf2 = L.popup({maxWidth: '2650'});

            
                var i_frame_2e1e33a1e4074fbb9494546f9a220ff0 = $('<iframe src="data:text/html;charset=utf-8;base64,CiAgICAKPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC13aWRnZXRzLTAuMTIuMTUubWluLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4ucHlkYXRhLm9yZy9ib2tlaC9yZWxlYXNlL2Jva2VoLXRhYmxlcy0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC1nbC0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuNC5taW4uanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+CjxzY3JpcHQgc3JjPSJodHRwczovL2NvZGUuanF1ZXJ5LmNvbS91aS8xLjEwLjQvanF1ZXJ5LXVpLm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3JlcXVpcmUuanMvMi4xLjIwL3JlcXVpcmUubWluLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvdW5kZXJzY29yZS5qcy8xLjguMy91bmRlcnNjb3JlLW1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPmZ1bmN0aW9uIEhvbG9WaWV3c1dpZGdldCgpIHsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5pbml0X3NsaWRlciA9IGZ1bmN0aW9uKGluaXRfdmFsKXsKICBpZih0aGlzLmxvYWRfanNvbikgewogICAgdGhpcy5mcm9tX2pzb24oKQogIH0gZWxzZSB7CiAgICB0aGlzLnVwZGF0ZV9jYWNoZSgpOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5wb3B1bGF0ZV9jYWNoZSA9IGZ1bmN0aW9uKGlkeCl7CiAgdGhpcy5jYWNoZVtpZHhdLmlubmVySFRNTCA9IHRoaXMuZnJhbWVzW2lkeF07CiAgaWYgKHRoaXMuZW1iZWQpIHsKICAgIGRlbGV0ZSB0aGlzLmZyYW1lc1tpZHhdOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5wcm9jZXNzX2Vycm9yID0gZnVuY3Rpb24obXNnKXsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5mcm9tX2pzb24gPSBmdW5jdGlvbigpIHsKICB2YXIgZGF0YV91cmwgPSB0aGlzLmpzb25fcGF0aCArIHRoaXMuaWQgKyAnLmpzb24nOwogICQuZ2V0SlNPTihkYXRhX3VybCwgJC5wcm94eShmdW5jdGlvbihqc29uX2RhdGEpIHsKICAgIHRoaXMuZnJhbWVzID0ganNvbl9kYXRhOwogICAgdGhpcy51cGRhdGVfY2FjaGUoKTsKICAgIHRoaXMudXBkYXRlKDApOwogIH0sIHRoaXMpKTsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5keW5hbWljX3VwZGF0ZSA9IGZ1bmN0aW9uKGN1cnJlbnQpewogIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHsKICAgIHJldHVybgogIH0KICB0aGlzLmN1cnJlbnQgPSBjdXJyZW50OwogIGlmICh0aGlzLmNvbW0pIHsKICAgIHZhciBtc2cgPSB7Y29tbV9pZDogdGhpcy5pZCsnX2NsaWVudCcsIGNvbnRlbnQ6IGN1cnJlbnR9CiAgICB0aGlzLmNvbW0uc2VuZChtc2cpOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS51cGRhdGVfY2FjaGUgPSBmdW5jdGlvbihmb3JjZSl7CiAgdmFyIGZyYW1lX2xlbiA9IE9iamVjdC5rZXlzKHRoaXMuZnJhbWVzKS5sZW5ndGg7CiAgZm9yICh2YXIgaT0wOyBpPGZyYW1lX2xlbjsgaSsrKSB7CiAgICBpZighdGhpcy5sb2FkX2pzb24gfHwgdGhpcy5keW5hbWljKSAgewogICAgICB2YXIgZnJhbWUgPSBPYmplY3Qua2V5cyh0aGlzLmZyYW1lcylbaV07CiAgICB9IGVsc2UgewogICAgICB2YXIgZnJhbWUgPSBpOwogICAgfQogICAgaWYoIShmcmFtZSBpbiB0aGlzLmNhY2hlKSB8fCBmb3JjZSkgewogICAgICBpZiAoKGZyYW1lIGluIHRoaXMuY2FjaGUpICYmIGZvcmNlKSB7IHRoaXMuY2FjaGVbZnJhbWVdLnJlbW92ZSgpIH0KICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB2YXIgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIl9hbmltX2ltZyIrdGhpcy5pZCk7CiAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZGl2KQogICAgICB0aGlzLmNhY2hlW2ZyYW1lXSA9IGRpdjsKICAgICAgdmFyIGNhY2hlX2lkID0gIl9hbmltX2ltZyIrdGhpcy5pZCsiXyIrZnJhbWU7CiAgICAgIHRoaXMucG9wdWxhdGVfY2FjaGUoZnJhbWUpOwogICAgfQogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjdXJyZW50KXsKICBpZihjdXJyZW50IGluIHRoaXMuY2FjaGUpIHsKICAgIGZvciAodmFyIGluZGV4IGluIHRoaXMuY2FjaGUpIHsKICAgICAgdGhpcy5jYWNoZVtpbmRleF0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0KICAgIHRoaXMuY2FjaGVbY3VycmVudF0uc3R5bGUuZGlzcGxheSA9ICIiOwogICAgdGhpcy53YWl0ID0gZmFsc2U7CiAgfQp9CgpIb2xvVmlld3NXaWRnZXQucHJvdG90eXBlLmluaXRfY29tbXMgPSBmdW5jdGlvbigpIHsKICB2YXIgdGhhdCA9IHRoaXMKICBIb2xvVmlld3MuY29tbV9tYW5hZ2VyLnJlZ2lzdGVyX3RhcmdldCh0aGlzLnBsb3RfaWQsIHRoaXMuaWQsIGZ1bmN0aW9uIChtc2cpIHsgdGhhdC5wcm9jZXNzX21zZyhtc2cpIH0pCiAgaWYgKCF0aGlzLmNhY2hlZCB8fCB0aGlzLmR5bmFtaWMpIHsKICAgIGZ1bmN0aW9uIGFja19jYWxsYmFjayhtc2cpIHsKICAgICAgbXNnID0gSlNPTi5wYXJzZShtc2cuY29udGVudC5kYXRhKTsKICAgICAgdmFyIGNvbW1faWQgPSBtc2dbImNvbW1faWQiXQogICAgICB2YXIgY29tbV9zdGF0dXMgPSBIb2xvVmlld3MuY29tbV9zdGF0dXNbY29tbV9pZF07CiAgICAgIGlmICh0aGF0LnF1ZXVlLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGF0LnRpbWUgPSBEYXRlLm5vdygpOwogICAgICAgIHRoYXQuZHluYW1pY191cGRhdGUodGhhdC5xdWV1ZVt0aGF0LnF1ZXVlLmxlbmd0aC0xXSk7CiAgICAgICAgdGhhdC5xdWV1ZSA9IFtdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoYXQud2FpdCA9IGZhbHNlOwogICAgICB9CiAgICAgIGlmICgobXNnLm1zZ190eXBlID09ICJSZWFkeSIpICYmIG1zZy5jb250ZW50KSB7CiAgICAgICAgY29uc29sZS5sb2coIlB5dGhvbiBjYWxsYmFjayByZXR1cm5lZCBmb2xsb3dpbmcgb3V0cHV0OiIsIG1zZy5jb250ZW50KTsKICAgICAgfSBlbHNlIGlmIChtc2cubXNnX3R5cGUgPT0gIkVycm9yIikgewogICAgICAgIGNvbnNvbGUubG9nKCJQeXRob24gZmFpbGVkIHdpdGggdGhlIGZvbGxvd2luZyB0cmFjZWJhY2s6IiwgbXNnWyd0cmFjZWJhY2snXSkKICAgICAgfQogICAgfQogICAgdmFyIGNvbW0gPSBIb2xvVmlld3MuY29tbV9tYW5hZ2VyLmdldF9jbGllbnRfY29tbSh0aGlzLnBsb3RfaWQsIHRoaXMuaWQrJ19jbGllbnQnLCBhY2tfY2FsbGJhY2spOwogICAgcmV0dXJuIGNvbW0KICB9Cn0KCkhvbG9WaWV3c1dpZGdldC5wcm90b3R5cGUucHJvY2Vzc19tc2cgPSBmdW5jdGlvbihtc2cpIHsKfQoKZnVuY3Rpb24gU2VsZWN0aW9uV2lkZ2V0KGZyYW1lcywgaWQsIHNsaWRlcl9pZHMsIGtleU1hcCwgZGltX3ZhbHMsIG5vdEZvdW5kLCBsb2FkX2pzb24sIG1vZGUsIGNhY2hlZCwganNvbl9wYXRoLCBkeW5hbWljLCBwbG90X2lkKXsKICB0aGlzLmZyYW1lcyA9IGZyYW1lczsKICB0aGlzLmlkID0gaWQ7CiAgdGhpcy5wbG90X2lkID0gcGxvdF9pZDsKICB0aGlzLnNsaWRlcl9pZHMgPSBzbGlkZXJfaWRzOwogIHRoaXMua2V5TWFwID0ga2V5TWFwCiAgdGhpcy5jdXJyZW50X2ZyYW1lID0gMDsKICB0aGlzLmN1cnJlbnRfdmFscyA9IGRpbV92YWxzOwogIHRoaXMubG9hZF9qc29uID0gbG9hZF9qc29uOwogIHRoaXMubW9kZSA9IG1vZGU7CiAgdGhpcy5ub3RGb3VuZCA9IG5vdEZvdW5kOwogIHRoaXMuY2FjaGVkID0gY2FjaGVkOwogIHRoaXMuZHluYW1pYyA9IGR5bmFtaWM7CiAgdGhpcy5jYWNoZSA9IHt9OwogIHRoaXMuanNvbl9wYXRoID0ganNvbl9wYXRoOwogIHRoaXMuaW5pdF9zbGlkZXIodGhpcy5jdXJyZW50X3ZhbHNbMF0pOwogIHRoaXMucXVldWUgPSBbXTsKICB0aGlzLndhaXQgPSBmYWxzZTsKICBpZiAoIXRoaXMuY2FjaGVkIHx8IHRoaXMuZHluYW1pYykgewogICAgdGhpcy5jb21tID0gdGhpcy5pbml0X2NvbW1zKCk7CiAgfQp9CgpTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlID0gbmV3IEhvbG9WaWV3c1dpZGdldDsKCgpTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlLmdldF9rZXkgPSBmdW5jdGlvbihjdXJyZW50X3ZhbHMpIHsKICB2YXIga2V5ID0gIigiOwogIGZvciAodmFyIGk9MDsgaTx0aGlzLnNsaWRlcl9pZHMubGVuZ3RoOyBpKyspCiAgewogICAgdmFyIHZhbCA9IHRoaXMuY3VycmVudF92YWxzW2ldOwogICAgaWYgKCEodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpKSB7CiAgICAgIGlmICh2YWwgJSAxID09PSAwKSB7IHZhbCA9IHZhbC50b0ZpeGVkKDEpOyB9CiAgICAgIGVsc2UgeyB2YWwgPSB2YWwudG9GaXhlZCgxMCk7IHZhbCA9IHZhbC5zbGljZSgwLCB2YWwubGVuZ3RoLTEpO30KICAgIH0KICAgIGtleSArPSAiJyIgKyB2YWwgKyAiJyI7CiAgICBpZihpICE9IHRoaXMuc2xpZGVyX2lkcy5sZW5ndGgtMSkgeyBrZXkgKz0gJywgJzt9CiAgICBlbHNlIGlmKHRoaXMuc2xpZGVyX2lkcy5sZW5ndGggPT0gMSkgeyBrZXkgKz0gJywnO30KICB9CiAga2V5ICs9ICIpIjsKICByZXR1cm4gdGhpcy5rZXlNYXBba2V5XTsKfQoKU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZS5zZXRfZnJhbWUgPSBmdW5jdGlvbihkaW1fdmFsLCBkaW1faWR4KXsKICB0aGlzLmN1cnJlbnRfdmFsc1tkaW1faWR4XSA9IGRpbV92YWw7CiAgdmFyIGtleSA9IHRoaXMuY3VycmVudF92YWxzOwogIGlmICghdGhpcy5keW5hbWljKSB7CiAgICBrZXkgPSB0aGlzLmdldF9rZXkoa2V5KQogIH0KICBpZiAodGhpcy5keW5hbWljIHx8ICF0aGlzLmNhY2hlZCkgewogICAgaWYgKCh0aGlzLnRpbWUgIT09IHVuZGVmaW5lZCkgJiYgKCh0aGlzLndhaXQpICYmICgodGhpcy50aW1lICsgMTAwMDApID4gRGF0ZS5ub3coKSkpKSB7CiAgICAgIHRoaXMucXVldWUucHVzaChrZXkpOwogICAgICByZXR1cm4KICAgIH0KICAgIHRoaXMucXVldWUgPSBbXTsKICAgIHRoaXMudGltZSA9IERhdGUubm93KCk7CiAgICB0aGlzLmN1cnJlbnRfZnJhbWUgPSBrZXk7CiAgICB0aGlzLndhaXQgPSB0cnVlOwogICAgdGhpcy5keW5hbWljX3VwZGF0ZShrZXkpCiAgfSBlbHNlIGlmIChrZXkgIT09IHVuZGVmaW5lZCkgewogICAgdGhpcy51cGRhdGUoa2V5KQogIH0KfQoKCi8qIERlZmluZSB0aGUgU2NydWJiZXJXaWRnZXQgY2xhc3MgKi8KZnVuY3Rpb24gU2NydWJiZXJXaWRnZXQoZnJhbWVzLCBudW1fZnJhbWVzLCBpZCwgaW50ZXJ2YWwsIGxvYWRfanNvbiwgbW9kZSwgY2FjaGVkLCBqc29uX3BhdGgsIGR5bmFtaWMsIHBsb3RfaWQpewogIHRoaXMuc2xpZGVyX2lkID0gIl9hbmltX3NsaWRlciIgKyBpZDsKICB0aGlzLmxvb3Bfc2VsZWN0X2lkID0gIl9hbmltX2xvb3Bfc2VsZWN0IiArIGlkOwogIHRoaXMuaWQgPSBpZDsKICB0aGlzLnBsb3RfaWQgPSBwbG90X2lkOwogIHRoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbDsKICB0aGlzLmN1cnJlbnRfZnJhbWUgPSAwOwogIHRoaXMuZGlyZWN0aW9uID0gMDsKICB0aGlzLmR5bmFtaWMgPSBkeW5hbWljOwogIHRoaXMudGltZXIgPSBudWxsOwogIHRoaXMubG9hZF9qc29uID0gbG9hZF9qc29uOwogIHRoaXMubW9kZSA9IG1vZGU7CiAgdGhpcy5jYWNoZWQgPSBjYWNoZWQ7CiAgdGhpcy5mcmFtZXMgPSBmcmFtZXM7CiAgdGhpcy5jYWNoZSA9IHt9OwogIHRoaXMubGVuZ3RoID0gbnVtX2ZyYW1lczsKICB0aGlzLmpzb25fcGF0aCA9IGpzb25fcGF0aDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNsaWRlcl9pZCkubWF4ID0gdGhpcy5sZW5ndGggLSAxOwogIHRoaXMuaW5pdF9zbGlkZXIoMCk7CiAgdGhpcy53YWl0ID0gZmFsc2U7CiAgdGhpcy5xdWV1ZSA9IFtdOwogIGlmICghdGhpcy5jYWNoZWQgfHwgdGhpcy5keW5hbWljKSB7CiAgICB0aGlzLmNvbW0gPSB0aGlzLmluaXRfY29tbXMoKQogIH0KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlID0gbmV3IEhvbG9WaWV3c1dpZGdldDsKClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5zZXRfZnJhbWUgPSBmdW5jdGlvbihmcmFtZSl7CiAgdGhpcy5jdXJyZW50X2ZyYW1lID0gZnJhbWU7CiAgdmFyIHdpZGdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2xpZGVyX2lkKTsKICBpZiAod2lkZ2V0ID09PSBudWxsKSB7CiAgICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogICAgcmV0dXJuCiAgfQogIHdpZGdldC52YWx1ZSA9IHRoaXMuY3VycmVudF9mcmFtZTsKICBpZih0aGlzLmNhY2hlZCkgewogICAgdGhpcy51cGRhdGUoZnJhbWUpCiAgfSBlbHNlIHsKICAgIHRoaXMuZHluYW1pY191cGRhdGUoZnJhbWUpCiAgfQp9CgoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmdldF9sb29wX3N0YXRlID0gZnVuY3Rpb24oKXsKICB2YXIgYnV0dG9uX2dyb3VwID0gZG9jdW1lbnRbdGhpcy5sb29wX3NlbGVjdF9pZF0uc3RhdGU7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25fZ3JvdXAubGVuZ3RoOyBpKyspIHsKICAgIHZhciBidXR0b24gPSBidXR0b25fZ3JvdXBbaV07CiAgICBpZiAoYnV0dG9uLmNoZWNrZWQpIHsKICAgICAgcmV0dXJuIGJ1dHRvbi52YWx1ZTsKICAgIH0KICB9CiAgcmV0dXJuIHVuZGVmaW5lZDsKfQoKClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5uZXh0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUoTWF0aC5taW4odGhpcy5sZW5ndGggLSAxLCB0aGlzLmN1cnJlbnRfZnJhbWUgKyAxKSk7Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5wcmV2aW91c19mcmFtZSA9IGZ1bmN0aW9uKCkgewogIHRoaXMuc2V0X2ZyYW1lKE1hdGgubWF4KDAsIHRoaXMuY3VycmVudF9mcmFtZSAtIDEpKTsKfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmZpcnN0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUoMCk7Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5sYXN0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUodGhpcy5sZW5ndGggLSAxKTsKfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLnNsb3dlciA9IGZ1bmN0aW9uKCkgewogIHRoaXMuaW50ZXJ2YWwgLz0gMC43OwogIGlmKHRoaXMuZGlyZWN0aW9uID4gMCl7dGhpcy5wbGF5X2FuaW1hdGlvbigpO30KICBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uIDwgMCl7dGhpcy5yZXZlcnNlX2FuaW1hdGlvbigpO30KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmZhc3RlciA9IGZ1bmN0aW9uKCkgewogIHRoaXMuaW50ZXJ2YWwgKj0gMC43OwogIGlmKHRoaXMuZGlyZWN0aW9uID4gMCl7dGhpcy5wbGF5X2FuaW1hdGlvbigpO30KICBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uIDwgMCl7dGhpcy5yZXZlcnNlX2FuaW1hdGlvbigpO30KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmFuaW1fc3RlcF9mb3J3YXJkID0gZnVuY3Rpb24oKSB7CiAgaWYodGhpcy5jdXJyZW50X2ZyYW1lIDwgdGhpcy5sZW5ndGggLSAxKXsKICAgIHRoaXMubmV4dF9mcmFtZSgpOwogIH1lbHNlewogICAgdmFyIGxvb3Bfc3RhdGUgPSB0aGlzLmdldF9sb29wX3N0YXRlKCk7CiAgICBpZihsb29wX3N0YXRlID09ICJsb29wIil7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgIH1lbHNlIGlmKGxvb3Bfc3RhdGUgPT0gInJlZmxlY3QiKXsKICAgICAgdGhpcy5sYXN0X2ZyYW1lKCk7CiAgICAgIHRoaXMucmV2ZXJzZV9hbmltYXRpb24oKTsKICAgIH1lbHNlewogICAgICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogICAgICB0aGlzLmxhc3RfZnJhbWUoKTsKICAgIH0KICB9Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5hbmltX3N0ZXBfcmV2ZXJzZSA9IGZ1bmN0aW9uKCkgewogIGlmKHRoaXMuY3VycmVudF9mcmFtZSA+IDApewogICAgdGhpcy5wcmV2aW91c19mcmFtZSgpOwogIH0gZWxzZSB7CiAgICB2YXIgbG9vcF9zdGF0ZSA9IHRoaXMuZ2V0X2xvb3Bfc3RhdGUoKTsKICAgIGlmKGxvb3Bfc3RhdGUgPT0gImxvb3AiKXsKICAgICAgdGhpcy5sYXN0X2ZyYW1lKCk7CiAgICB9ZWxzZSBpZihsb29wX3N0YXRlID09ICJyZWZsZWN0Iil7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgICAgdGhpcy5wbGF5X2FuaW1hdGlvbigpOwogICAgfWVsc2V7CiAgICAgIHRoaXMucGF1c2VfYW5pbWF0aW9uKCk7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgIH0KICB9Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5wYXVzZV9hbmltYXRpb24gPSBmdW5jdGlvbigpIHsKICB0aGlzLmRpcmVjdGlvbiA9IDA7CiAgaWYgKHRoaXMudGltZXIpewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIHRoaXMudGltZXIgPSBudWxsOwogIH0KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLnBsYXlfYW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5wYXVzZV9hbmltYXRpb24oKTsKICB0aGlzLmRpcmVjdGlvbiA9IDE7CiAgdmFyIHQgPSB0aGlzOwogIGlmICghdGhpcy50aW1lcikgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5hbmltX3N0ZXBfZm9yd2FyZCgpO30sIHRoaXMuaW50ZXJ2YWwpOwp9CgpTY3J1YmJlcldpZGdldC5wcm90b3R5cGUucmV2ZXJzZV9hbmltYXRpb24gPSBmdW5jdGlvbigpIHsKICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogIHRoaXMuZGlyZWN0aW9uID0gLTE7CiAgdmFyIHQgPSB0aGlzOwogIGlmICghdGhpcy50aW1lcikgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5hbmltX3N0ZXBfcmV2ZXJzZSgpO30sIHRoaXMuaW50ZXJ2YWwpOwp9CgpmdW5jdGlvbiBleHRlbmQoZGVzdGluYXRpb24sIHNvdXJjZSkgewogIGZvciAodmFyIGsgaW4gc291cmNlKSB7CiAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGspKSB7CiAgICAgIGRlc3RpbmF0aW9uW2tdID0gc291cmNlW2tdOwogICAgfQogIH0KICByZXR1cm4gZGVzdGluYXRpb247Cn0KCmZ1bmN0aW9uIHVwZGF0ZV93aWRnZXQod2lkZ2V0LCB2YWx1ZXMpIHsKICBpZiAod2lkZ2V0Lmhhc0NsYXNzKCJ1aS1zbGlkZXIiKSkgewogICAgd2lkZ2V0LnNsaWRlcignb3B0aW9uJywgewogICAgICBtaW46IDAsCiAgICAgIG1heDogdmFsdWVzLmxlbmd0aC0xLAogICAgICBkaW1fdmFsczogdmFsdWVzLAogICAgICB2YWx1ZTogMCwKICAgICAgZGltX2xhYmVsczogdmFsdWVzCiAgICB9KQogICAgd2lkZ2V0LnNsaWRlcignb3B0aW9uJywgJ3NsaWRlJykuY2FsbCh3aWRnZXQsIGV2ZW50LCB7dmFsdWU6IDB9KQogIH0gZWxzZSB7CiAgICB3aWRnZXQuZW1wdHkoKTsKICAgIGZvciAodmFyIGk9MDsgaTx2YWx1ZXMubGVuZ3RoOyBpKyspewogICAgICB3aWRnZXQuYXBwZW5kKCQoIjxvcHRpb24+IiwgewogICAgICAgIHZhbHVlOiBpLAogICAgICAgIHRleHQ6IHZhbHVlc1tpXQogICAgICB9KSkKICAgIH07CiAgICB3aWRnZXQuZGF0YSgndmFsdWVzJywgdmFsdWVzKTsKICAgIHdpZGdldC5kYXRhKCd2YWx1ZScsIDApOwogICAgd2lkZ2V0LnRyaWdnZXIoImNoYW5nZSIpOwogIH07Cn0KCmZ1bmN0aW9uIGluaXRfc2xpZGVyKGlkLCBwbG90X2lkLCBkaW0sIHZhbHVlcywgbmV4dF92YWxzLCBsYWJlbHMsIGR5bmFtaWMsIHN0ZXAsIHZhbHVlLCBuZXh0X2RpbSwKICAgICAgICAgICAgICAgICAgICAgZGltX2lkeCwgZGVsYXksIGpRdWVyeVVJX0NETiwgVU5ERVJTQ09SRV9DRE4pIHsKICAvLyBTbGlkZXIgSlMgQmxvY2sgU1RBUlQKICBmdW5jdGlvbiBsb2FkY3NzZmlsZShmaWxlbmFtZSl7CiAgICB2YXIgZmlsZXJlZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIikKICAgIGZpbGVyZWYuc2V0QXR0cmlidXRlKCJyZWwiLCAic3R5bGVzaGVldCIpCiAgICBmaWxlcmVmLnNldEF0dHJpYnV0ZSgidHlwZSIsICJ0ZXh0L2NzcyIpCiAgICBmaWxlcmVmLnNldEF0dHJpYnV0ZSgiaHJlZiIsIGZpbGVuYW1lKQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChmaWxlcmVmKQogIH0KICBsb2FkY3NzZmlsZSgiaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vdWkvMS4xMC40L3RoZW1lcy9zbW9vdGhuZXNzL2pxdWVyeS11aS5jc3MiKTsKICAvKiBDaGVjayBpZiBqUXVlcnkgYW5kIGpRdWVyeVVJIGhhdmUgYmVlbiBsb2FkZWQKICAgICBvdGhlcndpc2UgbG9hZCB3aXRoIHJlcXVpcmUuanMgKi8KICB2YXIgalF1ZXJ5ID0gd2luZG93LmpRdWVyeSwKICAgIC8vIGNoZWNrIGZvciBvbGQgdmVyc2lvbnMgb2YgalF1ZXJ5CiAgICBvbGRqUXVlcnkgPSBqUXVlcnkgJiYgISFqUXVlcnkuZm4uanF1ZXJ5Lm1hdGNoKC9eMVwuWzAtNF0oXC58JCkvKSwKICAgIGpxdWVyeV9wYXRoID0gJycsCiAgICBwYXRocyA9IHt9LAogICAgbm9Db25mbGljdDsKICB2YXIgalF1ZXJ5VUkgPSBqUXVlcnkudWk7CiAgLy8gY2hlY2sgZm9yIGpRdWVyeQogIGlmICghalF1ZXJ5IHx8IG9sZGpRdWVyeSkgewogICAgLy8gbG9hZCBpZiBpdCdzIG5vdCBhdmFpbGFibGUgb3IgZG9lc24ndCBtZWV0IG1pbiBzdGFuZGFyZHMKICAgIHBhdGhzLmpRdWVyeSA9IGpRdWVyeTsKICAgIG5vQ29uZmxpY3QgPSAhIW9sZGpRdWVyeTsKICB9IGVsc2UgewogICAgLy8gcmVnaXN0ZXIgdGhlIGN1cnJlbnQgalF1ZXJ5CiAgICBkZWZpbmUoJ2pxdWVyeScsIFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGpRdWVyeTsgfSk7CiAgfQogIGlmICghalF1ZXJ5VUkpIHsKICAgIHBhdGhzLmpRdWVyeVVJID0galF1ZXJ5VUlfQ0ROLnNsaWNlKG51bGwsIC0zKTsKICB9IGVsc2UgewogICAgZGVmaW5lKCdqUXVlcnlVSScsIFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGpRdWVyeS51aTsgfSk7CiAgfQogIHBhdGhzLnVuZGVyc2NvcmUgPSBVTkRFUlNDT1JFX0NETi5zbGljZShudWxsLCAtMyk7CiAgdmFyIGpxdWVyeV9yZXF1aXJlID0gewogICAgcGF0aHM6IHBhdGhzLAogICAgc2hpbTogewogICAgICAialF1ZXJ5VUkiOiB7CiAgICAgICAgZXhwb3J0czoiJCIsCiAgICAgICAgZGVwczogWydqcXVlcnknXQogICAgICB9LAogICAgICAidW5kZXJzY29yZSI6IHsKICAgICAgICBleHBvcnRzOiAnXycKICAgICAgfQogICAgfQogIH0KICByZXF1aXJlLmNvbmZpZyhqcXVlcnlfcmVxdWlyZSk7CiAgcmVxdWlyZShbImpRdWVyeVVJIiwgInVuZGVyc2NvcmUiXSwgZnVuY3Rpb24oalVJLCBfKXsKICAgIGlmIChub0NvbmZsaWN0KSAkLm5vQ29uZmxpY3QodHJ1ZSk7CiAgICB2YXIgdmFscyA9IHZhbHVlczsKICAgIGlmIChkeW5hbWljICYmIHZhbHMuY29uc3RydWN0b3IgPT09IEFycmF5KSB7CiAgICAgIHZhciBkZWZhdWx0X3ZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7CiAgICAgIHZhciBtaW4gPSBwYXJzZUZsb2F0KHZhbHNbMF0pOwogICAgICB2YXIgbWF4ID0gcGFyc2VGbG9hdCh2YWxzW3ZhbHMubGVuZ3RoLTFdKTsKICAgICAgdmFyIHdzdGVwID0gc3RlcDsKICAgICAgdmFyIHdsYWJlbHMgPSBbZGVmYXVsdF92YWx1ZV07CiAgICAgIHZhciBpbml0X2xhYmVsID0gZGVmYXVsdF92YWx1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtaW4gPSAwOwogICAgICBpZiAoZHluYW1pYykgewogICAgICAgIHZhciBtYXggPSBPYmplY3Qua2V5cyh2YWxzKS5sZW5ndGggLSAxOwogICAgICAgIHZhciBpbml0X2xhYmVsID0gbGFiZWxzW3ZhbHVlXTsKICAgICAgICB2YXIgZGVmYXVsdF92YWx1ZSA9IHZhbHVlc1t2YWx1ZV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG1heCA9IHZhbHMubGVuZ3RoIC0gMTsKICAgICAgICB2YXIgaW5pdF9sYWJlbCA9IGxhYmVsc1t2YWx1ZV07CiAgICAgICAgdmFyIGRlZmF1bHRfdmFsdWUgPSB2YWx1ZTsKICAgICAgfQogICAgICB2YXIgd3N0ZXAgPSAxOwogICAgICB2YXIgd2xhYmVscyA9IGxhYmVsczsKICAgIH0KICAgIGZ1bmN0aW9uIGFkanVzdEZvbnRTaXplKHRleHQpIHsKICAgICAgdmFyIHdpZHRoX3JhdGlvID0gKHRleHQucGFyZW50KCkud2lkdGgoKS84KS90ZXh0LnZhbCgpLmxlbmd0aDsKICAgICAgdmFyIHNpemUgPSBNYXRoLm1pbigwLjksIE1hdGgubWF4KDAuNiwgd2lkdGhfcmF0aW8pKSsnZW0nOwogICAgICB0ZXh0LmNzcygnZm9udC1zaXplJywgc2l6ZSk7CiAgICB9CiAgICB2YXIgc2xpZGVyID0gJCgnI19hbmltX3dpZGdldCcraWQrJ18nK2RpbSk7CiAgICBzbGlkZXIuc2xpZGVyKHsKICAgICAgYW5pbWF0ZTogImZhc3QiLAogICAgICBtaW46IG1pbiwKICAgICAgbWF4OiBtYXgsCiAgICAgIHN0ZXA6IHdzdGVwLAogICAgICB2YWx1ZTogZGVmYXVsdF92YWx1ZSwKICAgICAgZGltX3ZhbHM6IHZhbHMsCiAgICAgIGRpbV9sYWJlbHM6IHdsYWJlbHMsCiAgICAgIG5leHRfdmFsczogbmV4dF92YWxzLAogICAgICBzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7CiAgICAgICAgdmFyIHZhbHMgPSBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAiZGltX3ZhbHMiKTsKICAgICAgICB2YXIgbmV4dF92YWxzID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgIm5leHRfdmFscyIpOwogICAgICAgIHZhciBkbGFiZWxzID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgImRpbV9sYWJlbHMiKTsKICAgICAgICBpZiAoZHluYW1pYykgewogICAgICAgICAgdmFyIGRpbV92YWwgPSB1aS52YWx1ZTsKICAgICAgICAgIGlmICh2YWxzLmNvbnN0cnVjdG9yID09PSBBcnJheSkgewogICAgICAgICAgICB2YXIgbGFiZWwgPSB1aS52YWx1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBsYWJlbCA9IGRsYWJlbHNbdWkudmFsdWVdOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgZGltX3ZhbCA9IHZhbHNbdWkudmFsdWVdOwogICAgICAgICAgdmFyIGxhYmVsID0gZGxhYmVsc1t1aS52YWx1ZV07CiAgICAgICAgfQogICAgICAgIHZhciB0ZXh0ID0gJCgnI3RleHRJbnB1dCcraWQrJ18nK2RpbSk7CiAgICAgICAgdGV4dC52YWwobGFiZWwpOwogICAgICAgIGFkanVzdEZvbnRTaXplKHRleHQpOwogICAgICAgIEhvbG9WaWV3cy5pbmRleFtwbG90X2lkXS5zZXRfZnJhbWUoZGltX3ZhbCwgZGltX2lkeCk7CiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5leHRfdmFscykubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIG5ld192YWxzID0gbmV4dF92YWxzW2RpbV92YWxdOwogICAgICAgICAgdmFyIG5leHRfd2lkZ2V0ID0gJCgnI19hbmltX3dpZGdldCcraWQrJ18nK25leHRfZGltKTsKICAgICAgICAgIHVwZGF0ZV93aWRnZXQobmV4dF93aWRnZXQsIG5ld192YWxzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgc2xpZGVyLmtleXByZXNzKGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIGlmIChldmVudC53aGljaCA9PSA4MCB8fCBldmVudC53aGljaCA9PSAxMTIpIHsKICAgICAgICB2YXIgc3RhcnQgPSBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAidmFsdWUiKTsKICAgICAgICB2YXIgc3RvcCA9ICBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAibWF4Iik7CiAgICAgICAgZm9yICh2YXIgaT1zdGFydDsgaTw9c3RvcDsgaSsrKSB7CiAgICAgICAgICB2YXIgZGVsYXkgPSBpKmRlbGF5OwogICAgICAgICAgJC5wcm94eShmdW5jdGlvbiBkb1NldFRpbWVvdXQoaSkgeyBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB2YWwgPSB7dmFsdWU6aX07CiAgICAgICAgICAgIHNsaWRlci5zbGlkZXIoJ3ZhbHVlJyxpKTsKICAgICAgICAgICAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInNsaWRlIikobnVsbCwgdmFsKTsKICAgICAgICAgIH0sIHNsaWRlciksIGRlbGF5KTt9LCBzbGlkZXIpKGkpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoZXZlbnQud2hpY2ggPT0gODIgfHwgZXZlbnQud2hpY2ggPT0gMTE0KSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInZhbHVlIik7CiAgICAgICAgdmFyIHN0b3AgPSAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgIm1pbiIpOwogICAgICAgIHZhciBjb3VudCA9IDA7CiAgICAgICAgZm9yICh2YXIgaT1zdGFydDsgaT49c3RvcDsgaS0tKSB7CiAgICAgICAgICB2YXIgZGVsYXkgPSBjb3VudCpkZWxheTsKICAgICAgICAgIGNvdW50ID0gY291bnQgKyAxOwogICAgICAgICAgJC5wcm94eShmdW5jdGlvbiBkb1NldFRpbWVvdXQoaSkgeyBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB2YWwgPSB7dmFsdWU6aX07CiAgICAgICAgICAgIHNsaWRlci5zbGlkZXIoJ3ZhbHVlJyxpKTsKICAgICAgICAgICAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInNsaWRlIikobnVsbCwgdmFsKTsKICAgICAgICAgIH0sIHNsaWRlciksIGRlbGF5KTt9LCBzbGlkZXIpKGkpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICB2YXIgdGV4dElucHV0ID0gJCgnI3RleHRJbnB1dCcraWQrJ18nK2RpbSkKICAgIHRleHRJbnB1dC52YWwoaW5pdF9sYWJlbCk7CiAgICBhZGp1c3RGb250U2l6ZSh0ZXh0SW5wdXQpOwogIH0pOwp9CgpmdW5jdGlvbiBpbml0X2Ryb3Bkb3duKGlkLCBwbG90X2lkLCBkaW0sIHZhbHMsIHZhbHVlLCBuZXh0X3ZhbHMsIGxhYmVscywgbmV4dF9kaW0sIGRpbV9pZHgsIGR5bmFtaWMpIHsKICB2YXIgd2lkZ2V0ID0gJCgiI19hbmltX3dpZGdldCIraWQrJ18nK2RpbSk7CiAgd2lkZ2V0LmRhdGEoJ3ZhbHVlcycsIHZhbHMpCiAgZm9yICh2YXIgaT0wOyBpPHZhbHMubGVuZ3RoOyBpKyspewogICAgaWYgKGR5bmFtaWMpIHsKICAgICAgdmFyIHZhbCA9IHZhbHNbaV07CiAgICB9IGVsc2UgewogICAgICB2YXIgdmFsID0gaTsKICAgIH0KICAgIHdpZGdldC5hcHBlbmQoJCgiPG9wdGlvbj4iLCB7CiAgICAgIHZhbHVlOiB2YWwsCiAgICAgIHRleHQ6IGxhYmVsc1tpXQogICAgfSkpOwogIH07CiAgd2lkZ2V0LmRhdGEoIm5leHRfdmFscyIsIG5leHRfdmFscyk7CiAgd2lkZ2V0LnZhbCh2YWx1ZSk7CiAgd2lkZ2V0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihldmVudCwgdWkpIHsKICAgIGlmIChkeW5hbWljKSB7CiAgICAgIHZhciBkaW1fdmFsID0gcGFyc2VJbnQodGhpcy52YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICB2YXIgZGltX3ZhbCA9ICQuZGF0YSh0aGlzLCAndmFsdWVzJylbdGhpcy52YWx1ZV07CiAgICB9CiAgICB2YXIgbmV4dF92YWxzID0gJC5kYXRhKHRoaXMsICJuZXh0X3ZhbHMiKTsKICAgIGlmIChPYmplY3Qua2V5cyhuZXh0X3ZhbHMpLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIG5ld192YWxzID0gbmV4dF92YWxzW2RpbV92YWxdOwogICAgICB2YXIgbmV4dF93aWRnZXQgPSAkKCcjX2FuaW1fd2lkZ2V0JytpZCsnXycrbmV4dF9kaW0pOwogICAgICB1cGRhdGVfd2lkZ2V0KG5leHRfd2lkZ2V0LCBuZXdfdmFscyk7CiAgICB9CiAgICB2YXIgd2lkZ2V0cyA9IEhvbG9WaWV3cy5pbmRleFtwbG90X2lkXQogICAgaWYgKHdpZGdldHMpIHsKICAgICAgd2lkZ2V0cy5zZXRfZnJhbWUoZGltX3ZhbCwgZGltX2lkeCk7CiAgICB9CiAgfSk7Cn0KCmlmICh3aW5kb3cuSG9sb1ZpZXdzID09PSB1bmRlZmluZWQpIHsKICB3aW5kb3cuSG9sb1ZpZXdzID0ge30KfQoKdmFyIF9uYW1lc3BhY2UgPSB7CiAgaW5pdF9zbGlkZXI6IGluaXRfc2xpZGVyLAogIGluaXRfZHJvcGRvd246IGluaXRfZHJvcGRvd24sCiAgY29tbXM6IHt9LAogIGNvbW1fc3RhdHVzOiB7fSwKICBpbmRleDoge30sCiAgcGxvdF9pbmRleDoge30sCiAga2VybmVsczoge30sCiAgcmVjZWl2ZXJzOiB7fQp9Cgpmb3IgKHZhciBrIGluIF9uYW1lc3BhY2UpIHsKICBpZiAoIShrIGluIHdpbmRvdy5Ib2xvVmlld3MpKSB7CiAgICB3aW5kb3cuSG9sb1ZpZXdzW2tdID0gX25hbWVzcGFjZVtrXTsKICB9Cn0KCnZhciBKU19NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vamF2YXNjcmlwdCc7CnZhciBIVE1MX01JTUVfVFlQRSA9ICd0ZXh0L2h0bWwnOwp2YXIgRVhFQ19NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vdm5kLmhvbG92aWV3c19leGVjLnYwK2pzb24nOwp2YXIgQ0xBU1NfTkFNRSA9ICdvdXRwdXQnOwoKLyoqCiAqIFJlbmRlciBkYXRhIHRvIHRoZSBET00gbm9kZQogKi8KZnVuY3Rpb24gcmVuZGVyKHByb3BzLCBub2RlKSB7CiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICBub2RlLmFwcGVuZENoaWxkKGRpdik7CiAgbm9kZS5hcHBlbmRDaGlsZChzY3JpcHQpOwp9CgovKioKICogSGFuZGxlIHdoZW4gYSBuZXcgb3V0cHV0IGlzIGFkZGVkCiAqLwpmdW5jdGlvbiBoYW5kbGVfYWRkX291dHB1dChldmVudCwgaGFuZGxlKSB7CiAgdmFyIG91dHB1dF9hcmVhID0gaGFuZGxlLm91dHB1dF9hcmVhOwogIHZhciBvdXRwdXQgPSBoYW5kbGUub3V0cHV0OwogIGlmICghb3V0cHV0LmRhdGEuaGFzT3duUHJvcGVydHkoRVhFQ19NSU1FX1RZUEUpKSB7CiAgICByZXR1cm4KICB9CiAgdmFyIGlkID0gb3V0cHV0Lm1ldGFkYXRhW0VYRUNfTUlNRV9UWVBFXVsiaWQiXTsKICB2YXIgdG9pbnNlcnQgPSBvdXRwdXRfYXJlYS5lbGVtZW50LmZpbmQoIi4iICsgQ0xBU1NfTkFNRS5zcGxpdCgnICcpWzBdKTsKICBpZiAoaWQgIT09IHVuZGVmaW5lZCkgewogICAgdG9pbnNlcnRbMF0uY2hpbGRyZW5bMF0uaW5uZXJIVE1MID0gb3V0cHV0LmRhdGFbSFRNTF9NSU1FX1RZUEVdOwogICAgdG9pbnNlcnRbMF0uY2hpbGRyZW5bMV0udGV4dENvbnRlbnQgPSBvdXRwdXQuZGF0YVtKU19NSU1FX1RZUEVdOwogICAgb3V0cHV0X2FyZWEuX2h2X3Bsb3RfaWQgPSBpZDsKICAgIGlmICgod2luZG93LkJva2VoICE9PSB1bmRlZmluZWQpICYmIChpZCBpbiBCb2tlaC5pbmRleCkpIHsKICAgICAgSG9sb1ZpZXdzLnBsb3RfaW5kZXhbaWRdID0gQm9rZWguaW5kZXhbaWRdOwogICAgfSBlbHNlIHsKICAgICAgSG9sb1ZpZXdzLnBsb3RfaW5kZXhbaWRdID0gbnVsbDsKICAgIH0KICB9Cn0KCi8qKgogKiBIYW5kbGUgd2hlbiBhbiBvdXRwdXQgaXMgY2xlYXJlZCBvciByZW1vdmVkCiAqLwpmdW5jdGlvbiBoYW5kbGVfY2xlYXJfb3V0cHV0KGV2ZW50LCBoYW5kbGUpIHsKICB2YXIgaWQgPSBoYW5kbGUuY2VsbC5vdXRwdXRfYXJlYS5faHZfcGxvdF9pZDsKICBpZiAoKGlkID09PSB1bmRlZmluZWQpIHx8ICEoaWQgaW4gSG9sb1ZpZXdzLnBsb3RfaW5kZXgpKSB7IHJldHVybjsgfQogIHZhciBjb21tID0gd2luZG93LkhvbG9WaWV3cy5jb21tX21hbmFnZXIuZ2V0X2NsaWVudF9jb21tKCJodi1leHRlbnNpb24tY29tbSIsICJodi1leHRlbnNpb24tY29tbSIsIGZ1bmN0aW9uICgpIHt9KTsKICBpZiAoY29tbSAhPT0gbnVsbCkgewogICAgY29tbS5zZW5kKHtldmVudF90eXBlOiAnZGVsZXRlJywgJ2lkJzogaWR9KTsKICB9CiAgZGVsZXRlIEhvbG9WaWV3cy5wbG90X2luZGV4W2lkXTsKICBpZiAoKHdpbmRvdy5Cb2tlaCAhPT0gdW5kZWZpbmVkKSAmIChpZCBpbiB3aW5kb3cuQm9rZWguaW5kZXgpKSB7CiAgICB3aW5kb3cuQm9rZWguaW5kZXhbaWRdLm1vZGVsLmRvY3VtZW50LmNsZWFyKCk7CiAgICBkZWxldGUgQm9rZWguaW5kZXhbaWRdOwogIH0KfQoKZnVuY3Rpb24gaGFuZGxlX2tlcm5lbF9jbGVhbnVwKGV2ZW50LCBoYW5kbGUpIHsKICBkZWxldGUgSG9sb1ZpZXdzLmNvbW1zWyJodi1leHRlbnNpb24tY29tbSJdOwogIHdpbmRvdy5Ib2xvVmlld3MucGxvdF9pbmRleCA9IHt9Cn0KCmZ1bmN0aW9uIHJlZ2lzdGVyX3JlbmRlcmVyKGV2ZW50cywgT3V0cHV0QXJlYSkgewogIGZ1bmN0aW9uIGFwcGVuZF9taW1lKGRhdGEsIG1ldGFkYXRhLCBlbGVtZW50KSB7CiAgICAvLyBjcmVhdGUgYSBET00gbm9kZSB0byByZW5kZXIgdG8KICAgIHZhciB0b2luc2VydCA9IHRoaXMuY3JlYXRlX291dHB1dF9zdWJhcmVhKAogICAgbWV0YWRhdGEsCiAgICBDTEFTU19OQU1FLAogICAgRVhFQ19NSU1FX1RZUEUKICAgICk7CiAgICB0aGlzLmtleWJvYXJkX21hbmFnZXIucmVnaXN0ZXJfZXZlbnRzKHRvaW5zZXJ0KTsKICAgIC8vIFJlbmRlciB0byBub2RlCiAgICB2YXIgcHJvcHMgPSB7ZGF0YTogZGF0YSwgbWV0YWRhdGE6IG1ldGFkYXRhW0VYRUNfTUlNRV9UWVBFXX07CiAgICByZW5kZXIocHJvcHMsIHRvaW5zZXJ0WzBdKTsKICAgIGVsZW1lbnQuYXBwZW5kKHRvaW5zZXJ0KTsKICAgIHJldHVybiB0b2luc2VydAogIH0KCiAgZXZlbnRzLm9uKCdvdXRwdXRfYWRkZWQuT3V0cHV0QXJlYScsIGhhbmRsZV9hZGRfb3V0cHV0KTsKICBldmVudHMub24oJ2NsZWFyX291dHB1dC5Db2RlQ2VsbCcsIGhhbmRsZV9jbGVhcl9vdXRwdXQpOwogIGV2ZW50cy5vbignZGVsZXRlLkNlbGwnLCBoYW5kbGVfY2xlYXJfb3V0cHV0KTsKICBldmVudHMub24oJ2tlcm5lbF9yZWFkeS5LZXJuZWwnLCBoYW5kbGVfa2VybmVsX2NsZWFudXApOwoKICBPdXRwdXRBcmVhLnByb3RvdHlwZS5yZWdpc3Rlcl9taW1lX3R5cGUoRVhFQ19NSU1FX1RZUEUsIGFwcGVuZF9taW1lLCB7CiAgICBzYWZlOiB0cnVlLAogICAgaW5kZXg6IDAKICB9KTsKfQoKaWYgKHdpbmRvdy5KdXB5dGVyICE9PSB1bmRlZmluZWQpIHsKICB0cnkgewogICAgdmFyIGV2ZW50cyA9IHJlcXVpcmUoJ2Jhc2UvanMvZXZlbnRzJyk7CiAgICB2YXIgT3V0cHV0QXJlYSA9IHJlcXVpcmUoJ25vdGVib29rL2pzL291dHB1dGFyZWEnKS5PdXRwdXRBcmVhOwogICAgaWYgKE91dHB1dEFyZWEucHJvdG90eXBlLm1pbWVfdHlwZXMoKS5pbmRleE9mKEVYRUNfTUlNRV9UWVBFKSA9PSAtMSkgewogICAgICByZWdpc3Rlcl9yZW5kZXJlcihldmVudHMsIE91dHB1dEFyZWEpOwogICAgfQogIH0gY2F0Y2goZXJyKSB7CiAgfQp9CgovLyBEZWZpbmUgQm9rZWggc3BlY2lmaWMgc3ViY2xhc3NlcwpmdW5jdGlvbiBCb2tlaFNlbGVjdGlvbldpZGdldCgpIHsKICBTZWxlY3Rpb25XaWRnZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gQm9rZWhTY3J1YmJlcldpZGdldCgpIHsKICBTY3J1YmJlcldpZGdldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgovLyBMZXQgdGhlbSBpbmhlcml0IGZyb20gdGhlIGJhc2VjbGFzc2VzCkJva2VoU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZSk7CkJva2VoU2NydWJiZXJXaWRnZXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTY3J1YmJlcldpZGdldC5wcm90b3R5cGUpOwoKLy8gRGVmaW5lIG1ldGhvZHMgdG8gb3ZlcnJpZGUgb24gd2lkZ2V0cwp2YXIgQm9rZWhNZXRob2RzID0gewogIHVwZGF0ZV9jYWNoZSA6IGZ1bmN0aW9uKCl7CiAgICBmb3IgKHZhciBpbmRleCBpbiB0aGlzLmZyYW1lcykgewogICAgICB0aGlzLmZyYW1lc1tpbmRleF0gPSBKU09OLnBhcnNlKHRoaXMuZnJhbWVzW2luZGV4XSk7CiAgICB9CiAgfSwKICB1cGRhdGUgOiBmdW5jdGlvbihjdXJyZW50KXsKICAgIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGRhdGEgPSB0aGlzLmZyYW1lc1tjdXJyZW50XTsKCWlmIChkYXRhICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIGRvYyA9IEhvbG9WaWV3cy5wbG90X2luZGV4W2RhdGEucm9vdF0ubW9kZWwuZG9jdW1lbnQ7CiAgICAgIGRvYy5hcHBseV9qc29uX3BhdGNoKGRhdGEuY29udGVudCk7CiAgICB9CiAgfSwKICBpbml0X2NvbW1zOiBmdW5jdGlvbigpIHsKICAgIGlmIChCb2tlaC5wcm90b2NvbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMucmVjZWl2ZXIgPSBuZXcgQm9rZWgucHJvdG9jb2wuUmVjZWl2ZXIoKQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5yZWNlaXZlciA9IG51bGw7Cgl9CiAgICByZXR1cm4gSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5pbml0X2NvbW1zLmNhbGwodGhpcyk7CiAgfSwKICBwcm9jZXNzX21zZyA6IGZ1bmN0aW9uKG1zZykgewogICAgdmFyIGRvYyA9IEhvbG9WaWV3cy5wbG90X2luZGV4W3RoaXMucGxvdF9pZF0ubW9kZWwuZG9jdW1lbnQ7CiAgICBpZiAodGhpcy5yZWNlaXZlciA9PT0gbnVsbCkgeyByZXR1cm4gfQogICAgdmFyIHJlY2VpdmVyID0gdGhpcy5yZWNlaXZlcjsKICAgIGlmIChtc2cuYnVmZmVycy5sZW5ndGggPiAwKSB7CiAgICAgIHJlY2VpdmVyLmNvbnN1bWUobXNnLmJ1ZmZlcnNbMF0uYnVmZmVyKQogICAgfSBlbHNlIHsKICAgICAgcmVjZWl2ZXIuY29uc3VtZShtc2cuY29udGVudC5kYXRhKQogICAgfQogICAgY29uc3QgY29tbV9tc2cgPSByZWNlaXZlci5tZXNzYWdlOwogICAgaWYgKChjb21tX21zZyAhPSBudWxsKSAmJiAoZG9jICE9IG51bGwpKSB7CiAgICAgIGRvYy5hcHBseV9qc29uX3BhdGNoKGNvbW1fbXNnLmNvbnRlbnQsIGNvbW1fbXNnLmJ1ZmZlcnMpCiAgICB9CiAgfQp9CgovLyBFeHRlbmQgQm9rZWggd2lkZ2V0cyB3aXRoIGJhY2tlbmQgc3BlY2lmaWMgbWV0aG9kcwpleHRlbmQoQm9rZWhTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlLCBCb2tlaE1ldGhvZHMpOwpleHRlbmQoQm9rZWhTY3J1YmJlcldpZGdldC5wcm90b3R5cGUsIEJva2VoTWV0aG9kcyk7Cgp3aW5kb3cuSG9sb1ZpZXdzLkJva2VoU2VsZWN0aW9uV2lkZ2V0ID0gQm9rZWhTZWxlY3Rpb25XaWRnZXQKd2luZG93LkhvbG9WaWV3cy5Cb2tlaFNjcnViYmVyV2lkZ2V0ID0gQm9rZWhTY3J1YmJlcldpZGdldAo8L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgogICAgZnVuY3Rpb24gSnVweXRlckNvbW1NYW5hZ2VyKCkgewogICAgfQoKICAgIEp1cHl0ZXJDb21tTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJfdGFyZ2V0ID0gZnVuY3Rpb24ocGxvdF9pZCwgY29tbV9pZCwgbXNnX2hhbmRsZXIpIHsKICAgICAgaWYgKHdpbmRvdy5jb21tX21hbmFnZXIgfHwgKCh3aW5kb3cuSnVweXRlciAhPT0gdW5kZWZpbmVkKSAmJiAoSnVweXRlci5ub3RlYm9vay5rZXJuZWwgIT0gbnVsbCkpKSB7CiAgICAgICAgdmFyIGNvbW1fbWFuYWdlciA9IHdpbmRvdy5jb21tX21hbmFnZXIgfHwgSnVweXRlci5ub3RlYm9vay5rZXJuZWwuY29tbV9tYW5hZ2VyOwogICAgICAgIGNvbW1fbWFuYWdlci5yZWdpc3Rlcl90YXJnZXQoY29tbV9pZCwgZnVuY3Rpb24oY29tbSkgewogICAgICAgICAgY29tbS5vbl9tc2cobXNnX2hhbmRsZXIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKChwbG90X2lkIGluIEhvbG9WaWV3cy5rZXJuZWxzKSAmJiAoSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0pKSB7CiAgICAgICAgSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0ucmVnaXN0ZXJDb21tVGFyZ2V0KGNvbW1faWQsIGZ1bmN0aW9uKGNvbW0pIHsKICAgICAgICAgIGNvbW0ub25Nc2cgPSBtc2dfaGFuZGxlcjsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIEp1cHl0ZXJDb21tTWFuYWdlci5wcm90b3R5cGUuZ2V0X2NsaWVudF9jb21tID0gZnVuY3Rpb24ocGxvdF9pZCwgY29tbV9pZCwgbXNnX2hhbmRsZXIpIHsKICAgICAgaWYgKGNvbW1faWQgaW4gd2luZG93LkhvbG9WaWV3cy5jb21tcykgewogICAgICAgIHJldHVybiBIb2xvVmlld3MuY29tbXNbY29tbV9pZF07CiAgICAgIH0gZWxzZSBpZiAod2luZG93LmNvbW1fbWFuYWdlciB8fCAoKHdpbmRvdy5KdXB5dGVyICE9PSB1bmRlZmluZWQpICYmIChKdXB5dGVyLm5vdGVib29rLmtlcm5lbCAhPSBudWxsKSkpIHsKICAgICAgICB2YXIgY29tbV9tYW5hZ2VyID0gd2luZG93LmNvbW1fbWFuYWdlciB8fCBKdXB5dGVyLm5vdGVib29rLmtlcm5lbC5jb21tX21hbmFnZXI7CiAgICAgICAgdmFyIGNvbW0gPSBjb21tX21hbmFnZXIubmV3X2NvbW0oY29tbV9pZCwge30sIHt9LCB7fSwgY29tbV9pZCk7CiAgICAgICAgaWYgKG1zZ19oYW5kbGVyKSB7CiAgICAgICAgICBjb21tLm9uX21zZyhtc2dfaGFuZGxlcik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKChwbG90X2lkIGluIEhvbG9WaWV3cy5rZXJuZWxzKSAmJiAoSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0pKSB7CiAgICAgICAgdmFyIGNvbW0gPSBIb2xvVmlld3Mua2VybmVsc1twbG90X2lkXS5jb25uZWN0VG9Db21tKGNvbW1faWQpOwogICAgICAgIGNvbW0ub3BlbigpOwogICAgICAgIGlmIChtc2dfaGFuZGxlcikgewogICAgICAgICAgY29tbS5vbk1zZyA9IG1zZ19oYW5kbGVyOwogICAgICAgIH0KICAgICAgfQogICAgICBIb2xvVmlld3MuY29tbXNbY29tbV9pZF0gPSBjb21tOwogICAgICByZXR1cm4gY29tbTsKICAgIH0KCiAgICB3aW5kb3cuSG9sb1ZpZXdzLmNvbW1fbWFuYWdlciA9IG5ldyBKdXB5dGVyQ29tbU1hbmFnZXIoKTsKICAgIDwvc2NyaXB0PgoKPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5weWRhdGEub3JnL2Jva2VoL3JlbGVhc2UvYm9rZWgtMC4xMi4xNS5taW4uY3NzIj4KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5weWRhdGEub3JnL2Jva2VoL3JlbGVhc2UvYm9rZWgtd2lkZ2V0cy0wLjEyLjE1Lm1pbi5jc3MiPgo8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC10YWJsZXMtMC4xMi4xNS5taW4uY3NzIj4KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjMuNi9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiPgo8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL3VpLzEuMTAuNC90aGVtZXMvc21vb3RobmVzcy9qcXVlcnktdWkuY3NzIj4KPHN0eWxlPmRpdi5iay1oYm94IHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoKZGl2LmJrLWhib3ggZGl2LmJrLXBsb3QgewogICAgcGFkZGluZzogOHB4Owp9CgpkaXYuYmstaGJveCBkaXYuYmstZGF0YS10YWJsZSB7CiAgICBwYWRkaW5nOiAyMHB4Owp9CgpkaXYuaG9sb2xheW91dCB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIG1hcmdpbjogMDsKfQoKZGl2LmhvbG9mcmFtZSB7CiAgd2lkdGg6IDc1JTsKfQoKZGl2LmhvbG93ZWxsIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCmZvcm0uaG9sb2Zvcm0gewogIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgcGFkZGluZy1sZWZ0OiAwLjhlbTsKICBwYWRkaW5nLXJpZ2h0OiAwLjhlbTsKICBwYWRkaW5nLXRvcDogMC40ZW07CiAgcGFkZGluZy1ib3R0b206IDAuNGVtOwogIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMDUpOwogIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2UzZTNlMzsKfQoKZGl2LmhvbG93aWRnZXRzIHsKICBwYWRkaW5nLXJpZ2h0OiAwOwogIHdpZHRoOiAyNSU7Cn0KCmRpdi5ob2xvc2xpZGVyIHsKICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7CiAgaGVpZ2h0OiAwLjhlbTsKICB3aWR0aDogMTAwJTsKfQoKZGl2LmhvbG9mb3JtZ3JvdXAgewogIHBhZGRpbmctdG9wOiAwLjVlbTsKICBtYXJnaW4tYm90dG9tOiAwLjVlbTsKfQoKZGl2LmhvbG9ncm91cCB7CiAgcGFkZGluZy1sZWZ0OiAwOwogIHBhZGRpbmctcmlnaHQ6IDAuOGVtOwogIHdpZHRoOiAxMDAlOwp9CgouaG9sb3NlbGVjdCB7CiAgd2lkdGg6IDkyJTsKICBtYXJnaW4tbGVmdDogMDsKICBtYXJnaW4tcmlnaHQ6IDA7Cn0KCi5ob2xvdGV4dCB7CiAgcGFkZGluZy1sZWZ0OiAgMC41ZW07CiAgcGFkZGluZy1yaWdodDogMDsKICB3aWR0aDogMTAwJTsKfQoKLmhvbG93aWRnZXRzIC51aS1yZXNpemFibGUtc2UgewogIHZpc2liaWxpdHk6IGhpZGRlbgp9CgouaG9sb2ZyYW1lID4gLnVpLXJlc2l6YWJsZS1zZSB7CiAgdmlzaWJpbGl0eTogaGlkZGVuCn0KCi5ob2xvd2lkZ2V0cyAudWktcmVzaXphYmxlLXMgewogIHZpc2liaWxpdHk6IGhpZGRlbgp9CgoKLyogQ1NTIHJ1bGVzIGZvciBub1VJU2xpZGVyIGJhc2VkIHNsaWRlciB1c2VkIGJ5IEp1cHl0ZXJMYWIgZXh0ZW5zaW9uICAqLwoKLm5vVWktaGFuZGxlIHsKICB3aWR0aDogMjBweCAhaW1wb3J0YW50OwogIGhlaWdodDogMjBweCAhaW1wb3J0YW50OwogIGxlZnQ6IC01cHggIWltcG9ydGFudDsKICB0b3A6IC01cHggIWltcG9ydGFudDsKfQoKLm5vVWktaGFuZGxlOmJlZm9yZSwgLm5vVWktaGFuZGxlOmFmdGVyIHsKICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgaGVpZ2h0OiAwcHg7Cn0KCi5ub1VpLXRhcmdldCB7CiAgbWFyZ2luLWxlZnQ6IDAuNWVtOwogIG1hcmdpbi1yaWdodDogMC41ZW07Cn0KPC9zdHlsZT48ZGl2IHN0eWxlPSdkaXNwbGF5OiB0YWJsZTsgbWFyZ2luOiAwIGF1dG87Jz4KCjxkaXYgY2xhc3M9ImJrLXJvb3QiPgogICAgPGRpdiBjbGFzcz0iYmstcGxvdGRpdiIgaWQ9IjE4ZGMwMWYyLTg0MjYtNGQxNS05NWQyLWYxN2VhMTg2ZGE0MyI+PC9kaXY+CjwvZGl2Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgKGZ1bmN0aW9uKHJvb3QpIHsKICBmdW5jdGlvbiBlbWJlZF9kb2N1bWVudChyb290KSB7CiAgICAKICB2YXIgZG9jc19qc29uID0geyJlYmY1YTlkNy1lYmQxLTQwZTUtOWJhNi04MWIzNGUzOTZhZDIiOnsicm9vdHMiOnsicmVmZXJlbmNlcyI6W3siYXR0cmlidXRlcyI6eyJvdmVybGF5Ijp7ImlkIjoiNDdlMDcyNjUtY2ZmZi00YzQ5LTg5NTktYWEyMTk2M2U1ZWJkIiwidHlwZSI6IkJveEFubm90YXRpb24ifX0sImlkIjoiNmY5OGU1YjEtN2NhYy00N2Q2LWEzMmEtZjE3ZGE2Y2JjMzFiIiwidHlwZSI6IkJveFpvb21Ub29sIn0seyJhdHRyaWJ1dGVzIjp7InBsb3QiOm51bGwsInRleHQiOiJFeHRlcmlvciBsZW5ndGhzIHdpdGggQmVybiBoaWdobGlnaHRlZCIsInRleHRfY29sb3IiOnsidmFsdWUiOiJibGFjayJ9LCJ0ZXh0X2ZvbnRfc2l6ZSI6eyJ2YWx1ZSI6IjEycHQifX0sImlkIjoiMDI5NTRiNzctOTg2Ny00MDJlLTgxM2UtMzczMTQxNzMyZjk0IiwidHlwZSI6IlRpdGxlIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiI2NWMwMTNkZC1lNTI1LTQyNDgtODg1ZS0zOTNmMDljYzAxZGEiLCJ0eXBlIjoiUmVzZXRUb29sIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiIzYjEwMDM3NC0wNDA5LTQ4YTgtYTdmMS05NWY1NjllZjVhOGYiLCJ0eXBlIjoiTGluZWFyU2NhbGUifSx7ImF0dHJpYnV0ZXMiOnsiY2FsbGJhY2siOm51bGwsImVuZCI6MTg5LjAsInN0YXJ0IjozOS42fSwiaWQiOiIzZThiZTkyNy0zYjQ0LTRjMGUtYWY3Mi0wZDJmOTQxY2VhMmYiLCJ0eXBlIjoiUmFuZ2UxZCJ9LHsiYXR0cmlidXRlcyI6eyJjYWxsYmFjayI6bnVsbCwiY29sdW1uX25hbWVzIjpbImluZGV4IiwiZXh0bWFqb3IiLCJsYWJlbCJdLCJkYXRhIjp7ImV4dG1ham9yIjp7Il9fbmRhcnJheV9fIjoiemN6TXpNek1RMEFBQUFBQUFBQkVRTTNNek16TVRFVkFBQUFBQUFBQVNFQUFBQUFBQUFCSlFBQUFBQUFBQUVsQUFBQUFBQUFBU1VBQUFBQUFBQUJLUU0zTXpNek1iRXRBQUFBQUFBQ0FTMEFBQUFBQUFJQkxRQUFBQUFBQUFFeEFBQUFBQUFBQVRFQUFBQUFBQUFCTVFBQUFBQUFBQUV4QUFBQUFBQUFBVEVBQUFBQUFBSUJNUUFBQUFBQUFBRTVBQUFBQUFBQ0FUa0FBQUFBQUFJQk9RSnFabVptWm1VNUFBQUFBQUFDQVQwQ2FtWm1abVpsUFFBQUFBQUFBUUZCQUFBQUFBQUFBVVVBQUFBQUFBQUJSUUFBQUFBQUFRRkZBQUFBQUFBQkFVVUFBQUFBQUFJQlJRQUFBQUFBQWdGRkFBQUFBQUFDQVVVQUFBQUFBQUlCUlFBQUFBQUFBZ0ZGQUFBQUFBQURBVVVBQUFBQUFBQUJTUUFBQUFBQUFBRkpBQUFBQUFBQkFVa0FBQUFBQUFFQlNRT3hSdUI2RmUxSkFBQUFBQUFDQVVrQUFBQUFBQUtCU1FBQUFBQUFBd0ZKQUFBQUFBQURBVWtBQUFBQUFBQUJUUUFBQUFBQUFRRk5BQUFBQUFBQkFVMEF6TXpNek0xTlRRQUFBQUFBQWdGTkFBQUFBQUFDQVUwQUFBQUFBQU1CVFFBQUFBQUFBQUZSQUFBQUFBQUFBVkVBQUFBQUFBQUJVUUFBQUFBQUFBRlJBQUFBQUFBQUFWRUFBQUFBQUFBQlVRQUFBQUFBQUFGUkFBQUFBQUFBQVZFQUFBQUFBQUVCVVFBQUFBQUFBZ0ZSQUFBQUFBQURBVkVBQUFBQUFBTUJVUUFBQUFBQUFBRlZBQUFBQUFBQUFWVUFBQUFBQUFFQlZRQUFBQUFBQVFGVkFBQUFBQUFCQVZVQUFBQUFBQUlCVlFBQUFBQUFBb0ZWQUFBQUFBQUNnVlVBQUFBQUFBTUJWUUFBQUFBQUFBRlpBQUFBQUFBQUFWa0FBQUFBQUFBQldRQUFBQUFBQUFGWkFBQUFBQUFBQVZrQXpNek16TXpOV1FBQUFBQUFBUUZaQUFBQUFBQUNBVmtBQUFBQUFBSUJXUUFBQUFBQUFnRlpBQUFBQUFBQ0FWa0FBQUFBQUFJQldRQUFBQUFBQWdGWkFBQUFBQUFDQVZrQUFBQUFBQUFCWFFETXpNek16TTFkQUFBQUFBQUNBVjBBQUFBQUFBTUJYUUFBQUFBQUF3RmRBQUFBQUFBRGdWMEFBQUFBQUFBQllRQUFBQUFBQUFGaEFBQUFBQUFBQVdFQUFBQUFBQUNCWVFBQUFBQUFBUUZoQUFBQUFBQUNBV0VBQUFBQUFBSUJZUUFBQUFBQUFnRmhBQUFBQUFBQ0FXRUFBQUFBQUFJQllRQUFBQUFBQWdGaEFBQUFBQUFEQVdFQUFBQUFBQU9CWVFBQUFBQUFBQUZsQUFBQUFBQUFBV1VBQUFBQUFBQUJaUUFBQUFBQUFRRmxBbXBtWm1abDVXVUFBQUFBQUFJQlpRQUFBQUFBQW9GbEFBQUFBQUFEQVdVQUFBQUFBQUFCYVFHWm1abVptSmxwQUFBQUFBQUJBV2tBQUFBQUFBTUJhUUFBQUFBQUFBRnRBQUFBQUFBQUFXMEFBQUFBQUFBQmJRQUFBQUFBQUFGdEFBQUFBQUFCQVcwQ2FtWm1abVZsYlFBQUFBQUFBZ0Z0QUFBQUFBQURBVzBBQUFBQUFBTUJiUUFBQUFBQUFBRnhBQUFBQUFBQUFYRUROek16TXpHeGNRQUFBQUFBQWdGeEFBQUFBQUFEQVhFQUFBQUFBQU1CY1FBQUFBQUFBd0Z4QUFBQUFBQUFnWFVDdVIrRjZGRzVkUUFBQUFBQUFnRjFBQUFBQUFBQ0FYVUFBQUFBQUFBQmVRQUFBQUFBQUFGNUFBQUFBQUFBQVhrQUFBQUFBQUVCZVFHWm1abVptWmw1QUFBQUFBQUFBWDBBQUFBQUFBQUJmUUFBQUFBQUFNRjlBQUFBQUFBQkFYMEFBQUFBQUFJQmZRSnFabVptWm1WOUFNek16TXpPelgwQUFBQUFBQUNCZ1FBQUFBQUFBUUdCQUFBQUFBQUJnWUVBQUFBQUFBR0JnUUpxWm1abVppV0JBemN6TXpNeU1ZRUJtWm1abVpvNWdRTTNNek16TXJHQkFBQUFBQUFEQVlFQUFBQUFBQU9CZ1FBQUFBQUFBQUdGQVptWm1abVlHWVVBQUFBQUFBRUJoUUFBQUFBQUF3R0ZBQUFBQUFBRGdZVUFBQUFBQUFDQmlRSnFabVptWldXSkFBQUFBQUFDQVlrQUFBQUFBQUlCaVFBQUFBQUFBZ0dKQUFBQUFBQUNnWWtBQUFBQUFBTUJpUUFBQUFBQUF3R0pBOWloY2o4SU5ZMEFBQUFBQUFFQmpRQUFBQUFBQVlHTkFBQUFBQUFDQVkwQUFBQUFBQUFCa1FBQUFBQUFBb0dSQUFBQUFBQUJnWmtBQUFBQUFBS0JuUUE9PSIsImR0eXBlIjoiZmxvYXQ2NCIsInNoYXBlIjpbMTc5XX0sImluZGV4IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MSw5Miw5Myw5NCw5NSw5Niw5Nyw5OCw5OSwxMDAsMTAxLDEwMiwxMDMsMTA0LDEwNSwxMDYsMTA3LDEwOCwxMDksMTEwLDExMSwxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDEyMywxMjQsMTI1LDEyNiwxMjcsMTI4LDEyOSwxMzAsMTMxLDEzMiwxMzMsMTM0LDEzNSwxMzYsMTM3LDEzOCwxMzksMTQwLDE0MSwxNDIsMTQzLDE0NCwxNDUsMTQ2LDE0NywxNDgsMTQ5LDE1MCwxNTEsMTUyLDE1MywxNTQsMTU1LDE1NiwxNTcsMTU4LDE1OSwxNjAsMTYxLDE2MiwxNjMsMTY0LDE2NSwxNjYsMTY3LDE2OCwxNjksMTcwLDE3MSwxNzIsMTczLDE3NCwxNzUsMTc2LDE3NywxNzhdLCJsYWJlbCI6WyJBbGVyaWEiLCJaYWdhcm9sbyIsIkJlcm4iLCJSb3NlbGxlIiwiRHVyYSIsIkNoYXJ0ZXJob3VzZSIsIlRoYXJyb3MiLCJUb21lbiB5IE11ciIsIlZlbGxlaWEiLCJDaW1pZXoiLCJIZW5jaGlyIERvdWFtYSIsIk1pY2lhIiwiQWluIFRvdW5nYSIsIkRyZXZhbnQiLCJUaWdhdmEgQ2FzdHJhIiwiU2lkaSBib3UgQXJrb3ViIiwiQWluIEhlZGphaCIsIlN1c2EiLCJDaGVtdG91IiwiR2VuemFubyIsIlRoaWJhcmkiLCJDYWVyd2VudCIsIk1hY3RhcmlzIiwiQXVyZWxpdW0gQ29tbW9kaWFudW0iLCJEamVyYmEiLCJGZXJlbnRvIiwiVWxpc2lwcGlyYSIsIkNhcnRoYWdvIE5vdmEiLCJNYXJjaWFub3BvbGlzIiwiQXF1YWUgTmVyaSIsIkNoaWNoZXN0ZXIiLCJNZWdpZGRvIiwiTmV3c3RlYWQiLCJFbGV1dGhlcm9wb2xpcyIsIkdlbWVsbGFlIiwiU2JlaXRsYSIsIlR1c2N1bHVtIiwiQ2l2aWRhdGUgQ2FtdW5vIiwiVGVyYW1vIiwiVGh1YnVyYm8gTWFpdXMiLCJPcmRvbmEiLCJCdWxsYSBSZWdpYSIsIlNlZ29icmlnYSIsIlNlcmVzc2kiLCJTdXRyaXVtIiwiVGlwYXNhIiwiU2tpa2RhIiwiTGlsbGVib25uZSIsIkZyb3Npbm9uZSIsIlBhZXN0dW0iLCJTaW51ZXNzYSIsIk1hdW1idXJ5IiwiVm9sdGVycmEiLCJCZWthbHRhIiwiU2lsY2hlc3RlciIsIkJ1cm51bSIsIkJldmFnbmEiLCJDYWVybGVvbiIsIkxlcHRpbWludXMiLCJTcGVsbG8iLCJSdWdnZSIsIlRlYmVzc2EiLCJDYXNzaW5vIiwiUG9yb2xpc3N1bSIsIkdvcnR5biIsIlZpbWluYWNpdW0iLCJUaWJ1ciIsIkVtcHVyaWVzIiwiQXF1aW5jdW0gKENpdmlsaWFuKSIsIkNhcnN1bGFlIiwiTHVuYSIsIlNhcm1pemVnZXR1c2EiLCJGYWxlcmlpIE5vdmkiLCJBbXBoLiBDYXN0cmVuc2UiLCJSb2NjZWxsZXR0YSBkaSBCb3JnaWEiLCJMaWJhcm5hIiwiRmFsZXJvbmUiLCJQdG9sZW1haXMiLCJTYW4gVml0dG9yaW5vIiwiVGhhZW5hZSIsIlNlbmxpcyIsIlRvZGkiLCJBY2hvbGxhIiwiR3J1bWVudG8iLCJDYXRpbmlhIiwiVGh5c2RydXMgKFNtLikiLCJDYWdsaWFyaSIsIkNvbmltYnJpZ2EiLCJUZXJuaSIsIlRhcnJhZ29uYSIsIkNoZXN0ZXIiLCJWaXJ1bnVtIiwiVXRoaW5hIiwiSXZyZWEiLCJYYW50ZW4iLCJGbGF2aWEgU29sdmEiLCJUZXJtaW5pIiwiVXJicyBTYWx2aWEiLCJWZW5vc2EiLCJMYXJpbiIsIkJhcmFydXMiLCJDb3JpbnRoIiwiU3Vhc2EiLCJDYXJudW50dW0gKE1pbC4pIiwiTG9uZG9uIiwiU2ljY2EgVmVuZXJpYSIsIlRyaWVyIiwiU2FuIEJlbmVkZXR0byIsIkxlY2NlIiwiQXVnc3QiLCJQYWR1YSIsIkFsYmEgRnVjZW5zIiwiQXVndXN0YSBCYWdpZW5ub3J1bSIsIkxhbWJhZXNpcyIsIkx5b24iLCJBbGxpZmFlIiwiQWJlbGxhIiwiQm91cmdlcyIsIkltb2xhIiwiUG9pdGllcnMiLCJBbmF6YXJidXMiLCJBcmV6em8iLCJCZXNhblx1MDBlN29uIiwiVG91bG91c2UiLCJBbmNvbmEiLCJUZWxlc2lhIiwiVmluZG9uaXNzYSIsIkZyXHUwMGU5anVzIiwiQ3VtYWUiLCJBcXVpbm8iLCJTcG9sZXRvIiwiU2FicmF0aGEiLCJBbGJhbmEiLCJSaW1pbmkiLCJPY3RvZG9ydXMiLCJVdGljYSIsIk9jcmljdWxjdW0iLCJQb2xsZW56byIsIkNhcnRoYWdlIiwiTGVwdGlzIE1hZ25hIiwiTmFyYm9ubmUiLCJGbG9yZW5jZSIsIkx1Y2NhIiwiU2Fsb25hIiwiTm9jZXJhIiwiTVx1MDBlOXJpZGEiLCJTYWludGVzIiwiTHVjZXJhIiwiQ2FybnVudHVtIChDaXYuKSIsIk1pbnR1cm5vIiwiQXF1aW5jdW0gKE1pbGl0YXJ5KSIsIlBcdTAwZTlyaWd1ZXV4IiwiQm9yZGVhdXgiLCJEdXJyXHUwMGVicyIsIlB1bGEiLCJOaW1lcyIsIkNhZXNhcmVhIiwiUG9tcGVpaSIsIkFybGVzIiwiQmVyZ2FtYSIsIkNhbm9zYSIsIkFxdWlsZWlhIiwiQWx0aW51bSIsIkNoZXJjaGVsIiwiU3lyYWN1c2UiLCJUaHlzZHJ1cyAobGcuKSIsIkFzY29saSIsIk1ldHoiLCJQb3p6dW9saSAoRmxhdmlhbikiLCJBb3N0YSIsIkN5emljdXMiLCJWZXJvbmEiLCJBdXR1biIsIk1pbGFuIiwiVG91cnMiLCJJdGFsaWNhIiwiQ2FwdWEgSUkiLCJHcmFuZCIsIkNvbG9zc2V1bSJdfSwic2VsZWN0ZWQiOm51bGwsInNlbGVjdGlvbl9wb2xpY3kiOm51bGx9LCJpZCI6IjAxM2VjMWE0LTEzYzMtNDJjYy1iOGNjLTEzOTI4MTQ2NjNkMSIsInR5cGUiOiJDb2x1bW5EYXRhU291cmNlIn0seyJhdHRyaWJ1dGVzIjp7ImFjdGl2ZV9kcmFnIjoiYXV0byIsImFjdGl2ZV9pbnNwZWN0IjoiYXV0byIsImFjdGl2ZV9zY3JvbGwiOiJhdXRvIiwiYWN0aXZlX3RhcCI6ImF1dG8iLCJ0b29scyI6W3siaWQiOiIyZDM1MjJhNS1hYjU5LTQzZGItOTg0Yy1kMDY2YmU5NjQwMzgiLCJ0eXBlIjoiSG92ZXJUb29sIn0seyJpZCI6IjEwODM4YzQ1LTJiNmItNGI5YS05ZGNlLTQ3MWQzNzM4Y2MxOCIsInR5cGUiOiJTYXZlVG9vbCJ9LHsiaWQiOiI3MDlkOGE3NS0xZDYzLTQ2YzYtYmExNC03OGM0M2NiOWZiYzAiLCJ0eXBlIjoiUGFuVG9vbCJ9LHsiaWQiOiJmOGM4OThiMS02MmE5LTRlYWUtYjlhMS0zNTM2YzNiNGIxY2MiLCJ0eXBlIjoiV2hlZWxab29tVG9vbCJ9LHsiaWQiOiI2Zjk4ZTViMS03Y2FjLTQ3ZDYtYTMyYS1mMTdkYTZjYmMzMWIiLCJ0eXBlIjoiQm94Wm9vbVRvb2wifSx7ImlkIjoiNjVjMDEzZGQtZTUyNS00MjQ4LTg4NWUtMzkzZjA5Y2MwMWRhIiwidHlwZSI6IlJlc2V0VG9vbCJ9XX0sImlkIjoiMTkzMzMxY2MtMjRjMS00NjRiLWE3YWQtZmEzZTI1MmM4YzVkIiwidHlwZSI6IlRvb2xiYXIifSx7ImF0dHJpYnV0ZXMiOnsiZmlsbF9hbHBoYSI6eyJ2YWx1ZSI6MC4yfSwiZmlsbF9jb2xvciI6eyJ2YWx1ZSI6IiMzMGEyZGEifSwibGluZV9hbHBoYSI6eyJ2YWx1ZSI6MC4yfSwibGluZV9jb2xvciI6eyJ2YWx1ZSI6IiMzMGEyZGEifSwic2l6ZSI6eyJ1bml0cyI6InNjcmVlbiIsInZhbHVlIjoyLjQ0OTQ4OTc0Mjc4MzE3OH0sIngiOnsiZmllbGQiOiJpbmRleCJ9LCJ5Ijp7ImZpZWxkIjoiZXh0bWFqb3IifX0sImlkIjoiMTQ0NjkxMzktMDNlNC00NGNkLTlmMGQtZGU4MjIwYWNkM2U0IiwidHlwZSI6IkNpcmNsZSJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiZTY3YzdlN2YtZGY4My00ZTdiLTllMGItZTI5NWRhZWRjNTM5IiwidHlwZSI6IkJhc2ljVGlja0Zvcm1hdHRlciJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiYjY0MDRiMjctYzg1ZS00ODQ2LThlYzQtNGFlNjMyYzNkYTU1IiwidHlwZSI6IkJhc2ljVGlja0Zvcm1hdHRlciJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiZjQzY2VhY2UtZTgyMy00YTkxLThlY2MtYzM1NDY1NTE4YmI0IiwidHlwZSI6IkxpbmVhclNjYWxlIn0seyJhdHRyaWJ1dGVzIjp7ImRhdGFfc291cmNlIjp7ImlkIjoiMDEzZWMxYTQtMTNjMy00MmNjLWI4Y2MtMTM5MjgxNDY2M2QxIiwidHlwZSI6IkNvbHVtbkRhdGFTb3VyY2UifSwiZ2x5cGgiOnsiaWQiOiI0MWYwZTI0Mi04ZmI5LTQyMDAtOWE4OC1jNDdiZTc3ZDdhNDUiLCJ0eXBlIjoiQ2lyY2xlIn0sImhvdmVyX2dseXBoIjpudWxsLCJtdXRlZF9nbHlwaCI6eyJpZCI6IjE0NDY5MTM5LTAzZTQtNDRjZC05ZjBkLWRlODIyMGFjZDNlNCIsInR5cGUiOiJDaXJjbGUifSwibm9uc2VsZWN0aW9uX2dseXBoIjp7ImlkIjoiZTUzYzkxZmItOGNkYi00MjgzLTlkN2UtNmZhYmMxYzRiNmJlIiwidHlwZSI6IkNpcmNsZSJ9LCJzZWxlY3Rpb25fZ2x5cGgiOm51bGwsInZpZXciOnsiaWQiOiJhM2QwYmM1Mi0zNWM4LTRiN2EtYjY0OC02YmNlZjgzZDI1ODIiLCJ0eXBlIjoiQ0RTVmlldyJ9fSwiaWQiOiI2MmE1MTg4OS02YmJhLTQyOGItYjQ5ZC1lYTAyYmRiYzViOWIiLCJ0eXBlIjoiR2x5cGhSZW5kZXJlciJ9LHsiYXR0cmlidXRlcyI6eyJncmlkX2xpbmVfY29sb3IiOnsidmFsdWUiOm51bGx9LCJwbG90Ijp7ImlkIjoiYWIzMzIyOWUtMWMyMS00NDRhLWIwY2ItNTk5YmIwM2IwYjkwIiwic3VidHlwZSI6IkZpZ3VyZSIsInR5cGUiOiJQbG90In0sInRpY2tlciI6eyJpZCI6IjQ4OWVkMmQ3LWExNjItNGZjYi05ZTFmLWE1MGQyMjc2MjM5ZiIsInR5cGUiOiJCYXNpY1RpY2tlciJ9fSwiaWQiOiI2ZDQ5NTZkOS0yN2JhLTQ3NWQtODlhYy04NDFlY2IzZjg5NTMiLCJ0eXBlIjoiR3JpZCJ9LHsiYXR0cmlidXRlcyI6eyJheGlzX2xhYmVsIjoiaW5kZXgiLCJib3VuZHMiOiJhdXRvIiwiZm9ybWF0dGVyIjp7ImlkIjoiZTY3YzdlN2YtZGY4My00ZTdiLTllMGItZTI5NWRhZWRjNTM5IiwidHlwZSI6IkJhc2ljVGlja0Zvcm1hdHRlciJ9LCJtYWpvcl9sYWJlbF9vcmllbnRhdGlvbiI6Imhvcml6b250YWwiLCJwbG90Ijp7ImlkIjoiYWIzMzIyOWUtMWMyMS00NDRhLWIwY2ItNTk5YmIwM2IwYjkwIiwic3VidHlwZSI6IkZpZ3VyZSIsInR5cGUiOiJQbG90In0sInRpY2tlciI6eyJpZCI6IjQ4OWVkMmQ3LWExNjItNGZjYi05ZTFmLWE1MGQyMjc2MjM5ZiIsInR5cGUiOiJCYXNpY1RpY2tlciJ9fSwiaWQiOiJiMjUzNzBiNi1lMmE4LTQ1Y2YtOTBjZC1iYWRiNTVmMDc0MjciLCJ0eXBlIjoiTGluZWFyQXhpcyJ9LHsiYXR0cmlidXRlcyI6eyJjYWxsYmFjayI6bnVsbCwiZW5kIjoxNzh9LCJpZCI6IjhlOTQwNDRkLTRkY2EtNGEyZi1hYzIzLTQyOGMyOTRiYjU2NCIsInR5cGUiOiJSYW5nZTFkIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiI0ODllZDJkNy1hMTYyLTRmY2ItOWUxZi1hNTBkMjI3NjIzOWYiLCJ0eXBlIjoiQmFzaWNUaWNrZXIifSx7ImF0dHJpYnV0ZXMiOnsic291cmNlIjp7ImlkIjoiMDEzZWMxYTQtMTNjMy00MmNjLWI4Y2MtMTM5MjgxNDY2M2QxIiwidHlwZSI6IkNvbHVtbkRhdGFTb3VyY2UifX0sImlkIjoiYTNkMGJjNTItMzVjOC00YjdhLWI2NDgtNmJjZWY4M2QyNTgyIiwidHlwZSI6IkNEU1ZpZXcifSx7ImF0dHJpYnV0ZXMiOnsibGluZV9hbHBoYSI6eyJ2YWx1ZSI6MC41fSwibGluZV9jb2xvciI6eyJ2YWx1ZSI6InJlZCJ9LCJsaW5lX3dpZHRoIjp7InZhbHVlIjoyfSwibG9jYXRpb24iOjQyLjYsInBsb3QiOm51bGx9LCJpZCI6IjNkZThmOTZjLWEyMjMtNGZmOC04ODJkLWU0YzlkNzg0OWIyMyIsInR5cGUiOiJTcGFuIn0seyJhdHRyaWJ1dGVzIjp7ImF4aXNfbGFiZWwiOiJleHRtYWpvciIsImJvdW5kcyI6ImF1dG8iLCJmb3JtYXR0ZXIiOnsiaWQiOiJiNjQwNGIyNy1jODVlLTQ4NDYtOGVjNC00YWU2MzJjM2RhNTUiLCJ0eXBlIjoiQmFzaWNUaWNrRm9ybWF0dGVyIn0sIm1ham9yX2xhYmVsX29yaWVudGF0aW9uIjoiaG9yaXpvbnRhbCIsInBsb3QiOnsiaWQiOiJhYjMzMjI5ZS0xYzIxLTQ0NGEtYjBjYi01OTliYjAzYjBiOTAiLCJzdWJ0eXBlIjoiRmlndXJlIiwidHlwZSI6IlBsb3QifSwidGlja2VyIjp7ImlkIjoiYmU4OTE5YTgtNjlkYi00ZGRhLTg2YWUtZTRmMTU1YTE4NGMxIiwidHlwZSI6IkJhc2ljVGlja2VyIn19LCJpZCI6IjI5MjRlZTk1LTJjZTQtNGY1Mi1iZGZmLTE3YTUyNjIwYTdmZSIsInR5cGUiOiJMaW5lYXJBeGlzIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiJiZTg5MTlhOC02OWRiLTRkZGEtODZhZS1lNGYxNTVhMTg0YzEiLCJ0eXBlIjoiQmFzaWNUaWNrZXIifSx7ImF0dHJpYnV0ZXMiOnsiZGltZW5zaW9uIjoxLCJncmlkX2xpbmVfY29sb3IiOnsidmFsdWUiOm51bGx9LCJwbG90Ijp7ImlkIjoiYWIzMzIyOWUtMWMyMS00NDRhLWIwY2ItNTk5YmIwM2IwYjkwIiwic3VidHlwZSI6IkZpZ3VyZSIsInR5cGUiOiJQbG90In0sInRpY2tlciI6eyJpZCI6ImJlODkxOWE4LTY5ZGItNGRkYS04NmFlLWU0ZjE1NWExODRjMSIsInR5cGUiOiJCYXNpY1RpY2tlciJ9fSwiaWQiOiJhN2NkZjMzNi1mNjQ4LTQ3NDYtYWJhYy1hZThhOThiOWU4ZDMiLCJ0eXBlIjoiR3JpZCJ9LHsiYXR0cmlidXRlcyI6eyJmaWxsX2NvbG9yIjp7InZhbHVlIjoiIzMwYTJkYSJ9LCJsaW5lX2NvbG9yIjp7InZhbHVlIjoiIzMwYTJkYSJ9LCJzaXplIjp7InVuaXRzIjoic2NyZWVuIiwidmFsdWUiOjIuNDQ5NDg5NzQyNzgzMTc4fSwieCI6eyJmaWVsZCI6ImluZGV4In0sInkiOnsiZmllbGQiOiJleHRtYWpvciJ9fSwiaWQiOiI0MWYwZTI0Mi04ZmI5LTQyMDAtOWE4OC1jNDdiZTc3ZDdhNDUiLCJ0eXBlIjoiQ2lyY2xlIn0seyJhdHRyaWJ1dGVzIjp7ImJvdHRvbV91bml0cyI6InNjcmVlbiIsImZpbGxfYWxwaGEiOnsidmFsdWUiOjAuNX0sImZpbGxfY29sb3IiOnsidmFsdWUiOiJsaWdodGdyZXkifSwibGVmdF91bml0cyI6InNjcmVlbiIsImxldmVsIjoib3ZlcmxheSIsImxpbmVfYWxwaGEiOnsidmFsdWUiOjEuMH0sImxpbmVfY29sb3IiOnsidmFsdWUiOiJibGFjayJ9LCJsaW5lX2Rhc2giOls0LDRdLCJsaW5lX3dpZHRoIjp7InZhbHVlIjoyfSwicGxvdCI6bnVsbCwicmVuZGVyX21vZGUiOiJjc3MiLCJyaWdodF91bml0cyI6InNjcmVlbiIsInRvcF91bml0cyI6InNjcmVlbiJ9LCJpZCI6IjQ3ZTA3MjY1LWNmZmYtNGM0OS04OTU5LWFhMjE5NjNlNWViZCIsInR5cGUiOiJCb3hBbm5vdGF0aW9uIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiIxMDgzOGM0NS0yYjZiLTRiOWEtOWRjZS00NzFkMzczOGNjMTgiLCJ0eXBlIjoiU2F2ZVRvb2wifSx7ImF0dHJpYnV0ZXMiOnsiYmVsb3ciOlt7ImlkIjoiYjI1MzcwYjYtZTJhOC00NWNmLTkwY2QtYmFkYjU1ZjA3NDI3IiwidHlwZSI6IkxpbmVhckF4aXMifV0sImxlZnQiOlt7ImlkIjoiMjkyNGVlOTUtMmNlNC00ZjUyLWJkZmYtMTdhNTI2MjBhN2ZlIiwidHlwZSI6IkxpbmVhckF4aXMifV0sIm1pbl9ib3JkZXJfYm90dG9tIjoxMCwibWluX2JvcmRlcl9sZWZ0IjoxMCwibWluX2JvcmRlcl9yaWdodCI6MTAsIm1pbl9ib3JkZXJfdG9wIjoxMCwicGxvdF9oZWlnaHQiOjMwMCwicGxvdF93aWR0aCI6NDAwLCJyZW5kZXJlcnMiOlt7ImlkIjoiYjI1MzcwYjYtZTJhOC00NWNmLTkwY2QtYmFkYjU1ZjA3NDI3IiwidHlwZSI6IkxpbmVhckF4aXMifSx7ImlkIjoiNmQ0OTU2ZDktMjdiYS00NzVkLTg5YWMtODQxZWNiM2Y4OTUzIiwidHlwZSI6IkdyaWQifSx7ImlkIjoiMjkyNGVlOTUtMmNlNC00ZjUyLWJkZmYtMTdhNTI2MjBhN2ZlIiwidHlwZSI6IkxpbmVhckF4aXMifSx7ImlkIjoiYTdjZGYzMzYtZjY0OC00NzQ2LWFiYWMtYWU4YTk4YjllOGQzIiwidHlwZSI6IkdyaWQifSx7ImlkIjoiNDdlMDcyNjUtY2ZmZi00YzQ5LTg5NTktYWEyMTk2M2U1ZWJkIiwidHlwZSI6IkJveEFubm90YXRpb24ifSx7ImlkIjoiNjJhNTE4ODktNmJiYS00MjhiLWI0OWQtZWEwMmJkYmM1YjliIiwidHlwZSI6IkdseXBoUmVuZGVyZXIifSx7ImlkIjoiM2RlOGY5NmMtYTIyMy00ZmY4LTg4MmQtZTRjOWQ3ODQ5YjIzIiwidHlwZSI6IlNwYW4ifV0sInRpdGxlIjp7ImlkIjoiMDI5NTRiNzctOTg2Ny00MDJlLTgxM2UtMzczMTQxNzMyZjk0IiwidHlwZSI6IlRpdGxlIn0sInRvb2xiYXIiOnsiaWQiOiIxOTMzMzFjYy0yNGMxLTQ2NGItYTdhZC1mYTNlMjUyYzhjNWQiLCJ0eXBlIjoiVG9vbGJhciJ9LCJ4X3JhbmdlIjp7ImlkIjoiOGU5NDA0NGQtNGRjYS00YTJmLWFjMjMtNDI4YzI5NGJiNTY0IiwidHlwZSI6IlJhbmdlMWQifSwieF9zY2FsZSI6eyJpZCI6IjNiMTAwMzc0LTA0MDktNDhhOC1hN2YxLTk1ZjU2OWVmNWE4ZiIsInR5cGUiOiJMaW5lYXJTY2FsZSJ9LCJ5X3JhbmdlIjp7ImlkIjoiM2U4YmU5MjctM2I0NC00YzBlLWFmNzItMGQyZjk0MWNlYTJmIiwidHlwZSI6IlJhbmdlMWQifSwieV9zY2FsZSI6eyJpZCI6ImY0M2NlYWNlLWU4MjMtNGE5MS04ZWNjLWMzNTQ2NTUxOGJiNCIsInR5cGUiOiJMaW5lYXJTY2FsZSJ9fSwiaWQiOiJhYjMzMjI5ZS0xYzIxLTQ0NGEtYjBjYi01OTliYjAzYjBiOTAiLCJzdWJ0eXBlIjoiRmlndXJlIiwidHlwZSI6IlBsb3QifSx7ImF0dHJpYnV0ZXMiOnsiZmlsbF9hbHBoYSI6eyJ2YWx1ZSI6MC4xfSwiZmlsbF9jb2xvciI6eyJ2YWx1ZSI6IiMzMGEyZGEifSwibGluZV9hbHBoYSI6eyJ2YWx1ZSI6MC4xfSwibGluZV9jb2xvciI6eyJ2YWx1ZSI6IiMzMGEyZGEifSwic2l6ZSI6eyJ1bml0cyI6InNjcmVlbiIsInZhbHVlIjoyLjQ0OTQ4OTc0Mjc4MzE3OH0sIngiOnsiZmllbGQiOiJpbmRleCJ9LCJ5Ijp7ImZpZWxkIjoiZXh0bWFqb3IifX0sImlkIjoiZTUzYzkxZmItOGNkYi00MjgzLTlkN2UtNmZhYmMxYzRiNmJlIiwidHlwZSI6IkNpcmNsZSJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiNzA5ZDhhNzUtMWQ2My00NmM2LWJhMTQtNzhjNDNjYjlmYmMwIiwidHlwZSI6IlBhblRvb2wifSx7ImF0dHJpYnV0ZXMiOnsiY2FsbGJhY2siOm51bGwsInJlbmRlcmVycyI6W3siaWQiOiI2MmE1MTg4OS02YmJhLTQyOGItYjQ5ZC1lYTAyYmRiYzViOWIiLCJ0eXBlIjoiR2x5cGhSZW5kZXJlciJ9XSwidG9vbHRpcHMiOltbIiIsIjxiPkBsYWJlbDwvYj4iXV19LCJpZCI6IjJkMzUyMmE1LWFiNTktNDNkYi05ODRjLWQwNjZiZTk2NDAzOCIsInR5cGUiOiJIb3ZlclRvb2wifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6ImY4Yzg5OGIxLTYyYTktNGVhZS1iOWExLTM1MzZjM2I0YjFjYyIsInR5cGUiOiJXaGVlbFpvb21Ub29sIn1dLCJyb290X2lkcyI6WyJhYjMzMjI5ZS0xYzIxLTQ0NGEtYjBjYi01OTliYjAzYjBiOTAiXX0sInRpdGxlIjoiQm9rZWggQXBwbGljYXRpb24iLCJ2ZXJzaW9uIjoiMC4xMi4xNSJ9fTsKICB2YXIgcmVuZGVyX2l0ZW1zID0gW3siZG9jaWQiOiJlYmY1YTlkNy1lYmQxLTQwZTUtOWJhNi04MWIzNGUzOTZhZDIiLCJlbGVtZW50aWQiOiIxOGRjMDFmMi04NDI2LTRkMTUtOTVkMi1mMTdlYTE4NmRhNDMiLCJtb2RlbGlkIjoiYWIzMzIyOWUtMWMyMS00NDRhLWIwY2ItNTk5YmIwM2IwYjkwIn1dOwogIHJvb3QuQm9rZWguZW1iZWQuZW1iZWRfaXRlbXNfbm90ZWJvb2soZG9jc19qc29uLCByZW5kZXJfaXRlbXMpOwoKICB9CiAgaWYgKHJvb3QuQm9rZWggIT09IHVuZGVmaW5lZCkgewogICAgZW1iZWRfZG9jdW1lbnQocm9vdCk7CiAgfSBlbHNlIHsKICAgIHZhciBhdHRlbXB0cyA9IDA7CiAgICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbihyb290KSB7CiAgICAgIGlmIChyb290LkJva2VoICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBlbWJlZF9kb2N1bWVudChyb290KTsKICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgfQogICAgICBhdHRlbXB0cysrOwogICAgICBpZiAoYXR0ZW1wdHMgPiAxMDApIHsKICAgICAgICBjb25zb2xlLmxvZygiQm9rZWg6IEVSUk9SOiBVbmFibGUgdG8gcnVuIEJva2VoSlMgY29kZSBiZWNhdXNlIEJva2VoSlMgbGlicmFyeSBpcyBtaXNzaW5nIikKICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgfQogICAgfSwgMTAsIHJvb3QpCiAgfQp9KSh3aW5kb3cpOwo8L3NjcmlwdD4KPC9kaXY+" width="450" style="border:none !important;" height="300"></iframe>')[0];
                popup_ebd151e9236640e98d1ac1f8d161faf2.setContent(i_frame_2e1e33a1e4074fbb9494546f9a220ff0);
            

            circle_marker_cf6df0383e894bd2a253c2496b8a84af.bindPopup(popup_ebd151e9236640e98d1ac1f8d161faf2);

            
        
    
            var circle_marker_fc2080803df34e24a90f8cb9bf329274 = L.circleMarker(
                [41.482933,13.823575],
                {
  "bubblingMouseEvents": true,
  "color": "red",
  "dashArray": null,
  "dashOffset": null,
  "fill": true,
  "fillColor": "red",
  "fillOpacity": 0.2,
  "fillRule": "evenodd",
  "lineCap": "round",
  "lineJoin": "round",
  "opacity": 1.0,
  "radius": 5,
  "stroke": true,
  "weight": 3
}
                ).addTo(map_69ad4b6db8094a879ee84b263615b2cf);
            
    
            var popup_3234d1d2426447178228ce64ca25bdee = L.popup({maxWidth: '2650'});

            
                var i_frame_d0880890786b47728a09d3f0e628c5d5 = $('<iframe src="data:text/html;charset=utf-8;base64,CiAgICAKPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC13aWRnZXRzLTAuMTIuMTUubWluLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4ucHlkYXRhLm9yZy9ib2tlaC9yZWxlYXNlL2Jva2VoLXRhYmxlcy0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC1nbC0wLjEyLjE1Lm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuNC5taW4uanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+CjxzY3JpcHQgc3JjPSJodHRwczovL2NvZGUuanF1ZXJ5LmNvbS91aS8xLjEwLjQvanF1ZXJ5LXVpLm1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3JlcXVpcmUuanMvMi4xLjIwL3JlcXVpcmUubWluLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvdW5kZXJzY29yZS5qcy8xLjguMy91bmRlcnNjb3JlLW1pbi5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPmZ1bmN0aW9uIEhvbG9WaWV3c1dpZGdldCgpIHsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5pbml0X3NsaWRlciA9IGZ1bmN0aW9uKGluaXRfdmFsKXsKICBpZih0aGlzLmxvYWRfanNvbikgewogICAgdGhpcy5mcm9tX2pzb24oKQogIH0gZWxzZSB7CiAgICB0aGlzLnVwZGF0ZV9jYWNoZSgpOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5wb3B1bGF0ZV9jYWNoZSA9IGZ1bmN0aW9uKGlkeCl7CiAgdGhpcy5jYWNoZVtpZHhdLmlubmVySFRNTCA9IHRoaXMuZnJhbWVzW2lkeF07CiAgaWYgKHRoaXMuZW1iZWQpIHsKICAgIGRlbGV0ZSB0aGlzLmZyYW1lc1tpZHhdOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5wcm9jZXNzX2Vycm9yID0gZnVuY3Rpb24obXNnKXsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5mcm9tX2pzb24gPSBmdW5jdGlvbigpIHsKICB2YXIgZGF0YV91cmwgPSB0aGlzLmpzb25fcGF0aCArIHRoaXMuaWQgKyAnLmpzb24nOwogICQuZ2V0SlNPTihkYXRhX3VybCwgJC5wcm94eShmdW5jdGlvbihqc29uX2RhdGEpIHsKICAgIHRoaXMuZnJhbWVzID0ganNvbl9kYXRhOwogICAgdGhpcy51cGRhdGVfY2FjaGUoKTsKICAgIHRoaXMudXBkYXRlKDApOwogIH0sIHRoaXMpKTsKfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5keW5hbWljX3VwZGF0ZSA9IGZ1bmN0aW9uKGN1cnJlbnQpewogIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHsKICAgIHJldHVybgogIH0KICB0aGlzLmN1cnJlbnQgPSBjdXJyZW50OwogIGlmICh0aGlzLmNvbW0pIHsKICAgIHZhciBtc2cgPSB7Y29tbV9pZDogdGhpcy5pZCsnX2NsaWVudCcsIGNvbnRlbnQ6IGN1cnJlbnR9CiAgICB0aGlzLmNvbW0uc2VuZChtc2cpOwogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS51cGRhdGVfY2FjaGUgPSBmdW5jdGlvbihmb3JjZSl7CiAgdmFyIGZyYW1lX2xlbiA9IE9iamVjdC5rZXlzKHRoaXMuZnJhbWVzKS5sZW5ndGg7CiAgZm9yICh2YXIgaT0wOyBpPGZyYW1lX2xlbjsgaSsrKSB7CiAgICBpZighdGhpcy5sb2FkX2pzb24gfHwgdGhpcy5keW5hbWljKSAgewogICAgICB2YXIgZnJhbWUgPSBPYmplY3Qua2V5cyh0aGlzLmZyYW1lcylbaV07CiAgICB9IGVsc2UgewogICAgICB2YXIgZnJhbWUgPSBpOwogICAgfQogICAgaWYoIShmcmFtZSBpbiB0aGlzLmNhY2hlKSB8fCBmb3JjZSkgewogICAgICBpZiAoKGZyYW1lIGluIHRoaXMuY2FjaGUpICYmIGZvcmNlKSB7IHRoaXMuY2FjaGVbZnJhbWVdLnJlbW92ZSgpIH0KICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB2YXIgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIl9hbmltX2ltZyIrdGhpcy5pZCk7CiAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZGl2KQogICAgICB0aGlzLmNhY2hlW2ZyYW1lXSA9IGRpdjsKICAgICAgdmFyIGNhY2hlX2lkID0gIl9hbmltX2ltZyIrdGhpcy5pZCsiXyIrZnJhbWU7CiAgICAgIHRoaXMucG9wdWxhdGVfY2FjaGUoZnJhbWUpOwogICAgfQogIH0KfQoKSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjdXJyZW50KXsKICBpZihjdXJyZW50IGluIHRoaXMuY2FjaGUpIHsKICAgIGZvciAodmFyIGluZGV4IGluIHRoaXMuY2FjaGUpIHsKICAgICAgdGhpcy5jYWNoZVtpbmRleF0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0KICAgIHRoaXMuY2FjaGVbY3VycmVudF0uc3R5bGUuZGlzcGxheSA9ICIiOwogICAgdGhpcy53YWl0ID0gZmFsc2U7CiAgfQp9CgpIb2xvVmlld3NXaWRnZXQucHJvdG90eXBlLmluaXRfY29tbXMgPSBmdW5jdGlvbigpIHsKICB2YXIgdGhhdCA9IHRoaXMKICBIb2xvVmlld3MuY29tbV9tYW5hZ2VyLnJlZ2lzdGVyX3RhcmdldCh0aGlzLnBsb3RfaWQsIHRoaXMuaWQsIGZ1bmN0aW9uIChtc2cpIHsgdGhhdC5wcm9jZXNzX21zZyhtc2cpIH0pCiAgaWYgKCF0aGlzLmNhY2hlZCB8fCB0aGlzLmR5bmFtaWMpIHsKICAgIGZ1bmN0aW9uIGFja19jYWxsYmFjayhtc2cpIHsKICAgICAgbXNnID0gSlNPTi5wYXJzZShtc2cuY29udGVudC5kYXRhKTsKICAgICAgdmFyIGNvbW1faWQgPSBtc2dbImNvbW1faWQiXQogICAgICB2YXIgY29tbV9zdGF0dXMgPSBIb2xvVmlld3MuY29tbV9zdGF0dXNbY29tbV9pZF07CiAgICAgIGlmICh0aGF0LnF1ZXVlLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGF0LnRpbWUgPSBEYXRlLm5vdygpOwogICAgICAgIHRoYXQuZHluYW1pY191cGRhdGUodGhhdC5xdWV1ZVt0aGF0LnF1ZXVlLmxlbmd0aC0xXSk7CiAgICAgICAgdGhhdC5xdWV1ZSA9IFtdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoYXQud2FpdCA9IGZhbHNlOwogICAgICB9CiAgICAgIGlmICgobXNnLm1zZ190eXBlID09ICJSZWFkeSIpICYmIG1zZy5jb250ZW50KSB7CiAgICAgICAgY29uc29sZS5sb2coIlB5dGhvbiBjYWxsYmFjayByZXR1cm5lZCBmb2xsb3dpbmcgb3V0cHV0OiIsIG1zZy5jb250ZW50KTsKICAgICAgfSBlbHNlIGlmIChtc2cubXNnX3R5cGUgPT0gIkVycm9yIikgewogICAgICAgIGNvbnNvbGUubG9nKCJQeXRob24gZmFpbGVkIHdpdGggdGhlIGZvbGxvd2luZyB0cmFjZWJhY2s6IiwgbXNnWyd0cmFjZWJhY2snXSkKICAgICAgfQogICAgfQogICAgdmFyIGNvbW0gPSBIb2xvVmlld3MuY29tbV9tYW5hZ2VyLmdldF9jbGllbnRfY29tbSh0aGlzLnBsb3RfaWQsIHRoaXMuaWQrJ19jbGllbnQnLCBhY2tfY2FsbGJhY2spOwogICAgcmV0dXJuIGNvbW0KICB9Cn0KCkhvbG9WaWV3c1dpZGdldC5wcm90b3R5cGUucHJvY2Vzc19tc2cgPSBmdW5jdGlvbihtc2cpIHsKfQoKZnVuY3Rpb24gU2VsZWN0aW9uV2lkZ2V0KGZyYW1lcywgaWQsIHNsaWRlcl9pZHMsIGtleU1hcCwgZGltX3ZhbHMsIG5vdEZvdW5kLCBsb2FkX2pzb24sIG1vZGUsIGNhY2hlZCwganNvbl9wYXRoLCBkeW5hbWljLCBwbG90X2lkKXsKICB0aGlzLmZyYW1lcyA9IGZyYW1lczsKICB0aGlzLmlkID0gaWQ7CiAgdGhpcy5wbG90X2lkID0gcGxvdF9pZDsKICB0aGlzLnNsaWRlcl9pZHMgPSBzbGlkZXJfaWRzOwogIHRoaXMua2V5TWFwID0ga2V5TWFwCiAgdGhpcy5jdXJyZW50X2ZyYW1lID0gMDsKICB0aGlzLmN1cnJlbnRfdmFscyA9IGRpbV92YWxzOwogIHRoaXMubG9hZF9qc29uID0gbG9hZF9qc29uOwogIHRoaXMubW9kZSA9IG1vZGU7CiAgdGhpcy5ub3RGb3VuZCA9IG5vdEZvdW5kOwogIHRoaXMuY2FjaGVkID0gY2FjaGVkOwogIHRoaXMuZHluYW1pYyA9IGR5bmFtaWM7CiAgdGhpcy5jYWNoZSA9IHt9OwogIHRoaXMuanNvbl9wYXRoID0ganNvbl9wYXRoOwogIHRoaXMuaW5pdF9zbGlkZXIodGhpcy5jdXJyZW50X3ZhbHNbMF0pOwogIHRoaXMucXVldWUgPSBbXTsKICB0aGlzLndhaXQgPSBmYWxzZTsKICBpZiAoIXRoaXMuY2FjaGVkIHx8IHRoaXMuZHluYW1pYykgewogICAgdGhpcy5jb21tID0gdGhpcy5pbml0X2NvbW1zKCk7CiAgfQp9CgpTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlID0gbmV3IEhvbG9WaWV3c1dpZGdldDsKCgpTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlLmdldF9rZXkgPSBmdW5jdGlvbihjdXJyZW50X3ZhbHMpIHsKICB2YXIga2V5ID0gIigiOwogIGZvciAodmFyIGk9MDsgaTx0aGlzLnNsaWRlcl9pZHMubGVuZ3RoOyBpKyspCiAgewogICAgdmFyIHZhbCA9IHRoaXMuY3VycmVudF92YWxzW2ldOwogICAgaWYgKCEodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpKSB7CiAgICAgIGlmICh2YWwgJSAxID09PSAwKSB7IHZhbCA9IHZhbC50b0ZpeGVkKDEpOyB9CiAgICAgIGVsc2UgeyB2YWwgPSB2YWwudG9GaXhlZCgxMCk7IHZhbCA9IHZhbC5zbGljZSgwLCB2YWwubGVuZ3RoLTEpO30KICAgIH0KICAgIGtleSArPSAiJyIgKyB2YWwgKyAiJyI7CiAgICBpZihpICE9IHRoaXMuc2xpZGVyX2lkcy5sZW5ndGgtMSkgeyBrZXkgKz0gJywgJzt9CiAgICBlbHNlIGlmKHRoaXMuc2xpZGVyX2lkcy5sZW5ndGggPT0gMSkgeyBrZXkgKz0gJywnO30KICB9CiAga2V5ICs9ICIpIjsKICByZXR1cm4gdGhpcy5rZXlNYXBba2V5XTsKfQoKU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZS5zZXRfZnJhbWUgPSBmdW5jdGlvbihkaW1fdmFsLCBkaW1faWR4KXsKICB0aGlzLmN1cnJlbnRfdmFsc1tkaW1faWR4XSA9IGRpbV92YWw7CiAgdmFyIGtleSA9IHRoaXMuY3VycmVudF92YWxzOwogIGlmICghdGhpcy5keW5hbWljKSB7CiAgICBrZXkgPSB0aGlzLmdldF9rZXkoa2V5KQogIH0KICBpZiAodGhpcy5keW5hbWljIHx8ICF0aGlzLmNhY2hlZCkgewogICAgaWYgKCh0aGlzLnRpbWUgIT09IHVuZGVmaW5lZCkgJiYgKCh0aGlzLndhaXQpICYmICgodGhpcy50aW1lICsgMTAwMDApID4gRGF0ZS5ub3coKSkpKSB7CiAgICAgIHRoaXMucXVldWUucHVzaChrZXkpOwogICAgICByZXR1cm4KICAgIH0KICAgIHRoaXMucXVldWUgPSBbXTsKICAgIHRoaXMudGltZSA9IERhdGUubm93KCk7CiAgICB0aGlzLmN1cnJlbnRfZnJhbWUgPSBrZXk7CiAgICB0aGlzLndhaXQgPSB0cnVlOwogICAgdGhpcy5keW5hbWljX3VwZGF0ZShrZXkpCiAgfSBlbHNlIGlmIChrZXkgIT09IHVuZGVmaW5lZCkgewogICAgdGhpcy51cGRhdGUoa2V5KQogIH0KfQoKCi8qIERlZmluZSB0aGUgU2NydWJiZXJXaWRnZXQgY2xhc3MgKi8KZnVuY3Rpb24gU2NydWJiZXJXaWRnZXQoZnJhbWVzLCBudW1fZnJhbWVzLCBpZCwgaW50ZXJ2YWwsIGxvYWRfanNvbiwgbW9kZSwgY2FjaGVkLCBqc29uX3BhdGgsIGR5bmFtaWMsIHBsb3RfaWQpewogIHRoaXMuc2xpZGVyX2lkID0gIl9hbmltX3NsaWRlciIgKyBpZDsKICB0aGlzLmxvb3Bfc2VsZWN0X2lkID0gIl9hbmltX2xvb3Bfc2VsZWN0IiArIGlkOwogIHRoaXMuaWQgPSBpZDsKICB0aGlzLnBsb3RfaWQgPSBwbG90X2lkOwogIHRoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbDsKICB0aGlzLmN1cnJlbnRfZnJhbWUgPSAwOwogIHRoaXMuZGlyZWN0aW9uID0gMDsKICB0aGlzLmR5bmFtaWMgPSBkeW5hbWljOwogIHRoaXMudGltZXIgPSBudWxsOwogIHRoaXMubG9hZF9qc29uID0gbG9hZF9qc29uOwogIHRoaXMubW9kZSA9IG1vZGU7CiAgdGhpcy5jYWNoZWQgPSBjYWNoZWQ7CiAgdGhpcy5mcmFtZXMgPSBmcmFtZXM7CiAgdGhpcy5jYWNoZSA9IHt9OwogIHRoaXMubGVuZ3RoID0gbnVtX2ZyYW1lczsKICB0aGlzLmpzb25fcGF0aCA9IGpzb25fcGF0aDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNsaWRlcl9pZCkubWF4ID0gdGhpcy5sZW5ndGggLSAxOwogIHRoaXMuaW5pdF9zbGlkZXIoMCk7CiAgdGhpcy53YWl0ID0gZmFsc2U7CiAgdGhpcy5xdWV1ZSA9IFtdOwogIGlmICghdGhpcy5jYWNoZWQgfHwgdGhpcy5keW5hbWljKSB7CiAgICB0aGlzLmNvbW0gPSB0aGlzLmluaXRfY29tbXMoKQogIH0KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlID0gbmV3IEhvbG9WaWV3c1dpZGdldDsKClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5zZXRfZnJhbWUgPSBmdW5jdGlvbihmcmFtZSl7CiAgdGhpcy5jdXJyZW50X2ZyYW1lID0gZnJhbWU7CiAgdmFyIHdpZGdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2xpZGVyX2lkKTsKICBpZiAod2lkZ2V0ID09PSBudWxsKSB7CiAgICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogICAgcmV0dXJuCiAgfQogIHdpZGdldC52YWx1ZSA9IHRoaXMuY3VycmVudF9mcmFtZTsKICBpZih0aGlzLmNhY2hlZCkgewogICAgdGhpcy51cGRhdGUoZnJhbWUpCiAgfSBlbHNlIHsKICAgIHRoaXMuZHluYW1pY191cGRhdGUoZnJhbWUpCiAgfQp9CgoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmdldF9sb29wX3N0YXRlID0gZnVuY3Rpb24oKXsKICB2YXIgYnV0dG9uX2dyb3VwID0gZG9jdW1lbnRbdGhpcy5sb29wX3NlbGVjdF9pZF0uc3RhdGU7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25fZ3JvdXAubGVuZ3RoOyBpKyspIHsKICAgIHZhciBidXR0b24gPSBidXR0b25fZ3JvdXBbaV07CiAgICBpZiAoYnV0dG9uLmNoZWNrZWQpIHsKICAgICAgcmV0dXJuIGJ1dHRvbi52YWx1ZTsKICAgIH0KICB9CiAgcmV0dXJuIHVuZGVmaW5lZDsKfQoKClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5uZXh0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUoTWF0aC5taW4odGhpcy5sZW5ndGggLSAxLCB0aGlzLmN1cnJlbnRfZnJhbWUgKyAxKSk7Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5wcmV2aW91c19mcmFtZSA9IGZ1bmN0aW9uKCkgewogIHRoaXMuc2V0X2ZyYW1lKE1hdGgubWF4KDAsIHRoaXMuY3VycmVudF9mcmFtZSAtIDEpKTsKfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmZpcnN0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUoMCk7Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5sYXN0X2ZyYW1lID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5zZXRfZnJhbWUodGhpcy5sZW5ndGggLSAxKTsKfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLnNsb3dlciA9IGZ1bmN0aW9uKCkgewogIHRoaXMuaW50ZXJ2YWwgLz0gMC43OwogIGlmKHRoaXMuZGlyZWN0aW9uID4gMCl7dGhpcy5wbGF5X2FuaW1hdGlvbigpO30KICBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uIDwgMCl7dGhpcy5yZXZlcnNlX2FuaW1hdGlvbigpO30KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmZhc3RlciA9IGZ1bmN0aW9uKCkgewogIHRoaXMuaW50ZXJ2YWwgKj0gMC43OwogIGlmKHRoaXMuZGlyZWN0aW9uID4gMCl7dGhpcy5wbGF5X2FuaW1hdGlvbigpO30KICBlbHNlIGlmKHRoaXMuZGlyZWN0aW9uIDwgMCl7dGhpcy5yZXZlcnNlX2FuaW1hdGlvbigpO30KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLmFuaW1fc3RlcF9mb3J3YXJkID0gZnVuY3Rpb24oKSB7CiAgaWYodGhpcy5jdXJyZW50X2ZyYW1lIDwgdGhpcy5sZW5ndGggLSAxKXsKICAgIHRoaXMubmV4dF9mcmFtZSgpOwogIH1lbHNlewogICAgdmFyIGxvb3Bfc3RhdGUgPSB0aGlzLmdldF9sb29wX3N0YXRlKCk7CiAgICBpZihsb29wX3N0YXRlID09ICJsb29wIil7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgIH1lbHNlIGlmKGxvb3Bfc3RhdGUgPT0gInJlZmxlY3QiKXsKICAgICAgdGhpcy5sYXN0X2ZyYW1lKCk7CiAgICAgIHRoaXMucmV2ZXJzZV9hbmltYXRpb24oKTsKICAgIH1lbHNlewogICAgICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogICAgICB0aGlzLmxhc3RfZnJhbWUoKTsKICAgIH0KICB9Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5hbmltX3N0ZXBfcmV2ZXJzZSA9IGZ1bmN0aW9uKCkgewogIGlmKHRoaXMuY3VycmVudF9mcmFtZSA+IDApewogICAgdGhpcy5wcmV2aW91c19mcmFtZSgpOwogIH0gZWxzZSB7CiAgICB2YXIgbG9vcF9zdGF0ZSA9IHRoaXMuZ2V0X2xvb3Bfc3RhdGUoKTsKICAgIGlmKGxvb3Bfc3RhdGUgPT0gImxvb3AiKXsKICAgICAgdGhpcy5sYXN0X2ZyYW1lKCk7CiAgICB9ZWxzZSBpZihsb29wX3N0YXRlID09ICJyZWZsZWN0Iil7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgICAgdGhpcy5wbGF5X2FuaW1hdGlvbigpOwogICAgfWVsc2V7CiAgICAgIHRoaXMucGF1c2VfYW5pbWF0aW9uKCk7CiAgICAgIHRoaXMuZmlyc3RfZnJhbWUoKTsKICAgIH0KICB9Cn0KClNjcnViYmVyV2lkZ2V0LnByb3RvdHlwZS5wYXVzZV9hbmltYXRpb24gPSBmdW5jdGlvbigpIHsKICB0aGlzLmRpcmVjdGlvbiA9IDA7CiAgaWYgKHRoaXMudGltZXIpewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIHRoaXMudGltZXIgPSBudWxsOwogIH0KfQoKU2NydWJiZXJXaWRnZXQucHJvdG90eXBlLnBsYXlfYW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5wYXVzZV9hbmltYXRpb24oKTsKICB0aGlzLmRpcmVjdGlvbiA9IDE7CiAgdmFyIHQgPSB0aGlzOwogIGlmICghdGhpcy50aW1lcikgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5hbmltX3N0ZXBfZm9yd2FyZCgpO30sIHRoaXMuaW50ZXJ2YWwpOwp9CgpTY3J1YmJlcldpZGdldC5wcm90b3R5cGUucmV2ZXJzZV9hbmltYXRpb24gPSBmdW5jdGlvbigpIHsKICB0aGlzLnBhdXNlX2FuaW1hdGlvbigpOwogIHRoaXMuZGlyZWN0aW9uID0gLTE7CiAgdmFyIHQgPSB0aGlzOwogIGlmICghdGhpcy50aW1lcikgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5hbmltX3N0ZXBfcmV2ZXJzZSgpO30sIHRoaXMuaW50ZXJ2YWwpOwp9CgpmdW5jdGlvbiBleHRlbmQoZGVzdGluYXRpb24sIHNvdXJjZSkgewogIGZvciAodmFyIGsgaW4gc291cmNlKSB7CiAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGspKSB7CiAgICAgIGRlc3RpbmF0aW9uW2tdID0gc291cmNlW2tdOwogICAgfQogIH0KICByZXR1cm4gZGVzdGluYXRpb247Cn0KCmZ1bmN0aW9uIHVwZGF0ZV93aWRnZXQod2lkZ2V0LCB2YWx1ZXMpIHsKICBpZiAod2lkZ2V0Lmhhc0NsYXNzKCJ1aS1zbGlkZXIiKSkgewogICAgd2lkZ2V0LnNsaWRlcignb3B0aW9uJywgewogICAgICBtaW46IDAsCiAgICAgIG1heDogdmFsdWVzLmxlbmd0aC0xLAogICAgICBkaW1fdmFsczogdmFsdWVzLAogICAgICB2YWx1ZTogMCwKICAgICAgZGltX2xhYmVsczogdmFsdWVzCiAgICB9KQogICAgd2lkZ2V0LnNsaWRlcignb3B0aW9uJywgJ3NsaWRlJykuY2FsbCh3aWRnZXQsIGV2ZW50LCB7dmFsdWU6IDB9KQogIH0gZWxzZSB7CiAgICB3aWRnZXQuZW1wdHkoKTsKICAgIGZvciAodmFyIGk9MDsgaTx2YWx1ZXMubGVuZ3RoOyBpKyspewogICAgICB3aWRnZXQuYXBwZW5kKCQoIjxvcHRpb24+IiwgewogICAgICAgIHZhbHVlOiBpLAogICAgICAgIHRleHQ6IHZhbHVlc1tpXQogICAgICB9KSkKICAgIH07CiAgICB3aWRnZXQuZGF0YSgndmFsdWVzJywgdmFsdWVzKTsKICAgIHdpZGdldC5kYXRhKCd2YWx1ZScsIDApOwogICAgd2lkZ2V0LnRyaWdnZXIoImNoYW5nZSIpOwogIH07Cn0KCmZ1bmN0aW9uIGluaXRfc2xpZGVyKGlkLCBwbG90X2lkLCBkaW0sIHZhbHVlcywgbmV4dF92YWxzLCBsYWJlbHMsIGR5bmFtaWMsIHN0ZXAsIHZhbHVlLCBuZXh0X2RpbSwKICAgICAgICAgICAgICAgICAgICAgZGltX2lkeCwgZGVsYXksIGpRdWVyeVVJX0NETiwgVU5ERVJTQ09SRV9DRE4pIHsKICAvLyBTbGlkZXIgSlMgQmxvY2sgU1RBUlQKICBmdW5jdGlvbiBsb2FkY3NzZmlsZShmaWxlbmFtZSl7CiAgICB2YXIgZmlsZXJlZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIikKICAgIGZpbGVyZWYuc2V0QXR0cmlidXRlKCJyZWwiLCAic3R5bGVzaGVldCIpCiAgICBmaWxlcmVmLnNldEF0dHJpYnV0ZSgidHlwZSIsICJ0ZXh0L2NzcyIpCiAgICBmaWxlcmVmLnNldEF0dHJpYnV0ZSgiaHJlZiIsIGZpbGVuYW1lKQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChmaWxlcmVmKQogIH0KICBsb2FkY3NzZmlsZSgiaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vdWkvMS4xMC40L3RoZW1lcy9zbW9vdGhuZXNzL2pxdWVyeS11aS5jc3MiKTsKICAvKiBDaGVjayBpZiBqUXVlcnkgYW5kIGpRdWVyeVVJIGhhdmUgYmVlbiBsb2FkZWQKICAgICBvdGhlcndpc2UgbG9hZCB3aXRoIHJlcXVpcmUuanMgKi8KICB2YXIgalF1ZXJ5ID0gd2luZG93LmpRdWVyeSwKICAgIC8vIGNoZWNrIGZvciBvbGQgdmVyc2lvbnMgb2YgalF1ZXJ5CiAgICBvbGRqUXVlcnkgPSBqUXVlcnkgJiYgISFqUXVlcnkuZm4uanF1ZXJ5Lm1hdGNoKC9eMVwuWzAtNF0oXC58JCkvKSwKICAgIGpxdWVyeV9wYXRoID0gJycsCiAgICBwYXRocyA9IHt9LAogICAgbm9Db25mbGljdDsKICB2YXIgalF1ZXJ5VUkgPSBqUXVlcnkudWk7CiAgLy8gY2hlY2sgZm9yIGpRdWVyeQogIGlmICghalF1ZXJ5IHx8IG9sZGpRdWVyeSkgewogICAgLy8gbG9hZCBpZiBpdCdzIG5vdCBhdmFpbGFibGUgb3IgZG9lc24ndCBtZWV0IG1pbiBzdGFuZGFyZHMKICAgIHBhdGhzLmpRdWVyeSA9IGpRdWVyeTsKICAgIG5vQ29uZmxpY3QgPSAhIW9sZGpRdWVyeTsKICB9IGVsc2UgewogICAgLy8gcmVnaXN0ZXIgdGhlIGN1cnJlbnQgalF1ZXJ5CiAgICBkZWZpbmUoJ2pxdWVyeScsIFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGpRdWVyeTsgfSk7CiAgfQogIGlmICghalF1ZXJ5VUkpIHsKICAgIHBhdGhzLmpRdWVyeVVJID0galF1ZXJ5VUlfQ0ROLnNsaWNlKG51bGwsIC0zKTsKICB9IGVsc2UgewogICAgZGVmaW5lKCdqUXVlcnlVSScsIFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGpRdWVyeS51aTsgfSk7CiAgfQogIHBhdGhzLnVuZGVyc2NvcmUgPSBVTkRFUlNDT1JFX0NETi5zbGljZShudWxsLCAtMyk7CiAgdmFyIGpxdWVyeV9yZXF1aXJlID0gewogICAgcGF0aHM6IHBhdGhzLAogICAgc2hpbTogewogICAgICAialF1ZXJ5VUkiOiB7CiAgICAgICAgZXhwb3J0czoiJCIsCiAgICAgICAgZGVwczogWydqcXVlcnknXQogICAgICB9LAogICAgICAidW5kZXJzY29yZSI6IHsKICAgICAgICBleHBvcnRzOiAnXycKICAgICAgfQogICAgfQogIH0KICByZXF1aXJlLmNvbmZpZyhqcXVlcnlfcmVxdWlyZSk7CiAgcmVxdWlyZShbImpRdWVyeVVJIiwgInVuZGVyc2NvcmUiXSwgZnVuY3Rpb24oalVJLCBfKXsKICAgIGlmIChub0NvbmZsaWN0KSAkLm5vQ29uZmxpY3QodHJ1ZSk7CiAgICB2YXIgdmFscyA9IHZhbHVlczsKICAgIGlmIChkeW5hbWljICYmIHZhbHMuY29uc3RydWN0b3IgPT09IEFycmF5KSB7CiAgICAgIHZhciBkZWZhdWx0X3ZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7CiAgICAgIHZhciBtaW4gPSBwYXJzZUZsb2F0KHZhbHNbMF0pOwogICAgICB2YXIgbWF4ID0gcGFyc2VGbG9hdCh2YWxzW3ZhbHMubGVuZ3RoLTFdKTsKICAgICAgdmFyIHdzdGVwID0gc3RlcDsKICAgICAgdmFyIHdsYWJlbHMgPSBbZGVmYXVsdF92YWx1ZV07CiAgICAgIHZhciBpbml0X2xhYmVsID0gZGVmYXVsdF92YWx1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBtaW4gPSAwOwogICAgICBpZiAoZHluYW1pYykgewogICAgICAgIHZhciBtYXggPSBPYmplY3Qua2V5cyh2YWxzKS5sZW5ndGggLSAxOwogICAgICAgIHZhciBpbml0X2xhYmVsID0gbGFiZWxzW3ZhbHVlXTsKICAgICAgICB2YXIgZGVmYXVsdF92YWx1ZSA9IHZhbHVlc1t2YWx1ZV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG1heCA9IHZhbHMubGVuZ3RoIC0gMTsKICAgICAgICB2YXIgaW5pdF9sYWJlbCA9IGxhYmVsc1t2YWx1ZV07CiAgICAgICAgdmFyIGRlZmF1bHRfdmFsdWUgPSB2YWx1ZTsKICAgICAgfQogICAgICB2YXIgd3N0ZXAgPSAxOwogICAgICB2YXIgd2xhYmVscyA9IGxhYmVsczsKICAgIH0KICAgIGZ1bmN0aW9uIGFkanVzdEZvbnRTaXplKHRleHQpIHsKICAgICAgdmFyIHdpZHRoX3JhdGlvID0gKHRleHQucGFyZW50KCkud2lkdGgoKS84KS90ZXh0LnZhbCgpLmxlbmd0aDsKICAgICAgdmFyIHNpemUgPSBNYXRoLm1pbigwLjksIE1hdGgubWF4KDAuNiwgd2lkdGhfcmF0aW8pKSsnZW0nOwogICAgICB0ZXh0LmNzcygnZm9udC1zaXplJywgc2l6ZSk7CiAgICB9CiAgICB2YXIgc2xpZGVyID0gJCgnI19hbmltX3dpZGdldCcraWQrJ18nK2RpbSk7CiAgICBzbGlkZXIuc2xpZGVyKHsKICAgICAgYW5pbWF0ZTogImZhc3QiLAogICAgICBtaW46IG1pbiwKICAgICAgbWF4OiBtYXgsCiAgICAgIHN0ZXA6IHdzdGVwLAogICAgICB2YWx1ZTogZGVmYXVsdF92YWx1ZSwKICAgICAgZGltX3ZhbHM6IHZhbHMsCiAgICAgIGRpbV9sYWJlbHM6IHdsYWJlbHMsCiAgICAgIG5leHRfdmFsczogbmV4dF92YWxzLAogICAgICBzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7CiAgICAgICAgdmFyIHZhbHMgPSBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAiZGltX3ZhbHMiKTsKICAgICAgICB2YXIgbmV4dF92YWxzID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgIm5leHRfdmFscyIpOwogICAgICAgIHZhciBkbGFiZWxzID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgImRpbV9sYWJlbHMiKTsKICAgICAgICBpZiAoZHluYW1pYykgewogICAgICAgICAgdmFyIGRpbV92YWwgPSB1aS52YWx1ZTsKICAgICAgICAgIGlmICh2YWxzLmNvbnN0cnVjdG9yID09PSBBcnJheSkgewogICAgICAgICAgICB2YXIgbGFiZWwgPSB1aS52YWx1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBsYWJlbCA9IGRsYWJlbHNbdWkudmFsdWVdOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgZGltX3ZhbCA9IHZhbHNbdWkudmFsdWVdOwogICAgICAgICAgdmFyIGxhYmVsID0gZGxhYmVsc1t1aS52YWx1ZV07CiAgICAgICAgfQogICAgICAgIHZhciB0ZXh0ID0gJCgnI3RleHRJbnB1dCcraWQrJ18nK2RpbSk7CiAgICAgICAgdGV4dC52YWwobGFiZWwpOwogICAgICAgIGFkanVzdEZvbnRTaXplKHRleHQpOwogICAgICAgIEhvbG9WaWV3cy5pbmRleFtwbG90X2lkXS5zZXRfZnJhbWUoZGltX3ZhbCwgZGltX2lkeCk7CiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5leHRfdmFscykubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIG5ld192YWxzID0gbmV4dF92YWxzW2RpbV92YWxdOwogICAgICAgICAgdmFyIG5leHRfd2lkZ2V0ID0gJCgnI19hbmltX3dpZGdldCcraWQrJ18nK25leHRfZGltKTsKICAgICAgICAgIHVwZGF0ZV93aWRnZXQobmV4dF93aWRnZXQsIG5ld192YWxzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgc2xpZGVyLmtleXByZXNzKGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIGlmIChldmVudC53aGljaCA9PSA4MCB8fCBldmVudC53aGljaCA9PSAxMTIpIHsKICAgICAgICB2YXIgc3RhcnQgPSBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAidmFsdWUiKTsKICAgICAgICB2YXIgc3RvcCA9ICBzbGlkZXIuc2xpZGVyKCJvcHRpb24iLCAibWF4Iik7CiAgICAgICAgZm9yICh2YXIgaT1zdGFydDsgaTw9c3RvcDsgaSsrKSB7CiAgICAgICAgICB2YXIgZGVsYXkgPSBpKmRlbGF5OwogICAgICAgICAgJC5wcm94eShmdW5jdGlvbiBkb1NldFRpbWVvdXQoaSkgeyBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB2YWwgPSB7dmFsdWU6aX07CiAgICAgICAgICAgIHNsaWRlci5zbGlkZXIoJ3ZhbHVlJyxpKTsKICAgICAgICAgICAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInNsaWRlIikobnVsbCwgdmFsKTsKICAgICAgICAgIH0sIHNsaWRlciksIGRlbGF5KTt9LCBzbGlkZXIpKGkpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoZXZlbnQud2hpY2ggPT0gODIgfHwgZXZlbnQud2hpY2ggPT0gMTE0KSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInZhbHVlIik7CiAgICAgICAgdmFyIHN0b3AgPSAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgIm1pbiIpOwogICAgICAgIHZhciBjb3VudCA9IDA7CiAgICAgICAgZm9yICh2YXIgaT1zdGFydDsgaT49c3RvcDsgaS0tKSB7CiAgICAgICAgICB2YXIgZGVsYXkgPSBjb3VudCpkZWxheTsKICAgICAgICAgIGNvdW50ID0gY291bnQgKyAxOwogICAgICAgICAgJC5wcm94eShmdW5jdGlvbiBkb1NldFRpbWVvdXQoaSkgeyBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB2YWwgPSB7dmFsdWU6aX07CiAgICAgICAgICAgIHNsaWRlci5zbGlkZXIoJ3ZhbHVlJyxpKTsKICAgICAgICAgICAgc2xpZGVyLnNsaWRlcigib3B0aW9uIiwgInNsaWRlIikobnVsbCwgdmFsKTsKICAgICAgICAgIH0sIHNsaWRlciksIGRlbGF5KTt9LCBzbGlkZXIpKGkpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICB2YXIgdGV4dElucHV0ID0gJCgnI3RleHRJbnB1dCcraWQrJ18nK2RpbSkKICAgIHRleHRJbnB1dC52YWwoaW5pdF9sYWJlbCk7CiAgICBhZGp1c3RGb250U2l6ZSh0ZXh0SW5wdXQpOwogIH0pOwp9CgpmdW5jdGlvbiBpbml0X2Ryb3Bkb3duKGlkLCBwbG90X2lkLCBkaW0sIHZhbHMsIHZhbHVlLCBuZXh0X3ZhbHMsIGxhYmVscywgbmV4dF9kaW0sIGRpbV9pZHgsIGR5bmFtaWMpIHsKICB2YXIgd2lkZ2V0ID0gJCgiI19hbmltX3dpZGdldCIraWQrJ18nK2RpbSk7CiAgd2lkZ2V0LmRhdGEoJ3ZhbHVlcycsIHZhbHMpCiAgZm9yICh2YXIgaT0wOyBpPHZhbHMubGVuZ3RoOyBpKyspewogICAgaWYgKGR5bmFtaWMpIHsKICAgICAgdmFyIHZhbCA9IHZhbHNbaV07CiAgICB9IGVsc2UgewogICAgICB2YXIgdmFsID0gaTsKICAgIH0KICAgIHdpZGdldC5hcHBlbmQoJCgiPG9wdGlvbj4iLCB7CiAgICAgIHZhbHVlOiB2YWwsCiAgICAgIHRleHQ6IGxhYmVsc1tpXQogICAgfSkpOwogIH07CiAgd2lkZ2V0LmRhdGEoIm5leHRfdmFscyIsIG5leHRfdmFscyk7CiAgd2lkZ2V0LnZhbCh2YWx1ZSk7CiAgd2lkZ2V0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihldmVudCwgdWkpIHsKICAgIGlmIChkeW5hbWljKSB7CiAgICAgIHZhciBkaW1fdmFsID0gcGFyc2VJbnQodGhpcy52YWx1ZSk7CiAgICB9IGVsc2UgewogICAgICB2YXIgZGltX3ZhbCA9ICQuZGF0YSh0aGlzLCAndmFsdWVzJylbdGhpcy52YWx1ZV07CiAgICB9CiAgICB2YXIgbmV4dF92YWxzID0gJC5kYXRhKHRoaXMsICJuZXh0X3ZhbHMiKTsKICAgIGlmIChPYmplY3Qua2V5cyhuZXh0X3ZhbHMpLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIG5ld192YWxzID0gbmV4dF92YWxzW2RpbV92YWxdOwogICAgICB2YXIgbmV4dF93aWRnZXQgPSAkKCcjX2FuaW1fd2lkZ2V0JytpZCsnXycrbmV4dF9kaW0pOwogICAgICB1cGRhdGVfd2lkZ2V0KG5leHRfd2lkZ2V0LCBuZXdfdmFscyk7CiAgICB9CiAgICB2YXIgd2lkZ2V0cyA9IEhvbG9WaWV3cy5pbmRleFtwbG90X2lkXQogICAgaWYgKHdpZGdldHMpIHsKICAgICAgd2lkZ2V0cy5zZXRfZnJhbWUoZGltX3ZhbCwgZGltX2lkeCk7CiAgICB9CiAgfSk7Cn0KCmlmICh3aW5kb3cuSG9sb1ZpZXdzID09PSB1bmRlZmluZWQpIHsKICB3aW5kb3cuSG9sb1ZpZXdzID0ge30KfQoKdmFyIF9uYW1lc3BhY2UgPSB7CiAgaW5pdF9zbGlkZXI6IGluaXRfc2xpZGVyLAogIGluaXRfZHJvcGRvd246IGluaXRfZHJvcGRvd24sCiAgY29tbXM6IHt9LAogIGNvbW1fc3RhdHVzOiB7fSwKICBpbmRleDoge30sCiAgcGxvdF9pbmRleDoge30sCiAga2VybmVsczoge30sCiAgcmVjZWl2ZXJzOiB7fQp9Cgpmb3IgKHZhciBrIGluIF9uYW1lc3BhY2UpIHsKICBpZiAoIShrIGluIHdpbmRvdy5Ib2xvVmlld3MpKSB7CiAgICB3aW5kb3cuSG9sb1ZpZXdzW2tdID0gX25hbWVzcGFjZVtrXTsKICB9Cn0KCnZhciBKU19NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vamF2YXNjcmlwdCc7CnZhciBIVE1MX01JTUVfVFlQRSA9ICd0ZXh0L2h0bWwnOwp2YXIgRVhFQ19NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vdm5kLmhvbG92aWV3c19leGVjLnYwK2pzb24nOwp2YXIgQ0xBU1NfTkFNRSA9ICdvdXRwdXQnOwoKLyoqCiAqIFJlbmRlciBkYXRhIHRvIHRoZSBET00gbm9kZQogKi8KZnVuY3Rpb24gcmVuZGVyKHByb3BzLCBub2RlKSB7CiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICBub2RlLmFwcGVuZENoaWxkKGRpdik7CiAgbm9kZS5hcHBlbmRDaGlsZChzY3JpcHQpOwp9CgovKioKICogSGFuZGxlIHdoZW4gYSBuZXcgb3V0cHV0IGlzIGFkZGVkCiAqLwpmdW5jdGlvbiBoYW5kbGVfYWRkX291dHB1dChldmVudCwgaGFuZGxlKSB7CiAgdmFyIG91dHB1dF9hcmVhID0gaGFuZGxlLm91dHB1dF9hcmVhOwogIHZhciBvdXRwdXQgPSBoYW5kbGUub3V0cHV0OwogIGlmICghb3V0cHV0LmRhdGEuaGFzT3duUHJvcGVydHkoRVhFQ19NSU1FX1RZUEUpKSB7CiAgICByZXR1cm4KICB9CiAgdmFyIGlkID0gb3V0cHV0Lm1ldGFkYXRhW0VYRUNfTUlNRV9UWVBFXVsiaWQiXTsKICB2YXIgdG9pbnNlcnQgPSBvdXRwdXRfYXJlYS5lbGVtZW50LmZpbmQoIi4iICsgQ0xBU1NfTkFNRS5zcGxpdCgnICcpWzBdKTsKICBpZiAoaWQgIT09IHVuZGVmaW5lZCkgewogICAgdG9pbnNlcnRbMF0uY2hpbGRyZW5bMF0uaW5uZXJIVE1MID0gb3V0cHV0LmRhdGFbSFRNTF9NSU1FX1RZUEVdOwogICAgdG9pbnNlcnRbMF0uY2hpbGRyZW5bMV0udGV4dENvbnRlbnQgPSBvdXRwdXQuZGF0YVtKU19NSU1FX1RZUEVdOwogICAgb3V0cHV0X2FyZWEuX2h2X3Bsb3RfaWQgPSBpZDsKICAgIGlmICgod2luZG93LkJva2VoICE9PSB1bmRlZmluZWQpICYmIChpZCBpbiBCb2tlaC5pbmRleCkpIHsKICAgICAgSG9sb1ZpZXdzLnBsb3RfaW5kZXhbaWRdID0gQm9rZWguaW5kZXhbaWRdOwogICAgfSBlbHNlIHsKICAgICAgSG9sb1ZpZXdzLnBsb3RfaW5kZXhbaWRdID0gbnVsbDsKICAgIH0KICB9Cn0KCi8qKgogKiBIYW5kbGUgd2hlbiBhbiBvdXRwdXQgaXMgY2xlYXJlZCBvciByZW1vdmVkCiAqLwpmdW5jdGlvbiBoYW5kbGVfY2xlYXJfb3V0cHV0KGV2ZW50LCBoYW5kbGUpIHsKICB2YXIgaWQgPSBoYW5kbGUuY2VsbC5vdXRwdXRfYXJlYS5faHZfcGxvdF9pZDsKICBpZiAoKGlkID09PSB1bmRlZmluZWQpIHx8ICEoaWQgaW4gSG9sb1ZpZXdzLnBsb3RfaW5kZXgpKSB7IHJldHVybjsgfQogIHZhciBjb21tID0gd2luZG93LkhvbG9WaWV3cy5jb21tX21hbmFnZXIuZ2V0X2NsaWVudF9jb21tKCJodi1leHRlbnNpb24tY29tbSIsICJodi1leHRlbnNpb24tY29tbSIsIGZ1bmN0aW9uICgpIHt9KTsKICBpZiAoY29tbSAhPT0gbnVsbCkgewogICAgY29tbS5zZW5kKHtldmVudF90eXBlOiAnZGVsZXRlJywgJ2lkJzogaWR9KTsKICB9CiAgZGVsZXRlIEhvbG9WaWV3cy5wbG90X2luZGV4W2lkXTsKICBpZiAoKHdpbmRvdy5Cb2tlaCAhPT0gdW5kZWZpbmVkKSAmIChpZCBpbiB3aW5kb3cuQm9rZWguaW5kZXgpKSB7CiAgICB3aW5kb3cuQm9rZWguaW5kZXhbaWRdLm1vZGVsLmRvY3VtZW50LmNsZWFyKCk7CiAgICBkZWxldGUgQm9rZWguaW5kZXhbaWRdOwogIH0KfQoKZnVuY3Rpb24gaGFuZGxlX2tlcm5lbF9jbGVhbnVwKGV2ZW50LCBoYW5kbGUpIHsKICBkZWxldGUgSG9sb1ZpZXdzLmNvbW1zWyJodi1leHRlbnNpb24tY29tbSJdOwogIHdpbmRvdy5Ib2xvVmlld3MucGxvdF9pbmRleCA9IHt9Cn0KCmZ1bmN0aW9uIHJlZ2lzdGVyX3JlbmRlcmVyKGV2ZW50cywgT3V0cHV0QXJlYSkgewogIGZ1bmN0aW9uIGFwcGVuZF9taW1lKGRhdGEsIG1ldGFkYXRhLCBlbGVtZW50KSB7CiAgICAvLyBjcmVhdGUgYSBET00gbm9kZSB0byByZW5kZXIgdG8KICAgIHZhciB0b2luc2VydCA9IHRoaXMuY3JlYXRlX291dHB1dF9zdWJhcmVhKAogICAgbWV0YWRhdGEsCiAgICBDTEFTU19OQU1FLAogICAgRVhFQ19NSU1FX1RZUEUKICAgICk7CiAgICB0aGlzLmtleWJvYXJkX21hbmFnZXIucmVnaXN0ZXJfZXZlbnRzKHRvaW5zZXJ0KTsKICAgIC8vIFJlbmRlciB0byBub2RlCiAgICB2YXIgcHJvcHMgPSB7ZGF0YTogZGF0YSwgbWV0YWRhdGE6IG1ldGFkYXRhW0VYRUNfTUlNRV9UWVBFXX07CiAgICByZW5kZXIocHJvcHMsIHRvaW5zZXJ0WzBdKTsKICAgIGVsZW1lbnQuYXBwZW5kKHRvaW5zZXJ0KTsKICAgIHJldHVybiB0b2luc2VydAogIH0KCiAgZXZlbnRzLm9uKCdvdXRwdXRfYWRkZWQuT3V0cHV0QXJlYScsIGhhbmRsZV9hZGRfb3V0cHV0KTsKICBldmVudHMub24oJ2NsZWFyX291dHB1dC5Db2RlQ2VsbCcsIGhhbmRsZV9jbGVhcl9vdXRwdXQpOwogIGV2ZW50cy5vbignZGVsZXRlLkNlbGwnLCBoYW5kbGVfY2xlYXJfb3V0cHV0KTsKICBldmVudHMub24oJ2tlcm5lbF9yZWFkeS5LZXJuZWwnLCBoYW5kbGVfa2VybmVsX2NsZWFudXApOwoKICBPdXRwdXRBcmVhLnByb3RvdHlwZS5yZWdpc3Rlcl9taW1lX3R5cGUoRVhFQ19NSU1FX1RZUEUsIGFwcGVuZF9taW1lLCB7CiAgICBzYWZlOiB0cnVlLAogICAgaW5kZXg6IDAKICB9KTsKfQoKaWYgKHdpbmRvdy5KdXB5dGVyICE9PSB1bmRlZmluZWQpIHsKICB0cnkgewogICAgdmFyIGV2ZW50cyA9IHJlcXVpcmUoJ2Jhc2UvanMvZXZlbnRzJyk7CiAgICB2YXIgT3V0cHV0QXJlYSA9IHJlcXVpcmUoJ25vdGVib29rL2pzL291dHB1dGFyZWEnKS5PdXRwdXRBcmVhOwogICAgaWYgKE91dHB1dEFyZWEucHJvdG90eXBlLm1pbWVfdHlwZXMoKS5pbmRleE9mKEVYRUNfTUlNRV9UWVBFKSA9PSAtMSkgewogICAgICByZWdpc3Rlcl9yZW5kZXJlcihldmVudHMsIE91dHB1dEFyZWEpOwogICAgfQogIH0gY2F0Y2goZXJyKSB7CiAgfQp9CgovLyBEZWZpbmUgQm9rZWggc3BlY2lmaWMgc3ViY2xhc3NlcwpmdW5jdGlvbiBCb2tlaFNlbGVjdGlvbldpZGdldCgpIHsKICBTZWxlY3Rpb25XaWRnZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gQm9rZWhTY3J1YmJlcldpZGdldCgpIHsKICBTY3J1YmJlcldpZGdldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgovLyBMZXQgdGhlbSBpbmhlcml0IGZyb20gdGhlIGJhc2VjbGFzc2VzCkJva2VoU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2VsZWN0aW9uV2lkZ2V0LnByb3RvdHlwZSk7CkJva2VoU2NydWJiZXJXaWRnZXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTY3J1YmJlcldpZGdldC5wcm90b3R5cGUpOwoKLy8gRGVmaW5lIG1ldGhvZHMgdG8gb3ZlcnJpZGUgb24gd2lkZ2V0cwp2YXIgQm9rZWhNZXRob2RzID0gewogIHVwZGF0ZV9jYWNoZSA6IGZ1bmN0aW9uKCl7CiAgICBmb3IgKHZhciBpbmRleCBpbiB0aGlzLmZyYW1lcykgewogICAgICB0aGlzLmZyYW1lc1tpbmRleF0gPSBKU09OLnBhcnNlKHRoaXMuZnJhbWVzW2luZGV4XSk7CiAgICB9CiAgfSwKICB1cGRhdGUgOiBmdW5jdGlvbihjdXJyZW50KXsKICAgIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGRhdGEgPSB0aGlzLmZyYW1lc1tjdXJyZW50XTsKCWlmIChkYXRhICE9PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIGRvYyA9IEhvbG9WaWV3cy5wbG90X2luZGV4W2RhdGEucm9vdF0ubW9kZWwuZG9jdW1lbnQ7CiAgICAgIGRvYy5hcHBseV9qc29uX3BhdGNoKGRhdGEuY29udGVudCk7CiAgICB9CiAgfSwKICBpbml0X2NvbW1zOiBmdW5jdGlvbigpIHsKICAgIGlmIChCb2tlaC5wcm90b2NvbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMucmVjZWl2ZXIgPSBuZXcgQm9rZWgucHJvdG9jb2wuUmVjZWl2ZXIoKQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5yZWNlaXZlciA9IG51bGw7Cgl9CiAgICByZXR1cm4gSG9sb1ZpZXdzV2lkZ2V0LnByb3RvdHlwZS5pbml0X2NvbW1zLmNhbGwodGhpcyk7CiAgfSwKICBwcm9jZXNzX21zZyA6IGZ1bmN0aW9uKG1zZykgewogICAgdmFyIGRvYyA9IEhvbG9WaWV3cy5wbG90X2luZGV4W3RoaXMucGxvdF9pZF0ubW9kZWwuZG9jdW1lbnQ7CiAgICBpZiAodGhpcy5yZWNlaXZlciA9PT0gbnVsbCkgeyByZXR1cm4gfQogICAgdmFyIHJlY2VpdmVyID0gdGhpcy5yZWNlaXZlcjsKICAgIGlmIChtc2cuYnVmZmVycy5sZW5ndGggPiAwKSB7CiAgICAgIHJlY2VpdmVyLmNvbnN1bWUobXNnLmJ1ZmZlcnNbMF0uYnVmZmVyKQogICAgfSBlbHNlIHsKICAgICAgcmVjZWl2ZXIuY29uc3VtZShtc2cuY29udGVudC5kYXRhKQogICAgfQogICAgY29uc3QgY29tbV9tc2cgPSByZWNlaXZlci5tZXNzYWdlOwogICAgaWYgKChjb21tX21zZyAhPSBudWxsKSAmJiAoZG9jICE9IG51bGwpKSB7CiAgICAgIGRvYy5hcHBseV9qc29uX3BhdGNoKGNvbW1fbXNnLmNvbnRlbnQsIGNvbW1fbXNnLmJ1ZmZlcnMpCiAgICB9CiAgfQp9CgovLyBFeHRlbmQgQm9rZWggd2lkZ2V0cyB3aXRoIGJhY2tlbmQgc3BlY2lmaWMgbWV0aG9kcwpleHRlbmQoQm9rZWhTZWxlY3Rpb25XaWRnZXQucHJvdG90eXBlLCBCb2tlaE1ldGhvZHMpOwpleHRlbmQoQm9rZWhTY3J1YmJlcldpZGdldC5wcm90b3R5cGUsIEJva2VoTWV0aG9kcyk7Cgp3aW5kb3cuSG9sb1ZpZXdzLkJva2VoU2VsZWN0aW9uV2lkZ2V0ID0gQm9rZWhTZWxlY3Rpb25XaWRnZXQKd2luZG93LkhvbG9WaWV3cy5Cb2tlaFNjcnViYmVyV2lkZ2V0ID0gQm9rZWhTY3J1YmJlcldpZGdldAo8L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgogICAgZnVuY3Rpb24gSnVweXRlckNvbW1NYW5hZ2VyKCkgewogICAgfQoKICAgIEp1cHl0ZXJDb21tTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJfdGFyZ2V0ID0gZnVuY3Rpb24ocGxvdF9pZCwgY29tbV9pZCwgbXNnX2hhbmRsZXIpIHsKICAgICAgaWYgKHdpbmRvdy5jb21tX21hbmFnZXIgfHwgKCh3aW5kb3cuSnVweXRlciAhPT0gdW5kZWZpbmVkKSAmJiAoSnVweXRlci5ub3RlYm9vay5rZXJuZWwgIT0gbnVsbCkpKSB7CiAgICAgICAgdmFyIGNvbW1fbWFuYWdlciA9IHdpbmRvdy5jb21tX21hbmFnZXIgfHwgSnVweXRlci5ub3RlYm9vay5rZXJuZWwuY29tbV9tYW5hZ2VyOwogICAgICAgIGNvbW1fbWFuYWdlci5yZWdpc3Rlcl90YXJnZXQoY29tbV9pZCwgZnVuY3Rpb24oY29tbSkgewogICAgICAgICAgY29tbS5vbl9tc2cobXNnX2hhbmRsZXIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKChwbG90X2lkIGluIEhvbG9WaWV3cy5rZXJuZWxzKSAmJiAoSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0pKSB7CiAgICAgICAgSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0ucmVnaXN0ZXJDb21tVGFyZ2V0KGNvbW1faWQsIGZ1bmN0aW9uKGNvbW0pIHsKICAgICAgICAgIGNvbW0ub25Nc2cgPSBtc2dfaGFuZGxlcjsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIEp1cHl0ZXJDb21tTWFuYWdlci5wcm90b3R5cGUuZ2V0X2NsaWVudF9jb21tID0gZnVuY3Rpb24ocGxvdF9pZCwgY29tbV9pZCwgbXNnX2hhbmRsZXIpIHsKICAgICAgaWYgKGNvbW1faWQgaW4gd2luZG93LkhvbG9WaWV3cy5jb21tcykgewogICAgICAgIHJldHVybiBIb2xvVmlld3MuY29tbXNbY29tbV9pZF07CiAgICAgIH0gZWxzZSBpZiAod2luZG93LmNvbW1fbWFuYWdlciB8fCAoKHdpbmRvdy5KdXB5dGVyICE9PSB1bmRlZmluZWQpICYmIChKdXB5dGVyLm5vdGVib29rLmtlcm5lbCAhPSBudWxsKSkpIHsKICAgICAgICB2YXIgY29tbV9tYW5hZ2VyID0gd2luZG93LmNvbW1fbWFuYWdlciB8fCBKdXB5dGVyLm5vdGVib29rLmtlcm5lbC5jb21tX21hbmFnZXI7CiAgICAgICAgdmFyIGNvbW0gPSBjb21tX21hbmFnZXIubmV3X2NvbW0oY29tbV9pZCwge30sIHt9LCB7fSwgY29tbV9pZCk7CiAgICAgICAgaWYgKG1zZ19oYW5kbGVyKSB7CiAgICAgICAgICBjb21tLm9uX21zZyhtc2dfaGFuZGxlcik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKChwbG90X2lkIGluIEhvbG9WaWV3cy5rZXJuZWxzKSAmJiAoSG9sb1ZpZXdzLmtlcm5lbHNbcGxvdF9pZF0pKSB7CiAgICAgICAgdmFyIGNvbW0gPSBIb2xvVmlld3Mua2VybmVsc1twbG90X2lkXS5jb25uZWN0VG9Db21tKGNvbW1faWQpOwogICAgICAgIGNvbW0ub3BlbigpOwogICAgICAgIGlmIChtc2dfaGFuZGxlcikgewogICAgICAgICAgY29tbS5vbk1zZyA9IG1zZ19oYW5kbGVyOwogICAgICAgIH0KICAgICAgfQogICAgICBIb2xvVmlld3MuY29tbXNbY29tbV9pZF0gPSBjb21tOwogICAgICByZXR1cm4gY29tbTsKICAgIH0KCiAgICB3aW5kb3cuSG9sb1ZpZXdzLmNvbW1fbWFuYWdlciA9IG5ldyBKdXB5dGVyQ29tbU1hbmFnZXIoKTsKICAgIDwvc2NyaXB0PgoKPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5weWRhdGEub3JnL2Jva2VoL3JlbGVhc2UvYm9rZWgtMC4xMi4xNS5taW4uY3NzIj4KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5weWRhdGEub3JnL2Jva2VoL3JlbGVhc2UvYm9rZWgtd2lkZ2V0cy0wLjEyLjE1Lm1pbi5jc3MiPgo8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuLnB5ZGF0YS5vcmcvYm9rZWgvcmVsZWFzZS9ib2tlaC10YWJsZXMtMC4xMi4xNS5taW4uY3NzIj4KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjMuNi9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiPgo8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL3VpLzEuMTAuNC90aGVtZXMvc21vb3RobmVzcy9qcXVlcnktdWkuY3NzIj4KPHN0eWxlPmRpdi5iay1oYm94IHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoKZGl2LmJrLWhib3ggZGl2LmJrLXBsb3QgewogICAgcGFkZGluZzogOHB4Owp9CgpkaXYuYmstaGJveCBkaXYuYmstZGF0YS10YWJsZSB7CiAgICBwYWRkaW5nOiAyMHB4Owp9CgpkaXYuaG9sb2xheW91dCB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIG1hcmdpbjogMDsKfQoKZGl2LmhvbG9mcmFtZSB7CiAgd2lkdGg6IDc1JTsKfQoKZGl2LmhvbG93ZWxsIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCmZvcm0uaG9sb2Zvcm0gewogIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgcGFkZGluZy1sZWZ0OiAwLjhlbTsKICBwYWRkaW5nLXJpZ2h0OiAwLjhlbTsKICBwYWRkaW5nLXRvcDogMC40ZW07CiAgcGFkZGluZy1ib3R0b206IDAuNGVtOwogIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMDUpOwogIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2UzZTNlMzsKfQoKZGl2LmhvbG93aWRnZXRzIHsKICBwYWRkaW5nLXJpZ2h0OiAwOwogIHdpZHRoOiAyNSU7Cn0KCmRpdi5ob2xvc2xpZGVyIHsKICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7CiAgaGVpZ2h0OiAwLjhlbTsKICB3aWR0aDogMTAwJTsKfQoKZGl2LmhvbG9mb3JtZ3JvdXAgewogIHBhZGRpbmctdG9wOiAwLjVlbTsKICBtYXJnaW4tYm90dG9tOiAwLjVlbTsKfQoKZGl2LmhvbG9ncm91cCB7CiAgcGFkZGluZy1sZWZ0OiAwOwogIHBhZGRpbmctcmlnaHQ6IDAuOGVtOwogIHdpZHRoOiAxMDAlOwp9CgouaG9sb3NlbGVjdCB7CiAgd2lkdGg6IDkyJTsKICBtYXJnaW4tbGVmdDogMDsKICBtYXJnaW4tcmlnaHQ6IDA7Cn0KCi5ob2xvdGV4dCB7CiAgcGFkZGluZy1sZWZ0OiAgMC41ZW07CiAgcGFkZGluZy1yaWdodDogMDsKICB3aWR0aDogMTAwJTsKfQoKLmhvbG93aWRnZXRzIC51aS1yZXNpemFibGUtc2UgewogIHZpc2liaWxpdHk6IGhpZGRlbgp9CgouaG9sb2ZyYW1lID4gLnVpLXJlc2l6YWJsZS1zZSB7CiAgdmlzaWJpbGl0eTogaGlkZGVuCn0KCi5ob2xvd2lkZ2V0cyAudWktcmVzaXphYmxlLXMgewogIHZpc2liaWxpdHk6IGhpZGRlbgp9CgoKLyogQ1NTIHJ1bGVzIGZvciBub1VJU2xpZGVyIGJhc2VkIHNsaWRlciB1c2VkIGJ5IEp1cHl0ZXJMYWIgZXh0ZW5zaW9uICAqLwoKLm5vVWktaGFuZGxlIHsKICB3aWR0aDogMjBweCAhaW1wb3J0YW50OwogIGhlaWdodDogMjBweCAhaW1wb3J0YW50OwogIGxlZnQ6IC01cHggIWltcG9ydGFudDsKICB0b3A6IC01cHggIWltcG9ydGFudDsKfQoKLm5vVWktaGFuZGxlOmJlZm9yZSwgLm5vVWktaGFuZGxlOmFmdGVyIHsKICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgaGVpZ2h0OiAwcHg7Cn0KCi5ub1VpLXRhcmdldCB7CiAgbWFyZ2luLWxlZnQ6IDAuNWVtOwogIG1hcmdpbi1yaWdodDogMC41ZW07Cn0KPC9zdHlsZT48ZGl2IHN0eWxlPSdkaXNwbGF5OiB0YWJsZTsgbWFyZ2luOiAwIGF1dG87Jz4KCjxkaXYgY2xhc3M9ImJrLXJvb3QiPgogICAgPGRpdiBjbGFzcz0iYmstcGxvdGRpdiIgaWQ9IjNlM2FjYjkwLTA0MmEtNDQ5ZS1iMzI4LTA1OWQxYTc2OWQzZSI+PC9kaXY+CjwvZGl2Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgKGZ1bmN0aW9uKHJvb3QpIHsKICBmdW5jdGlvbiBlbWJlZF9kb2N1bWVudChyb290KSB7CiAgICAKICB2YXIgZG9jc19qc29uID0geyIzMjMwMjg1Yy1mYjcyLTRiNjktYTIwMS04N2FjOTVmYTYzNjEiOnsicm9vdHMiOnsicmVmZXJlbmNlcyI6W3siYXR0cmlidXRlcyI6eyJmaWxsX2NvbG9yIjp7InZhbHVlIjoiIzMwYTJkYSJ9LCJsaW5lX2NvbG9yIjp7InZhbHVlIjoiIzMwYTJkYSJ9LCJzaXplIjp7InVuaXRzIjoic2NyZWVuIiwidmFsdWUiOjIuNDQ5NDg5NzQyNzgzMTc4fSwieCI6eyJmaWVsZCI6ImluZGV4In0sInkiOnsiZmllbGQiOiJleHRtYWpvciJ9fSwiaWQiOiJiNjNhYjY5ZC0yOThjLTQ4NzUtOGUxZS1mYTRmZTc0NjFiYWIiLCJ0eXBlIjoiQ2lyY2xlIn0seyJhdHRyaWJ1dGVzIjp7ImJvdHRvbV91bml0cyI6InNjcmVlbiIsImZpbGxfYWxwaGEiOnsidmFsdWUiOjAuNX0sImZpbGxfY29sb3IiOnsidmFsdWUiOiJsaWdodGdyZXkifSwibGVmdF91bml0cyI6InNjcmVlbiIsImxldmVsIjoib3ZlcmxheSIsImxpbmVfYWxwaGEiOnsidmFsdWUiOjEuMH0sImxpbmVfY29sb3IiOnsidmFsdWUiOiJibGFjayJ9LCJsaW5lX2Rhc2giOls0LDRdLCJsaW5lX3dpZHRoIjp7InZhbHVlIjoyfSwicGxvdCI6bnVsbCwicmVuZGVyX21vZGUiOiJjc3MiLCJyaWdodF91bml0cyI6InNjcmVlbiIsInRvcF91bml0cyI6InNjcmVlbiJ9LCJpZCI6IjhhN2E0MzJhLWQzMDUtNDE1NC1hYTUxLTMzMDRlODBiMWJmMiIsInR5cGUiOiJCb3hBbm5vdGF0aW9uIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiIzNzU3ZTI1NS03NDQwLTRlMTYtOGFlZi1jOWExMWE3MjczMWEiLCJ0eXBlIjoiU2F2ZVRvb2wifSx7ImF0dHJpYnV0ZXMiOnsiYmVsb3ciOlt7ImlkIjoiNDMwYTRiZTctYjkwOS00OGQxLWJhN2QtZWIxZmYwOGMyZWVmIiwidHlwZSI6IkxpbmVhckF4aXMifV0sImxlZnQiOlt7ImlkIjoiNWI4Y2YwZDQtYTc2Mi00ODEzLWFhZmEtYTZlYmZjZTZlODE4IiwidHlwZSI6IkxpbmVhckF4aXMifV0sIm1pbl9ib3JkZXJfYm90dG9tIjoxMCwibWluX2JvcmRlcl9sZWZ0IjoxMCwibWluX2JvcmRlcl9yaWdodCI6MTAsIm1pbl9ib3JkZXJfdG9wIjoxMCwicGxvdF9oZWlnaHQiOjMwMCwicGxvdF93aWR0aCI6NDAwLCJyZW5kZXJlcnMiOlt7ImlkIjoiNDMwYTRiZTctYjkwOS00OGQxLWJhN2QtZWIxZmYwOGMyZWVmIiwidHlwZSI6IkxpbmVhckF4aXMifSx7ImlkIjoiMDYyY2M2NGItNDYyMi00ZGNhLWFmOTMtZmQwYTAyNGNmMTlkIiwidHlwZSI6IkdyaWQifSx7ImlkIjoiNWI4Y2YwZDQtYTc2Mi00ODEzLWFhZmEtYTZlYmZjZTZlODE4IiwidHlwZSI6IkxpbmVhckF4aXMifSx7ImlkIjoiNWNhZWZjOTMtZWEzNi00NTAxLThmYWYtOWZhMThjZjE0YWNjIiwidHlwZSI6IkdyaWQifSx7ImlkIjoiOGE3YTQzMmEtZDMwNS00MTU0LWFhNTEtMzMwNGU4MGIxYmYyIiwidHlwZSI6IkJveEFubm90YXRpb24ifSx7ImlkIjoiYzIxMzAyODItOTJmZi00MTA5LWExMDgtOWYxYjQ5ZDk0OGJjIiwidHlwZSI6IkdseXBoUmVuZGVyZXIifSx7ImlkIjoiMmQyMGVjM2EtN2I0NS00NWZlLThlNzYtMzg2ODg0MjcwNGY0IiwidHlwZSI6IlNwYW4ifV0sInRpdGxlIjp7ImlkIjoiNzlmYWEyZjAtMGJiYy00NDM0LTk2Y2EtNzRiNDA4NTY0NGU2IiwidHlwZSI6IlRpdGxlIn0sInRvb2xiYXIiOnsiaWQiOiIyYzQxZGMxZC1kNmU5LTQwN2UtODBjMS00M2JlNTM0MzBlN2QiLCJ0eXBlIjoiVG9vbGJhciJ9LCJ4X3JhbmdlIjp7ImlkIjoiOTg5NzM5MTYtYjcwZi00ODE0LTg3NDItYTFhNzc0NjllMTljIiwidHlwZSI6IlJhbmdlMWQifSwieF9zY2FsZSI6eyJpZCI6ImUyOTI3ODk4LWJlNDQtNDRiMS1iZDAxLTI3OTEzMzhlYzVlNyIsInR5cGUiOiJMaW5lYXJTY2FsZSJ9LCJ5X3JhbmdlIjp7ImlkIjoiNDU3MGViYzMtNDQ5Mi00Yjc2LWFjZTYtZjE2NWRiMjNmNzczIiwidHlwZSI6IlJhbmdlMWQifSwieV9zY2FsZSI6eyJpZCI6IjA0YjA5MTFlLWU2YjYtNDE1OC1hYzNjLWJmM2Y3N2Q4YjQzMiIsInR5cGUiOiJMaW5lYXJTY2FsZSJ9fSwiaWQiOiIyN2Q2YTg0MS0zMzQwLTQyN2MtYTg2Ni1mMTExODJkZjBhNjEiLCJzdWJ0eXBlIjoiRmlndXJlIiwidHlwZSI6IlBsb3QifSx7ImF0dHJpYnV0ZXMiOnsibGluZV9hbHBoYSI6eyJ2YWx1ZSI6MC41fSwibGluZV9jb2xvciI6eyJ2YWx1ZSI6InJlZCJ9LCJsaW5lX3dpZHRoIjp7InZhbHVlIjoyfSwibG9jYXRpb24iOjg0LjAsInBsb3QiOm51bGx9LCJpZCI6IjJkMjBlYzNhLTdiNDUtNDVmZS04ZTc2LTM4Njg4NDI3MDRmNCIsInR5cGUiOiJTcGFuIn0seyJhdHRyaWJ1dGVzIjp7ImZpbGxfYWxwaGEiOnsidmFsdWUiOjAuMX0sImZpbGxfY29sb3IiOnsidmFsdWUiOiIjMzBhMmRhIn0sImxpbmVfYWxwaGEiOnsidmFsdWUiOjAuMX0sImxpbmVfY29sb3IiOnsidmFsdWUiOiIjMzBhMmRhIn0sInNpemUiOnsidW5pdHMiOiJzY3JlZW4iLCJ2YWx1ZSI6Mi40NDk0ODk3NDI3ODMxNzh9LCJ4Ijp7ImZpZWxkIjoiaW5kZXgifSwieSI6eyJmaWVsZCI6ImV4dG1ham9yIn19LCJpZCI6Ijk1ZmM1YTU4LTA4ZjYtNDZkMC04ODNlLTBlZjhjODE0OGMxZiIsInR5cGUiOiJDaXJjbGUifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6ImJjZDViOWUyLTJhZjEtNGJmZC04ZjFlLTIwMjkyNzgyOTE0OSIsInR5cGUiOiJQYW5Ub29sIn0seyJhdHRyaWJ1dGVzIjp7ImNhbGxiYWNrIjpudWxsLCJyZW5kZXJlcnMiOlt7ImlkIjoiYzIxMzAyODItOTJmZi00MTA5LWExMDgtOWYxYjQ5ZDk0OGJjIiwidHlwZSI6IkdseXBoUmVuZGVyZXIifV0sInRvb2x0aXBzIjpbWyIiLCI8Yj5AbGFiZWw8L2I+Il1dfSwiaWQiOiI1YTJjNGM3MS1iY2NkLTRmNmMtYTMxMi00ZjgwNzRkN2ZiZTIiLCJ0eXBlIjoiSG92ZXJUb29sIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiI5YTRhMWYyOS0wMjNlLTRjMGMtOGY1ZC1hNTAwMDU2ZDhlNTkiLCJ0eXBlIjoiV2hlZWxab29tVG9vbCJ9LHsiYXR0cmlidXRlcyI6eyJjYWxsYmFjayI6bnVsbCwiZW5kIjoxODkuMCwic3RhcnQiOjM5LjZ9LCJpZCI6IjQ1NzBlYmMzLTQ0OTItNGI3Ni1hY2U2LWYxNjVkYjIzZjc3MyIsInR5cGUiOiJSYW5nZTFkIn0seyJhdHRyaWJ1dGVzIjp7Im92ZXJsYXkiOnsiaWQiOiI4YTdhNDMyYS1kMzA1LTQxNTQtYWE1MS0zMzA0ZTgwYjFiZjIiLCJ0eXBlIjoiQm94QW5ub3RhdGlvbiJ9fSwiaWQiOiJiNGVmZGY5My04NTljLTQ5OTgtYmVkOS1kMTY2NTZjNWY0NDQiLCJ0eXBlIjoiQm94Wm9vbVRvb2wifSx7ImF0dHJpYnV0ZXMiOnsicGxvdCI6bnVsbCwidGV4dCI6IkV4dGVyaW9yIGxlbmd0aHMgd2l0aCBDYXNzaW5vIGhpZ2hsaWdodGVkIiwidGV4dF9jb2xvciI6eyJ2YWx1ZSI6ImJsYWNrIn0sInRleHRfZm9udF9zaXplIjp7InZhbHVlIjoiMTJwdCJ9fSwiaWQiOiI3OWZhYTJmMC0wYmJjLTQ0MzQtOTZjYS03NGI0MDg1NjQ0ZTYiLCJ0eXBlIjoiVGl0bGUifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6IjM3ZmMwMTkwLTdlNmYtNDQ3ZC1iZDhhLTA1NmFjNjQyMWI1OSIsInR5cGUiOiJSZXNldFRvb2wifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6ImUyOTI3ODk4LWJlNDQtNDRiMS1iZDAxLTI3OTEzMzhlYzVlNyIsInR5cGUiOiJMaW5lYXJTY2FsZSJ9LHsiYXR0cmlidXRlcyI6eyJjYWxsYmFjayI6bnVsbCwiY29sdW1uX25hbWVzIjpbImluZGV4IiwiZXh0bWFqb3IiLCJsYWJlbCJdLCJkYXRhIjp7ImV4dG1ham9yIjp7Il9fbmRhcnJheV9fIjoiemN6TXpNek1RMEFBQUFBQUFBQkVRTTNNek16TVRFVkFBQUFBQUFBQVNFQUFBQUFBQUFCSlFBQUFBQUFBQUVsQUFBQUFBQUFBU1VBQUFBQUFBQUJLUU0zTXpNek1iRXRBQUFBQUFBQ0FTMEFBQUFBQUFJQkxRQUFBQUFBQUFFeEFBQUFBQUFBQVRFQUFBQUFBQUFCTVFBQUFBQUFBQUV4QUFBQUFBQUFBVEVBQUFBQUFBSUJNUUFBQUFBQUFBRTVBQUFBQUFBQ0FUa0FBQUFBQUFJQk9RSnFabVptWm1VNUFBQUFBQUFDQVQwQ2FtWm1abVpsUFFBQUFBQUFBUUZCQUFBQUFBQUFBVVVBQUFBQUFBQUJSUUFBQUFBQUFRRkZBQUFBQUFBQkFVVUFBQUFBQUFJQlJRQUFBQUFBQWdGRkFBQUFBQUFDQVVVQUFBQUFBQUlCUlFBQUFBQUFBZ0ZGQUFBQUFBQURBVVVBQUFBQUFBQUJTUUFBQUFBQUFBRkpBQUFBQUFBQkFVa0FBQUFBQUFFQlNRT3hSdUI2RmUxSkFBQUFBQUFDQVVrQUFBQUFBQUtCU1FBQUFBQUFBd0ZKQUFBQUFBQURBVWtBQUFBQUFBQUJUUUFBQUFBQUFRRk5BQUFBQUFBQkFVMEF6TXpNek0xTlRRQUFBQUFBQWdGTkFBQUFBQUFDQVUwQUFBQUFBQU1CVFFBQUFBQUFBQUZSQUFBQUFBQUFBVkVBQUFBQUFBQUJVUUFBQUFBQUFBRlJBQUFBQUFBQUFWRUFBQUFBQUFBQlVRQUFBQUFBQUFGUkFBQUFBQUFBQVZFQUFBQUFBQUVCVVFBQUFBQUFBZ0ZSQUFBQUFBQURBVkVBQUFBQUFBTUJVUUFBQUFBQUFBRlZBQUFBQUFBQUFWVUFBQUFBQUFFQlZRQUFBQUFBQVFGVkFBQUFBQUFCQVZVQUFBQUFBQUlCVlFBQUFBQUFBb0ZWQUFBQUFBQUNnVlVBQUFBQUFBTUJWUUFBQUFBQUFBRlpBQUFBQUFBQUFWa0FBQUFBQUFBQldRQUFBQUFBQUFGWkFBQUFBQUFBQVZrQXpNek16TXpOV1FBQUFBQUFBUUZaQUFBQUFBQUNBVmtBQUFBQUFBSUJXUUFBQUFBQUFnRlpBQUFBQUFBQ0FWa0FBQUFBQUFJQldRQUFBQUFBQWdGWkFBQUFBQUFDQVZrQUFBQUFBQUFCWFFETXpNek16TTFkQUFBQUFBQUNBVjBBQUFBQUFBTUJYUUFBQUFBQUF3RmRBQUFBQUFBRGdWMEFBQUFBQUFBQllRQUFBQUFBQUFGaEFBQUFBQUFBQVdFQUFBQUFBQUNCWVFBQUFBQUFBUUZoQUFBQUFBQUNBV0VBQUFBQUFBSUJZUUFBQUFBQUFnRmhBQUFBQUFBQ0FXRUFBQUFBQUFJQllRQUFBQUFBQWdGaEFBQUFBQUFEQVdFQUFBQUFBQU9CWVFBQUFBQUFBQUZsQUFBQUFBQUFBV1VBQUFBQUFBQUJaUUFBQUFBQUFRRmxBbXBtWm1abDVXVUFBQUFBQUFJQlpRQUFBQUFBQW9GbEFBQUFBQUFEQVdVQUFBQUFBQUFCYVFHWm1abVptSmxwQUFBQUFBQUJBV2tBQUFBQUFBTUJhUUFBQUFBQUFBRnRBQUFBQUFBQUFXMEFBQUFBQUFBQmJRQUFBQUFBQUFGdEFBQUFBQUFCQVcwQ2FtWm1abVZsYlFBQUFBQUFBZ0Z0QUFBQUFBQURBVzBBQUFBQUFBTUJiUUFBQUFBQUFBRnhBQUFBQUFBQUFYRUROek16TXpHeGNRQUFBQUFBQWdGeEFBQUFBQUFEQVhFQUFBQUFBQU1CY1FBQUFBQUFBd0Z4QUFBQUFBQUFnWFVDdVIrRjZGRzVkUUFBQUFBQUFnRjFBQUFBQUFBQ0FYVUFBQUFBQUFBQmVRQUFBQUFBQUFGNUFBQUFBQUFBQVhrQUFBQUFBQUVCZVFHWm1abVptWmw1QUFBQUFBQUFBWDBBQUFBQUFBQUJmUUFBQUFBQUFNRjlBQUFBQUFBQkFYMEFBQUFBQUFJQmZRSnFabVptWm1WOUFNek16TXpPelgwQUFBQUFBQUNCZ1FBQUFBQUFBUUdCQUFBQUFBQUJnWUVBQUFBQUFBR0JnUUpxWm1abVppV0JBemN6TXpNeU1ZRUJtWm1abVpvNWdRTTNNek16TXJHQkFBQUFBQUFEQVlFQUFBQUFBQU9CZ1FBQUFBQUFBQUdGQVptWm1abVlHWVVBQUFBQUFBRUJoUUFBQUFBQUF3R0ZBQUFBQUFBRGdZVUFBQUFBQUFDQmlRSnFabVptWldXSkFBQUFBQUFDQVlrQUFBQUFBQUlCaVFBQUFBQUFBZ0dKQUFBQUFBQUNnWWtBQUFBQUFBTUJpUUFBQUFBQUF3R0pBOWloY2o4SU5ZMEFBQUFBQUFFQmpRQUFBQUFBQVlHTkFBQUFBQUFDQVkwQUFBQUFBQUFCa1FBQUFBQUFBb0dSQUFBQUFBQUJnWmtBQUFBQUFBS0JuUUE9PSIsImR0eXBlIjoiZmxvYXQ2NCIsInNoYXBlIjpbMTc5XX0sImluZGV4IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MSw5Miw5Myw5NCw5NSw5Niw5Nyw5OCw5OSwxMDAsMTAxLDEwMiwxMDMsMTA0LDEwNSwxMDYsMTA3LDEwOCwxMDksMTEwLDExMSwxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDEyMywxMjQsMTI1LDEyNiwxMjcsMTI4LDEyOSwxMzAsMTMxLDEzMiwxMzMsMTM0LDEzNSwxMzYsMTM3LDEzOCwxMzksMTQwLDE0MSwxNDIsMTQzLDE0NCwxNDUsMTQ2LDE0NywxNDgsMTQ5LDE1MCwxNTEsMTUyLDE1MywxNTQsMTU1LDE1NiwxNTcsMTU4LDE1OSwxNjAsMTYxLDE2MiwxNjMsMTY0LDE2NSwxNjYsMTY3LDE2OCwxNjksMTcwLDE3MSwxNzIsMTczLDE3NCwxNzUsMTc2LDE3NywxNzhdLCJsYWJlbCI6WyJBbGVyaWEiLCJaYWdhcm9sbyIsIkJlcm4iLCJSb3NlbGxlIiwiRHVyYSIsIkNoYXJ0ZXJob3VzZSIsIlRoYXJyb3MiLCJUb21lbiB5IE11ciIsIlZlbGxlaWEiLCJDaW1pZXoiLCJIZW5jaGlyIERvdWFtYSIsIk1pY2lhIiwiQWluIFRvdW5nYSIsIkRyZXZhbnQiLCJUaWdhdmEgQ2FzdHJhIiwiU2lkaSBib3UgQXJrb3ViIiwiQWluIEhlZGphaCIsIlN1c2EiLCJDaGVtdG91IiwiR2VuemFubyIsIlRoaWJhcmkiLCJDYWVyd2VudCIsIk1hY3RhcmlzIiwiQXVyZWxpdW0gQ29tbW9kaWFudW0iLCJEamVyYmEiLCJGZXJlbnRvIiwiVWxpc2lwcGlyYSIsIkNhcnRoYWdvIE5vdmEiLCJNYXJjaWFub3BvbGlzIiwiQXF1YWUgTmVyaSIsIkNoaWNoZXN0ZXIiLCJNZWdpZGRvIiwiTmV3c3RlYWQiLCJFbGV1dGhlcm9wb2xpcyIsIkdlbWVsbGFlIiwiU2JlaXRsYSIsIlR1c2N1bHVtIiwiQ2l2aWRhdGUgQ2FtdW5vIiwiVGVyYW1vIiwiVGh1YnVyYm8gTWFpdXMiLCJPcmRvbmEiLCJCdWxsYSBSZWdpYSIsIlNlZ29icmlnYSIsIlNlcmVzc2kiLCJTdXRyaXVtIiwiVGlwYXNhIiwiU2tpa2RhIiwiTGlsbGVib25uZSIsIkZyb3Npbm9uZSIsIlBhZXN0dW0iLCJTaW51ZXNzYSIsIk1hdW1idXJ5IiwiVm9sdGVycmEiLCJCZWthbHRhIiwiU2lsY2hlc3RlciIsIkJ1cm51bSIsIkJldmFnbmEiLCJDYWVybGVvbiIsIkxlcHRpbWludXMiLCJTcGVsbG8iLCJSdWdnZSIsIlRlYmVzc2EiLCJDYXNzaW5vIiwiUG9yb2xpc3N1bSIsIkdvcnR5biIsIlZpbWluYWNpdW0iLCJUaWJ1ciIsIkVtcHVyaWVzIiwiQXF1aW5jdW0gKENpdmlsaWFuKSIsIkNhcnN1bGFlIiwiTHVuYSIsIlNhcm1pemVnZXR1c2EiLCJGYWxlcmlpIE5vdmkiLCJBbXBoLiBDYXN0cmVuc2UiLCJSb2NjZWxsZXR0YSBkaSBCb3JnaWEiLCJMaWJhcm5hIiwiRmFsZXJvbmUiLCJQdG9sZW1haXMiLCJTYW4gVml0dG9yaW5vIiwiVGhhZW5hZSIsIlNlbmxpcyIsIlRvZGkiLCJBY2hvbGxhIiwiR3J1bWVudG8iLCJDYXRpbmlhIiwiVGh5c2RydXMgKFNtLikiLCJDYWdsaWFyaSIsIkNvbmltYnJpZ2EiLCJUZXJuaSIsIlRhcnJhZ29uYSIsIkNoZXN0ZXIiLCJWaXJ1bnVtIiwiVXRoaW5hIiwiSXZyZWEiLCJYYW50ZW4iLCJGbGF2aWEgU29sdmEiLCJUZXJtaW5pIiwiVXJicyBTYWx2aWEiLCJWZW5vc2EiLCJMYXJpbiIsIkJhcmFydXMiLCJDb3JpbnRoIiwiU3Vhc2EiLCJDYXJudW50dW0gKE1pbC4pIiwiTG9uZG9uIiwiU2ljY2EgVmVuZXJpYSIsIlRyaWVyIiwiU2FuIEJlbmVkZXR0byIsIkxlY2NlIiwiQXVnc3QiLCJQYWR1YSIsIkFsYmEgRnVjZW5zIiwiQXVndXN0YSBCYWdpZW5ub3J1bSIsIkxhbWJhZXNpcyIsIkx5b24iLCJBbGxpZmFlIiwiQWJlbGxhIiwiQm91cmdlcyIsIkltb2xhIiwiUG9pdGllcnMiLCJBbmF6YXJidXMiLCJBcmV6em8iLCJCZXNhblx1MDBlN29uIiwiVG91bG91c2UiLCJBbmNvbmEiLCJUZWxlc2lhIiwiVmluZG9uaXNzYSIsIkZyXHUwMGU5anVzIiwiQ3VtYWUiLCJBcXVpbm8iLCJTcG9sZXRvIiwiU2FicmF0aGEiLCJBbGJhbmEiLCJSaW1pbmkiLCJPY3RvZG9ydXMiLCJVdGljYSIsIk9jcmljdWxjdW0iLCJQb2xsZW56byIsIkNhcnRoYWdlIiwiTGVwdGlzIE1hZ25hIiwiTmFyYm9ubmUiLCJGbG9yZW5jZSIsIkx1Y2NhIiwiU2Fsb25hIiwiTm9jZXJhIiwiTVx1MDBlOXJpZGEiLCJTYWludGVzIiwiTHVjZXJhIiwiQ2FybnVudHVtIChDaXYuKSIsIk1pbnR1cm5vIiwiQXF1aW5jdW0gKE1pbGl0YXJ5KSIsIlBcdTAwZTlyaWd1ZXV4IiwiQm9yZGVhdXgiLCJEdXJyXHUwMGVicyIsIlB1bGEiLCJOaW1lcyIsIkNhZXNhcmVhIiwiUG9tcGVpaSIsIkFybGVzIiwiQmVyZ2FtYSIsIkNhbm9zYSIsIkFxdWlsZWlhIiwiQWx0aW51bSIsIkNoZXJjaGVsIiwiU3lyYWN1c2UiLCJUaHlzZHJ1cyAobGcuKSIsIkFzY29saSIsIk1ldHoiLCJQb3p6dW9saSAoRmxhdmlhbikiLCJBb3N0YSIsIkN5emljdXMiLCJWZXJvbmEiLCJBdXR1biIsIk1pbGFuIiwiVG91cnMiLCJJdGFsaWNhIiwiQ2FwdWEgSUkiLCJHcmFuZCIsIkNvbG9zc2V1bSJdfSwic2VsZWN0ZWQiOm51bGwsInNlbGVjdGlvbl9wb2xpY3kiOm51bGx9LCJpZCI6IjZmNjk0MjA1LTBhYzgtNDY4OS05NDRiLWVhMWQzOGQ1ZmExNiIsInR5cGUiOiJDb2x1bW5EYXRhU291cmNlIn0seyJhdHRyaWJ1dGVzIjp7ImFjdGl2ZV9kcmFnIjoiYXV0byIsImFjdGl2ZV9pbnNwZWN0IjoiYXV0byIsImFjdGl2ZV9zY3JvbGwiOiJhdXRvIiwiYWN0aXZlX3RhcCI6ImF1dG8iLCJ0b29scyI6W3siaWQiOiI1YTJjNGM3MS1iY2NkLTRmNmMtYTMxMi00ZjgwNzRkN2ZiZTIiLCJ0eXBlIjoiSG92ZXJUb29sIn0seyJpZCI6IjM3NTdlMjU1LTc0NDAtNGUxNi04YWVmLWM5YTExYTcyNzMxYSIsInR5cGUiOiJTYXZlVG9vbCJ9LHsiaWQiOiJiY2Q1YjllMi0yYWYxLTRiZmQtOGYxZS0yMDI5Mjc4MjkxNDkiLCJ0eXBlIjoiUGFuVG9vbCJ9LHsiaWQiOiI5YTRhMWYyOS0wMjNlLTRjMGMtOGY1ZC1hNTAwMDU2ZDhlNTkiLCJ0eXBlIjoiV2hlZWxab29tVG9vbCJ9LHsiaWQiOiJiNGVmZGY5My04NTljLTQ5OTgtYmVkOS1kMTY2NTZjNWY0NDQiLCJ0eXBlIjoiQm94Wm9vbVRvb2wifSx7ImlkIjoiMzdmYzAxOTAtN2U2Zi00NDdkLWJkOGEtMDU2YWM2NDIxYjU5IiwidHlwZSI6IlJlc2V0VG9vbCJ9XX0sImlkIjoiMmM0MWRjMWQtZDZlOS00MDdlLTgwYzEtNDNiZTUzNDMwZTdkIiwidHlwZSI6IlRvb2xiYXIifSx7ImF0dHJpYnV0ZXMiOnsiZmlsbF9hbHBoYSI6eyJ2YWx1ZSI6MC4yfSwiZmlsbF9jb2xvciI6eyJ2YWx1ZSI6IiMzMGEyZGEifSwibGluZV9hbHBoYSI6eyJ2YWx1ZSI6MC4yfSwibGluZV9jb2xvciI6eyJ2YWx1ZSI6IiMzMGEyZGEifSwic2l6ZSI6eyJ1bml0cyI6InNjcmVlbiIsInZhbHVlIjoyLjQ0OTQ4OTc0Mjc4MzE3OH0sIngiOnsiZmllbGQiOiJpbmRleCJ9LCJ5Ijp7ImZpZWxkIjoiZXh0bWFqb3IifX0sImlkIjoiOGYzMjUxYTktMzY4Ni00OWM4LWIyYjEtZWZlMjNjMTZiOTZiIiwidHlwZSI6IkNpcmNsZSJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiZTU4NTkzODUtYWE5Ni00OThkLTljYWMtMDU0YTY4YjM5ZGFmIiwidHlwZSI6IkJhc2ljVGlja0Zvcm1hdHRlciJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiMzg5MmZiYjMtOTU3ZS00ZDQ3LWI3OWItMTg4YmQ5YTZiMTdlIiwidHlwZSI6IkJhc2ljVGlja0Zvcm1hdHRlciJ9LHsiYXR0cmlidXRlcyI6e30sImlkIjoiMDRiMDkxMWUtZTZiNi00MTU4LWFjM2MtYmYzZjc3ZDhiNDMyIiwidHlwZSI6IkxpbmVhclNjYWxlIn0seyJhdHRyaWJ1dGVzIjp7ImRhdGFfc291cmNlIjp7ImlkIjoiNmY2OTQyMDUtMGFjOC00Njg5LTk0NGItZWExZDM4ZDVmYTE2IiwidHlwZSI6IkNvbHVtbkRhdGFTb3VyY2UifSwiZ2x5cGgiOnsiaWQiOiJiNjNhYjY5ZC0yOThjLTQ4NzUtOGUxZS1mYTRmZTc0NjFiYWIiLCJ0eXBlIjoiQ2lyY2xlIn0sImhvdmVyX2dseXBoIjpudWxsLCJtdXRlZF9nbHlwaCI6eyJpZCI6IjhmMzI1MWE5LTM2ODYtNDljOC1iMmIxLWVmZTIzYzE2Yjk2YiIsInR5cGUiOiJDaXJjbGUifSwibm9uc2VsZWN0aW9uX2dseXBoIjp7ImlkIjoiOTVmYzVhNTgtMDhmNi00NmQwLTg4M2UtMGVmOGM4MTQ4YzFmIiwidHlwZSI6IkNpcmNsZSJ9LCJzZWxlY3Rpb25fZ2x5cGgiOm51bGwsInZpZXciOnsiaWQiOiI3ODM4YmE2Zi1iMzhlLTQ4ZmMtYmU4ZC03NWFhYTEyZWVhMmEiLCJ0eXBlIjoiQ0RTVmlldyJ9fSwiaWQiOiJjMjEzMDI4Mi05MmZmLTQxMDktYTEwOC05ZjFiNDlkOTQ4YmMiLCJ0eXBlIjoiR2x5cGhSZW5kZXJlciJ9LHsiYXR0cmlidXRlcyI6eyJncmlkX2xpbmVfY29sb3IiOnsidmFsdWUiOm51bGx9LCJwbG90Ijp7ImlkIjoiMjdkNmE4NDEtMzM0MC00MjdjLWE4NjYtZjExMTgyZGYwYTYxIiwic3VidHlwZSI6IkZpZ3VyZSIsInR5cGUiOiJQbG90In0sInRpY2tlciI6eyJpZCI6IjI2Mzk4NDZhLTAzNTItNDIxMS1hZWEwLTFhNmRjY2YzMjU4ZSIsInR5cGUiOiJCYXNpY1RpY2tlciJ9fSwiaWQiOiIwNjJjYzY0Yi00NjIyLTRkY2EtYWY5My1mZDBhMDI0Y2YxOWQiLCJ0eXBlIjoiR3JpZCJ9LHsiYXR0cmlidXRlcyI6eyJheGlzX2xhYmVsIjoiaW5kZXgiLCJib3VuZHMiOiJhdXRvIiwiZm9ybWF0dGVyIjp7ImlkIjoiZTU4NTkzODUtYWE5Ni00OThkLTljYWMtMDU0YTY4YjM5ZGFmIiwidHlwZSI6IkJhc2ljVGlja0Zvcm1hdHRlciJ9LCJtYWpvcl9sYWJlbF9vcmllbnRhdGlvbiI6Imhvcml6b250YWwiLCJwbG90Ijp7ImlkIjoiMjdkNmE4NDEtMzM0MC00MjdjLWE4NjYtZjExMTgyZGYwYTYxIiwic3VidHlwZSI6IkZpZ3VyZSIsInR5cGUiOiJQbG90In0sInRpY2tlciI6eyJpZCI6IjI2Mzk4NDZhLTAzNTItNDIxMS1hZWEwLTFhNmRjY2YzMjU4ZSIsInR5cGUiOiJCYXNpY1RpY2tlciJ9fSwiaWQiOiI0MzBhNGJlNy1iOTA5LTQ4ZDEtYmE3ZC1lYjFmZjA4YzJlZWYiLCJ0eXBlIjoiTGluZWFyQXhpcyJ9LHsiYXR0cmlidXRlcyI6eyJjYWxsYmFjayI6bnVsbCwiZW5kIjoxNzh9LCJpZCI6Ijk4OTczOTE2LWI3MGYtNDgxNC04NzQyLWExYTc3NDY5ZTE5YyIsInR5cGUiOiJSYW5nZTFkIn0seyJhdHRyaWJ1dGVzIjp7fSwiaWQiOiIyNjM5ODQ2YS0wMzUyLTQyMTEtYWVhMC0xYTZkY2NmMzI1OGUiLCJ0eXBlIjoiQmFzaWNUaWNrZXIifSx7ImF0dHJpYnV0ZXMiOnsic291cmNlIjp7ImlkIjoiNmY2OTQyMDUtMGFjOC00Njg5LTk0NGItZWExZDM4ZDVmYTE2IiwidHlwZSI6IkNvbHVtbkRhdGFTb3VyY2UifX0sImlkIjoiNzgzOGJhNmYtYjM4ZS00OGZjLWJlOGQtNzVhYWExMmVlYTJhIiwidHlwZSI6IkNEU1ZpZXcifSx7ImF0dHJpYnV0ZXMiOnsiYXhpc19sYWJlbCI6ImV4dG1ham9yIiwiYm91bmRzIjoiYXV0byIsImZvcm1hdHRlciI6eyJpZCI6IjM4OTJmYmIzLTk1N2UtNGQ0Ny1iNzliLTE4OGJkOWE2YjE3ZSIsInR5cGUiOiJCYXNpY1RpY2tGb3JtYXR0ZXIifSwibWFqb3JfbGFiZWxfb3JpZW50YXRpb24iOiJob3Jpem9udGFsIiwicGxvdCI6eyJpZCI6IjI3ZDZhODQxLTMzNDAtNDI3Yy1hODY2LWYxMTE4MmRmMGE2MSIsInN1YnR5cGUiOiJGaWd1cmUiLCJ0eXBlIjoiUGxvdCJ9LCJ0aWNrZXIiOnsiaWQiOiJiYzQxYWJiZC04NmNkLTRlMmUtYTBiZC04Yzc1NjNkZDRiMTciLCJ0eXBlIjoiQmFzaWNUaWNrZXIifX0sImlkIjoiNWI4Y2YwZDQtYTc2Mi00ODEzLWFhZmEtYTZlYmZjZTZlODE4IiwidHlwZSI6IkxpbmVhckF4aXMifSx7ImF0dHJpYnV0ZXMiOnt9LCJpZCI6ImJjNDFhYmJkLTg2Y2QtNGUyZS1hMGJkLThjNzU2M2RkNGIxNyIsInR5cGUiOiJCYXNpY1RpY2tlciJ9LHsiYXR0cmlidXRlcyI6eyJkaW1lbnNpb24iOjEsImdyaWRfbGluZV9jb2xvciI6eyJ2YWx1ZSI6bnVsbH0sInBsb3QiOnsiaWQiOiIyN2Q2YTg0MS0zMzQwLTQyN2MtYTg2Ni1mMTExODJkZjBhNjEiLCJzdWJ0eXBlIjoiRmlndXJlIiwidHlwZSI6IlBsb3QifSwidGlja2VyIjp7ImlkIjoiYmM0MWFiYmQtODZjZC00ZTJlLWEwYmQtOGM3NTYzZGQ0YjE3IiwidHlwZSI6IkJhc2ljVGlja2VyIn19LCJpZCI6IjVjYWVmYzkzLWVhMzYtNDUwMS04ZmFmLTlmYTE4Y2YxNGFjYyIsInR5cGUiOiJHcmlkIn1dLCJyb290X2lkcyI6WyIyN2Q2YTg0MS0zMzQwLTQyN2MtYTg2Ni1mMTExODJkZjBhNjEiXX0sInRpdGxlIjoiQm9rZWggQXBwbGljYXRpb24iLCJ2ZXJzaW9uIjoiMC4xMi4xNSJ9fTsKICB2YXIgcmVuZGVyX2l0ZW1zID0gW3siZG9jaWQiOiIzMjMwMjg1Yy1mYjcyLTRiNjktYTIwMS04N2FjOTVmYTYzNjEiLCJlbGVtZW50aWQiOiIzZTNhY2I5MC0wNDJhLTQ0OWUtYjMyOC0wNTlkMWE3NjlkM2UiLCJtb2RlbGlkIjoiMjdkNmE4NDEtMzM0MC00MjdjLWE4NjYtZjExMTgyZGYwYTYxIn1dOwogIHJvb3QuQm9rZWguZW1iZWQuZW1iZWRfaXRlbXNfbm90ZWJvb2soZG9jc19qc29uLCByZW5kZXJfaXRlbXMpOwoKICB9CiAgaWYgKHJvb3QuQm9rZWggIT09IHVuZGVmaW5lZCkgewogICAgZW1iZWRfZG9jdW1lbnQocm9vdCk7CiAgfSBlbHNlIHsKICAgIHZhciBhdHRlbXB0cyA9IDA7CiAgICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbihyb290KSB7CiAgICAgIGlmIChyb290LkJva2VoICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBlbWJlZF9kb2N1bWVudChyb290KTsKICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgfQogICAgICBhdHRlbXB0cysrOwogICAgICBpZiAoYXR0ZW1wdHMgPiAxMDApIHsKICAgICAgICBjb25zb2xlLmxvZygiQm9rZWg6IEVSUk9SOiBVbmFibGUgdG8gcnVuIEJva2VoSlMgY29kZSBiZWNhdXNlIEJva2VoSlMgbGlicmFyeSBpcyBtaXNzaW5nIikKICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgfQogICAgfSwgMTAsIHJvb3QpCiAgfQp9KSh3aW5kb3cpOwo8L3NjcmlwdD4KPC9kaXY+" width="450" style="border:none !important;" height="300"></iframe>')[0];
                popup_3234d1d2426447178228ce64ca25bdee.setContent(i_frame_d0880890786b47728a09d3f0e628c5d5);
            

            circle_marker_fc2080803df34e24a90f8cb9bf329274.bindPopup(popup_3234d1d2426447178228ce64ca25bdee);

            
        
</script>